/*! For license information please see main.ce56a30f.js.LICENSE.txt */
!function(){var e={2711:function(){ace.define("ace/mode/brainchild",(function(e,t,n){var i=e("ace/lib/oop"),r=e("ace/mode/text").Mode,s=e("ace/mode/brainchild_highlight_rules").BrainChildHighlightRules,o=function(){this.HighlightRules=s};i.inherits(o,r),t.Mode=o})),ace.define("ace/mode/brainchild_highlight_rules",(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,s=function(){var e=this.createKeywordMapper({keyword:"abstract|asm|class|const|defer|discard|else|func|function|if|int|label|macro|metamethod|new|params|reserve|return|static|struct|temp|using|var|void|while|virtual","support.function":"putchar|getchar|alloc|free"},"identifier");this.$rules={start:[{token:"comment",regex:/\/\*/,next:[{token:"comment",regex:/\*\//,next:"start"},{defaultToken:"comment"}]},{token:"comment",regex:"//.*$"},{token:"string",regex:'"(?:[^\\\\]|\\\\.)*?"'},{token:"string.char",regex:/'(?:[^\\\\]|\\\\.)+?'/},{token:"constant.numeric",regex:"(?:(?:d{1,10})|(?:0[xX][\\dA-Fa-f]{1,8}))\\b"},{token:"invalid.number",regex:"(?:(?:\\d+)|(?:0x[xX][\\dA-Fa-f]+))\\b"},{token:"keyword.include",regex:/include\b/,next:[{token:"keyword.include",next:"start",regex:/;|$/},{defaultToken:"text.include"}]},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\/|%|\\^|~|<|>|<=|=>|==|~=|=|\\:|\\.\\.\\.|\\.\\."},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+|\\w+"}],directive:[{token:"constant.other.multiline",regex:/\\/},{token:"constant.other.multiline",regex:/.*\\/},{token:"constant.other",regex:"\\s*<.+?>",next:"start"},{token:"constant.other",regex:'\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',next:"start"},{token:"constant.other",regex:"\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",next:"start"},{token:"constant.other",regex:/[^\\\/]+/,next:"start"}]},this.normalizeRules()};i.inherits(s,r),t.BrainChildHighlightRules=s}))},5675:function(e,t,n){e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function e(t,n,i){"string"===typeof t?(2==arguments.length&&(i=n),e.modules[t]||(e.payloads[t]=i,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"===typeof t){var r=s(e,t);if(void 0!=r)return n&&n(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(void 0==c&&i.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},i=function e(t,i){var r=n("",t,i);return void 0==r&&e.original?e.original.apply(this,arguments):r},r=function e(t,n){if(-1!==n.indexOf("!")){var i=n.split("!");return e(t,i[0])+"!"+e(t,i[1])}if("."==n.charAt(0))for(n=t.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&r!=n;){var r=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},s=function(e,i){i=r(e,i);var s=t.modules[i];if(!s){if("function"===typeof(s=t.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0};o=s((function(e,t){return n(i,e,t)}),o,a)||a.exports,t.modules[i]=o,delete t.payloads[i]}s=t.modules[i]=o||s}return s};!function(n){var r=e;n&&(e[n]||(e[n]={}),r=e[n]),r.define&&r.define.packaged||(t.original=r.define,r.define=t,r.define.packaged=!0),r.require&&r.require.packaged||(i.original=r.require,r.require=i,r.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})),String.prototype.repeat||i(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||i(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];void 0!==i&&null!==i&&Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||i(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return r}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var r=this[i];if(e.call(n,r,i,this))return i}})),Array.prototype.includes||i(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||i(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,i=arguments[1]>>0,r=i<0?Math.max(n+i,0):Math.min(i,n),s=arguments[2],o=void 0===s?n:s>>0,a=o<0?Math.max(n+o,0):Math.min(o,n);r<a;)t[r]=e,r++;return t})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function e(i){return e.cancel(),t=setTimeout(n,i||0),e};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),s=i.userAgent||"",o=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isAndroid=s.indexOf("Android")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var s=[],o=0;o<t.length;o++){var a=e(t[o],n,i);a&&s.push(a)}return s}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(o=u;o<t.length;o++)e(t[o],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var s=[];function o(){var e=s;s=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,r){if("undefined"!=typeof document){if(s)if(r)o();else if(!1===r)return s.push([e,n]);if(!i){var a=r;r&&r.getRootNode&&(a=r.getRootNode())&&a!=r||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?o():s||(s=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var s=e&&e.documentElement||document&&document.documentElement;if(!s)return 0;s.appendChild(i);var o=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return o===a&&(a=i.clientWidth),s.removeChild(i),o-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(t.HI_DPI=!1),"undefined"!==typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||"undefined"===typeof l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=s),n=n.slice();for(var o=0;o<n.length&&(n[o](t,this),!t.propagationStopped);o++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var s=r.indexOf(t);-1!=s&&r.splice(s,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,s={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return o('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:o('misspelled option "'+e+'"')}};function o(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,s),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=o,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var i=e("./lib/lang"),r=(e("./lib/oop"),e("./lib/net")),s=e("./lib/dom"),o=e("./lib/app_config").AppConfig;n.exports=t=new o;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&s.useStrictCSP(t)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var s=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(s,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var o=a[t+"Path"];return null==o?o=a.basePath:"/"==i&&(t=i=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,n){return"ace/theme/textmate"==t?n(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(n,i){var s,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{s=e(n)}catch(u){}if(s&&!t.$loading[n])return i&&i(s);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){l(n,(function(e,i){t._emit("load.module",{name:n,module:i});var r=t.$loading[n];t.$loading[n]=null,r.forEach((function(e){e&&e(i)}))}))};if(!t.get("packaged"))return a();r.loadScript(t.moduleUrl(n,o),a),c()}};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.14.0"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./config");r.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var s=function(){return this||"undefined"!=typeof window&&window}();function o(t){if(s&&s.document){r.set("packaged",t||e.packaged||i.packaged||s.define&&n.amdD.packaged);for(var o,a={},l="",c=document.currentScript||document._currentScript,u=(c&&c.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,g=0,m=p.length;g<m;g++){var v=p[g];0===v.name.indexOf("data-ace-")&&(a[(o=v.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var y=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(l=y[1])}}for(var b in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)"undefined"!==typeof a[b]&&r.set(b,a[b])}}i.exports=function(t){r.init=o,t.require=e,t.define=n.amdD},o(!0)})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.PRINTABLE_KEYS[173]="-",n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),s=e("./useragent"),o=null,a=0;function l(){return void 0==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||s.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){u(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,o){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function f(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,s.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!o||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",f,o)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function f(e,t,n){var i=d(t);if(!s.isMac&&o){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),o.altGr){if(3==(3&i))return;o.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;if(17===n&&1===l)1==o[n]&&(a=t.timeStamp);else if(18===n&&3===i&&2===l){t.timeStamp-a<50&&(o.altGr=!0)}}}if((n in r.MODIFIER_KEYS&&(n=-1),!i&&13===n)&&(3===(l="location"in t?t.location:t.keyLocation)&&(e(t,i,-n),t.defaultPrevented)))return;if(s.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}function p(){o=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var r=null;u(e,"keydown",(function(e){r=e.keyCode}),i),u(e,"keypress",(function(e){return f(n,e,r)}),i)}else{var a=null;u(e,"keydown",(function(e){o[e.keyCode]=(o[e.keyCode]||0)+1;var t=f(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),u(e,"keyup",(function(e){o[e.keyCode]=null}),i),o||(p(),u(window,"focus",p))}},"object"==typeof window&&window.postMessage&&!s.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+g++;u(n,"message",(function r(s){s.data==i&&(t.stopPropagation(s),h(n,"message",r),e())})),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else if(this.end.row<e)n={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var s={row:e,column:t};return i.fromPoints(r||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("../lib/dom"),o=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,u=r.isChrome>63,h=400,d=e("../lib/keys"),f=d.KEY_MODS,p=r.isIOS,g=p?/\s/:/\n/,m=r.isMobile;t.TextInput=function(e,t){var n=s.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,y=!1,b=!1,w=!1,C="";m||(n.style.fontSize="1px");var S=!1,x=!1,k="",_=0,A=0,T=0;try{var R=document.activeElement===n}catch(j){}this.setAriaOptions=function(e){e.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete","list"),n.setAttribute("aria-activedescendant",e.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),e.role&&n.setAttribute("role",e.role)},this.setAriaOptions({role:"textbox"}),i.addListener(n,"blur",(function(e){x||(t.onBlur(e),R=!1)}),t),i.addListener(n,"focus",(function(e){if(!x){if(R=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout($):$()}}),t),this.$focusScroll=!1,this.focus=function(){if(C||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(j){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return R},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);b&&r&&(k=n.value="",G()),$()}}));var $=p?function(e){if(R&&(!v||e)&&!w){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=k=i);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==_&&A==r||n.setSelectionRange(4,r),_=4,A=r}}:function(){if(!b&&!w&&(R||L)){b=!0;var e=0,i=0,r="";if(t.session){var s=t.selection,o=s.getRange(),a=s.cursor.row;if(e=o.start.column,i=o.end.column,r=t.session.getLine(a),o.start.row!=a){var l=t.session.getLine(a-1);e=o.start.row<a-1?0:e,i+=l.length+1,r=l+"\n"+r}else if(o.end.row!=a){var c=t.session.getLine(a+1);i=o.end.row>a+1?c.length:i,i+=r.length+1,r=r+"\n"+c}else m&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>h&&(e<h&&i<h?r=r.slice(0,h):(r="\n",e==i?e=i=0:(e=0,i=1)))}var u=r+"\n\n";if(u!=k&&(n.value=k=u,_=A=u.length),L&&(_=n.selectionStart,A=n.selectionEnd),A!=i||_!=e||n.selectionEnd!=A)try{n.setSelectionRange(e,i),_=e,A=i}catch(j){}b=!1}};this.resetSelection=$,R&&t.onFocus();var E=null;this.setInputHandler=function(e){E=e},this.getInputHandler=function(){return E};var L=!1,M=function(e,i){if(L&&(L=!1),y)return $(),e&&t.onPaste(e),y=!1,"";for(var s=n.selectionStart,o=n.selectionEnd,a=_,l=k.length-A,c=e,u=e.length-s,h=e.length-o,d=0;a>0&&k[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&k.length-d>_-1&&k[k.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var f=c.length-d+1;if(f<0&&(a=-f,f=0),c=c.slice(0,f),!i&&!c&&!u&&!a&&!l&&!h)return"";w=!0;var p=!1;return r.isAndroid&&". "==c&&(c="  ",p=!0),c&&!a&&!l&&!u&&!h||S?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),w=!1,k=e,_=s,A=o,T=h,p?"\n":c},I=function(e){if(b)return O();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=M(i,!0);(i.length>500||g.test(r)||m&&_<1&&_==A)&&$()},F=function e(t,n,i){var r=t.clipboardData||window.clipboardData;if(r&&!l){var s=c||i?"Text":"text/plain";try{return n?!1!==r.setData(s,n):r.getData(s)}catch(t){if(!i)return e(t,n,!0)}}},P=function(e,r){var s=t.getCopyText();if(!s)return i.preventDefault(e);F(e,s)?(p&&($(s),v=s,setTimeout((function(){v=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(v=!0,n.value=s,n.select(),setTimeout((function(){v=!1,$(),r?t.onCut():t.onCopy()})))},D=function(e){P(e,!0)},B=function(e){P(e,!1)},N=function(e){var s=F(e);a.pasteCancelled()||("string"==typeof s?(s&&t.onPaste(s,e),r.isIE&&setTimeout($),i.preventDefault(e)):(n.value="",y=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){b||(v?v=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=k.length&&e.value===k&&k&&e.selectionEnd!==A}(n)?m&&n.selectionStart!=_&&$():(t.selectAll(),$()))}),t),i.addListener(n,"input",I,t),i.addListener(n,"cut",D,t),i.addListener(n,"copy",B,t),i.addListener(n,"paste",N,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:B(e);break;case 86:N(e);break;case 88:D(e)}}),t);var O=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(S)return z();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;M(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+A-b.selectionStart+T)}}},G=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",z),e&&I())};function z(){x=!0,n.blur(),n.focus(),x=!1}var W,H=o.delayedCall(O,50).schedule.bind(null,null);function U(){clearTimeout(W),W=setTimeout((function(){C&&(n.style.cssText=C,C=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!S)){e.data&&(b.useTextareaForIME=!1),setTimeout(O,0),t._signal("compositionStart"),t.on("mousedown",z);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=_,t.onCompositionStart(b),b.useTextareaForIME?(k=n.value="",_=0,A=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",O,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(k=n.value),_=A=-1,$()),H()}),t),i.addListener(n,"keydown",H,t),i.addListener(n,"compositionend",G,t),this.getElement=function(){return n},this.setCommandMode=function(e){S=e,n.readOnly=!1},this.setReadOnly=function(e){S||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){L=!0,$(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,o){C||(C=n.style.cssText),n.style.cssText=(o?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(_+A)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=s.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-n.clientHeight-2,d=function(e){s.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(W),r.isWin&&i.capture(t.container,d,U))},this.onContextMenuClose=U;var V=function(e){t.textInput.onContextMenu(e),U()};i.addListener(n,"mouseup",V,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),U()}),t),i.addListener(t.renderer.scroller,"contextmenu",V,t),i.addListener(n,"contextmenu",V,t),p&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var s=function(e){if(document.activeElement===n&&!(r||b||t.$mouseHandler.isMousePressed)&&!v){var i=n.selectionStart,s=n.selectionEnd,o=null,a=0;if(0==i?o=d.up:1==i?o=d.home:s>A&&"\n"==k[s]?o=d.end:i<_&&" "==k[i-1]?(o=d.left,a=f.option):i<_||i==_&&A!=_&&i==s?o=d.left:s>A&&k.slice(0,s).split("\n").length>2?o=d.down:s>A&&" "==k[s-1]?(o=d.right,a=f.option):(s>A||s==A&&A!=_&&i==s)&&(o=d.right),i!==s&&(a|=f.shift),o){if(!t.onCommandKey({},a,o)&&t.commands){o=d.keyCodeToString(o);var l=t.commands.findKeyCommand(a,o);l&&t.execCommand(l)}_=i,A=s,$("")}}};document.addEventListener("selectionchange",s),t.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.$setUserAgentForTests=function(e,t){m=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function s(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,s=e.getButton();return 0!==s?((r.getSelectionRange().isEmpty()||1==s)&&r.selection.moveToPosition(n),void(2==s&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=s(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==o&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&o>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==o&&1==a)i=r.end,t=r.start;else{var l=s(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),s=Date.now();(r>0||s-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,s=r?e.wheelX/r:n.vx,o=r?e.wheelY/r:n.vy;r<550&&(s=(s+n.vx)/2,o=(o+n.vy)/2);var a=Math.abs(s/o),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=i;else if(i-n.allowed<550){Math.abs(s)<=1.5*Math.abs(n.vx)&&Math.abs(o)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=s,n.vy=o,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom"),r="ace_tooltip";function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className=r,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=r,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(s.prototype),t.Tooltip=s})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/event"),o=e("../tooltip").Tooltip;function a(e){o.call(this,e)}r.inherits(a,o),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+s>i&&(t-=20+s),o.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,r,o=e.editor,l=o.renderer.$gutterLayer,c=new a(o.container);function u(){t&&(t=clearTimeout(t)),r&&(c.hide(),r=null,o._signal("hideGutterTooltip",c),o.off("mousewheel",u))}function h(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(o.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=o.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return o.selectAll(),t.preventDefault();e.$clickSelection=o.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(s){var a=s.domEvent.target||s.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return u();r&&e.$tooltipFollowsMouse&&h(s),n=s,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return u();if(t==o.session.getLength()){var s=o.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(s>o.session.documentToScreenRow(a.row,a.column))return u()}if(r!=i){r=i.text.join("<br/>"),c.setHtml(r);var d=i.className;if(d&&c.setClassName(d.trim()),c.show(),o._signal("showGutterTooltip",c),o.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var f=n.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=f.right+"px",p.top=f.bottom+"px"}}}():u()}),50))})),s.addListener(o.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),o),o.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(s.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),s=e("../lib/useragent"),o=200,a=200,l=5;function c(e){var t=e.editor,n=i.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="\xa0";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var c,h,d,f,p,g,m,v,y,b,w,C=t.container,S=0;function x(){var e=g;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,s=!n||e.column!=n.column;!b||r||s?(t.moveCursorToPosition(e),b=i,w={x:h,y:d}):u(w.x,w.y,h,d)>l?b=null:i-b>=a&&(t.renderer.scrollCursorIntoView(),b=null)})(g=t.renderer.screenToTextCoordinates(h,d),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,s=t.renderer.layerConfig.characterWidth,a=t.renderer.scroller.getBoundingClientRect(),l={x:{left:h-a.left,right:a.right-h},y:{top:d-a.top,bottom:a.bottom-d}},c=Math.min(l.x.left,l.x.right),u=Math.min(l.y.top,l.y.bottom),f={row:e.row,column:e.column};c/s<=2&&(f.column+=l.x.left<l.x.right?-3:2),u/r<=1&&(f.row+=l.y.top<l.y.bottom?-1:1);var p=e.row!=f.row,g=e.column!=f.column,m=!n||e.row!=n.row;p||g&&!m?y?i-y>=o&&t.renderer.scrollCursorIntoView(f):y=i:y=null}(g,e)}function k(){p=t.selection.toOrientedRange(),c=t.session.addMarker(p,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(f),x(),f=setInterval(x,20),S=0,r.addListener(document,"mousemove",T)}function _(){clearInterval(f),t.session.removeMarker(c),c=null,t.selection.fromOrientedRange(p),t.isFocused()&&!v&&t.$resetCursorStyle(),p=null,g=null,S=0,y=null,b=null,r.removeListener(document,"mousemove",T)}this.onDragStart=function(e){if(this.cancelDrag||!C.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}p=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),r.setDragImage&&r.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),r.clearData(),r.setData("Text",t.session.getTextRange()),v=!0,this.setState("drag")},this.onDragEnd=function(e){if(C.draggable=!1,v=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;m||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&R(e.dataTransfer))return h=e.clientX,d=e.clientY,c||k(),S++,e.dataTransfer.dropEffect=m=$(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&R(e.dataTransfer))return h=e.clientX,d=e.clientY,c||(k(),S++),null!==A&&(A=null),e.dataTransfer.dropEffect=m=$(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--S<=0&&c)return _(),m=null,r.preventDefault(e)},this.onDrop=function(e){if(g){var n=e.dataTransfer;if(v)switch(m){case"move":p=p.contains(g.row,g.column)?{start:g,end:g}:t.moveText(p,g);break;case"copy":p=t.moveText(p,g,!0)}else{var i=n.getData("Text");p={start:g,end:t.session.insert(g,i)},t.focus(),m=null}return _(),r.preventDefault(e)}},r.addListener(C,"dragstart",this.onDragStart.bind(e),t),r.addListener(C,"dragend",this.onDragEnd.bind(e),t),r.addListener(C,"dragenter",this.onDragEnter.bind(e),t),r.addListener(C,"dragover",this.onDragOver.bind(e),t),r.addListener(C,"dragleave",this.onDragLeave.bind(e),t),r.addListener(C,"drop",this.onDrop.bind(e),t);var A=null;function T(){null==A&&(A=setTimeout((function(){null!=A&&c&&_()}),20))}function R(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function $(e){var t=["copy","copymove","all","uninitialized"],n=s.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function u(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=s.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;s.isIE&&"dragReady"==this.state&&(u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),t.getDragDelay()){if(s.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(c.prototype),t.DragdropHandler=c})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),s=e("../lib/dom");t.addTouchListeners=function(e,t){var n,o,a,l,c,u,h,d,f,p="scroll",g=0,m=0,v=0,y=0;function b(){var e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r=i.target.getAttribute("action");if("more"==r||!n)return n=!n,function(){var i=t.getCopyText(),r=t.session.getUndoManager().hasUndo();f.replaceChild(s.buildDom(n?["span",!i&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],i&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],i&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],r&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),f.firstChild)}();"paste"==r?e.readText().then((function(e){t.execCommand(r,e)})):r&&("cut"!=r&&"copy"!=r||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(r)),f.firstChild.style.display="none",n=!1,"openCommandPallete"!=r&&t.focus()};f=s.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){p="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function w(){f||b();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),i=t.renderer.textToScreenCoordinates(0,0).pageX,r=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();f.style.top=n.pageY-s.top-3+"px",n.pageX-s.left<s.width-70?(f.style.left="",f.style.right="10px"):(f.style.right="",f.style.left=i+r-s.left+"px"),f.style.display="",f.firstChild.style.display="none",t.on("input",C)}function C(e){f&&(f.style.display="none"),t.off("input",C)}function S(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),p="wait",w()}r.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,a=-1,void(p="zoom");d=t.$mouseHandler.isMousePressed=!0;var s=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,f=e.timeStamp;l=f;var b=r[0],w=b.clientX,C=b.clientY;Math.abs(n-w)+Math.abs(o-C)>s&&(a=-1),n=e.clientX=w,o=e.clientY=C,v=y=0;var x=new i(e,t);if(h=x.getDocumentPosition(),f-a<500&&1==r.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=m>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),p="wait"}();else{m=0;var k=t.selection.cursor,_=t.selection.isEmpty()?k:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(k,!0),T=t.renderer.$cursorLayer.getPixelPosition(_,!0),R=t.renderer.scroller.getBoundingClientRect(),$=t.renderer.layerConfig.offset,E=t.renderer.scrollLeft,L=function(e,t){return(e/=u)*e+(t=t/s-.75)*t};if(e.clientX<R.left)return void(p="zoom");var M=L(e.clientX-R.left-A.left+E,e.clientY-R.top-A.top+$),I=L(e.clientX-R.left-T.left+E,e.clientY-R.top-T.top+$);M<3.5&&I<3.5&&(p=M>I?"cursor":"anchor"),p=I<3.5?"anchor":M<3.5?"cursor":"scroll",c=setTimeout(S,450)}a=f}),t),r.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==p?(p="",g=0):c?(t.selection.moveToPosition(h),g=0,w()):"scroll"==p?(g+=60,u=setInterval((function(){g--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),g<20&&(v*=.9),g<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(g=0)}),10),C()):w(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==p)){var s=r[0],a=n-s.clientX,u=o-s.clientY;if("wait"==p){if(!(a*a+u*u>4))return e.preventDefault();p="cursor"}n=s.clientX,o=s.clientY,e.clientX=s.clientX,e.clientY=s.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==p){var f=new i(e,t);f.speed=1,f.wheelX=a,f.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(v=a/d,y=u/d),t._emit("mousewheel",f),f.propagationStopped||(v=y=0)}else{var g=new i(e,t).getDocumentPosition();"cursor"==p?t.selection.moveCursorToPosition(g):"anchor"==p&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,o=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new s(this),new o(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),s=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?s.setCursorStyle("default"):s.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e),n.endOperation()},u=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){o.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=l,o.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,s=r.getFoldAt(n.row,n.column,1);s&&(t.getAccelKey()?r.removeFold(s):r.expandFold(s),t.stop());var o=t.domEvent&&t.domEvent.target;o&&i.hasCssClass(o,"ace_inline_button")&&i.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),s=r.range||r.firstRange;if(s){n=s.start.row;var o=i.getFoldAt(n,i.getLine(n).length,1);o?i.removeFold(o):(i.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),s=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var s,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((s=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&s.command&&((o="null"==s.command||a.exec(s.command,this.$editor,s.args,i))&&i&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(i),o)););return o||-1!=e||(s={command:"insertstring"},o=a.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(s.prototype),t.KeyBinding=s})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,s=!1,o=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=1,h=0,d=1,f=2,p=3,g=4,m=5,v=6,y=7,b=8,w=9,C=10,S=11,x=12,k=13,_=14,A=15,T=16,R=17,$=18,E=[$,$,$,$,$,$,$,$,$,v,m,v,b,m,$,$,$,$,$,$,$,$,$,$,$,$,$,$,m,m,m,v,b,g,g,S,S,S,g,g,g,g,g,C,w,C,w,w,f,f,f,f,f,f,f,f,f,f,w,g,g,g,g,g,g,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,g,g,g,g,g,g,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,g,g,g,g,$,$,$,$,$,$,m,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,w,g,S,S,S,S,g,g,g,g,h,g,g,$,g,g,S,S,f,f,g,h,g,g,g,f,h,g,g,g,g,g],L=[b,b,b,b,b,b,b,b,b,b,b,$,$,$,h,d,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,m,k,_,A,T,R,w,S,S,S,S,S,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,w,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b];function M(e,t,n){if(!(r<e))if(1!=e||i!=u||o)for(var s,a,l,c,h=n.length,d=0;d<h;){if(t[d]>=e){for(s=d+1;s<h&&t[s]>=e;)s++;for(a=d,l=s-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;d=s}d++}else n.reverse()}function I(e,t,n,r){var l,c,u,E,L=t[r];switch(L){case h:case d:s=!1;case g:case p:return L;case f:return s?p:f;case y:return s=!0,!0,d;case b:return g;case w:return r<1||r+1>=t.length||(l=n[r-1])!=f&&l!=p||(c=t[r+1])!=f&&c!=p?g:(s&&(c=p),c==l?c:g);case C:return(l=r>0?n[r-1]:m)==f&&r+1<t.length&&t[r+1]==f?f:g;case S:if(r>0&&n[r-1]==f)return f;if(s)return g;for(E=r+1,u=t.length;E<u&&t[E]==S;)E++;return E<u&&t[E]==f?f:g;case x:for(u=t.length,E=r+1;E<u&&t[E]==x;)E++;if(E<u){var M=e[r],I=M>=1425&&M<=2303||64286==M;if(l=t[E],I&&(l==d||l==y))return d}return r<1||(l=t[r-1])==m?g:n[r-1];case m:return s=!1,o=!0,i;case v:return a=!0,g;case k:case _:case T:case R:case A:s=!1;case $:return g}}function F(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?h:E[t]:5==n?/[\u0591-\u05f4]/.test(e)?d:h:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?x:/[\u0660-\u0669\u066b-\u066c]/.test(e)?p:1642==t?S:/[\u06f0-\u06f9]/.test(e)?f:y:32==n&&t<=8287?L[255&t]:254==n&&t>=65136?y:g}t.L=h,t.R=d,t.EN=f,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,h){if(e.length<2)return{};var f=e.split(""),w=new Array(f.length),C=new Array(f.length),S=[];i=h?u:0,function(e,t,n,u){var h=i?c:l,d=null,f=null,p=null,g=0,y=null,w=-1,C=null,S=null,x=[];if(!u)for(C=0,u=[];C<n;C++)u[C]=F(e[C]);for(r=i,s=!1,!1,o=!1,a=!1,S=0;S<n;S++){if(d=g,x[S]=f=I(e,u,x,S),y=240&(g=h[d][f]),g&=15,t[S]=p=h[g][5],y>0)if(16==y){for(C=w;C<S;C++)t[C]=1;w=-1}else w=-1;if(h[g][6])-1==w&&(w=S);else if(w>-1){for(C=w;C<S;C++)t[C]=p;w=-1}u[S]==m&&(t[S]=0),r|=p}if(a)for(C=0;C<n;C++)if(u[C]==v){t[C]=i;for(var k=C-1;k>=0&&u[k]==b;k--)t[k]=i}}(f,S,f.length,n);for(var x=0;x<w.length;w[x]=x,x++);M(2,S,w),M(1,S,w);for(x=0;x<w.length-1;x++)n[x]===p?S[x]=t.AN:S[x]===d&&(n[x]>y&&n[x]<k||n[x]===g||n[x]===$)?S[x]=t.ON_R:x>0&&"\u0644"===f[x-1]&&/\u0622|\u0623|\u0625|\u0627/.test(f[x])&&(S[x-1]=S[x]=t.R_H,x++);f[f.length-1]===t.DOT&&(S[f.length-1]=t.B),"\u202b"===f[0]&&(S[0]=t.RLE);for(x=0;x<w.length;x++)C[x]=S[w[x]];return{logicalFromVisual:w,bidiLevels:C}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=F(e.charAt(i)),n||t[i]!=d&&t[i]!=y&&t[i]!=p||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[e];s&&(void 0===t&&(t=this.getSplitIndex()),t>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<s.length?this.line.substring(s[t-1],s[t]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[t]),t==s.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var o,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(o="\t"===e?a.getScreenTabSize(t+l):2,l+=o-1,r.stringRepeat(i.DOT,o)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[r]%2!==0&&r++;for(var a=0;a<r;a++)o+=this.charWidths[s[a]];return!this.session.getOverwrite()&&e>t&&s[r]%2===0&&(o+=this.charWidths[s[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,s=[],o=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)d=i.logicalFromVisual[f],n=r[f],(c=d>=a&&d<l)&&!u?h=o:!c&&u&&s.push({left:h,width:o-h}),o+=this.charWidths[n],u=c;if(c&&f===r.length&&s.push({left:h,width:o-h}),this.isRtlDir)for(var p=0;p<s.length;p++)s[p].left+=this.rtlLineOffset;return s},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+s/2;){if(n+=s,i===r.length-1){s=0;break}s=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!==0&&r[i]%2===0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2===0&&r[i]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===s&&r[i-1]%2===0||!this.isRtlDir&&0===i&&r[i]%2!==0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!==0&&0!==s&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(o.prototype),t.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var s=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var s=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<s&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var o=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+o)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var s=r.stringReverse(i),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,n-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var s=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return o.fromPoints(t,n)}catch(i){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,s=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,s=this.matchMappings[t]={defaultToken:"text"},o="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(s.defaultToken=c.defaultToken),c.caseInsensitive&&-1===o.indexOf("i")&&(o+="i"),c.unicode&&-1===o.indexOf("u")&&(o+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),s[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(s[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,o)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",o)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var i=[],r=0,s=n.length;r<s;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,s=i.length;r<s;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,s,o,a,l){return i?i="]"!=a:a?i=!0:o?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",s=this.states[i];s||(i="start",s=this.states[i]);var o=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var f=o.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=e.substring(u,m-g.length);d.type==f?d.value+=v:(d.type&&c.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){f=(p=s[o[y]]).onMatch?p.onMatch(g,i,n,e):p.token,p.next&&(i="string"==typeof p.next?p.next:p.next(i,n),(s=this.states[i])||(this.reportError("state doesn't exist",i),i="start",s=this.states[i]),o=this.matchMappings[i],u=m,(a=this.regExps[i]).lastIndex=m),p.consumeLineEnd&&(u=m);break}if(g)if("string"===typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)c.push(f[y])}if(u==e.length)break;if(u=m,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(s.prototype),t.Tokenizer=s})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var s=i[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(t)&&(s.next=t+s.next),s.nextState&&0!==s.nextState.indexOf(t)&&(s.nextState=t+s.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,s){var o="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],o)r.push(t+l);if(this.addRules(o,t),n){var c=Array.prototype[s?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(s){var o=i[s];o.processed=!0;for(var a=0;a<o.length;a++){var l=o[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,l.next=h,r(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map((function(e){return i[e]})):i[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter((function(e){return!e.next}))),o.splice.apply(o,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var s=e[t].split(i||"|"),o=s.length;o--;){var a=s[o];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},p=function e(t){this.add("braces","insertion",(function(n,r,s,o,l){var c=s.getCursorPosition(),u=o.doc.getLine(c.row);if("{"==l){d(s);var h=s.getSelectionRange(),p=o.doc.getTextRange(h);if(""!==p&&"{"!==p&&s.getWrapBehavioursEnabled())return f(h,p,"{","}");if(e.isSaneInsertion(s,o))return/[\]\}\)]/.test(u[c.column])||s.inMultiSelectMode||t&&t.braces?(e.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(e.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(d(s),"}"==u.substring(c.column,c.column+1))if(null!==o.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&e.isAutoInsertedClosing(c,u,l))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){d(s);var g="";if(e.isMaybeInsertedClosing(c,u)&&(g=a.stringRepeat("}",i.maybeInsertedBrackets),e.clearMaybeInsertedClosing()),"}"===u.substring(c.column,c.column+1)){var m=o.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!m)return null;var v=this.$getIndent(o.getLine(m.row))}else{if(!g)return void e.clearMaybeInsertedClosing();v=this.$getIndent(u)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}e.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(d(n),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,n,i,r,s){if("("==s){d(i);var o=i.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&i.getWrapBehavioursEnabled())return f(o,a,"(",")");if(e.isSaneInsertion(i,r))return e.recordAutoInsert(i,r,")"),{text:"()",selection:[1,1]}}else if(")"==s){d(i);var l=i.getCursorPosition(),c=r.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1))if(null!==r.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,s))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(d(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,n,i,r,s){if("["==s){d(i);var o=i.getSelectionRange(),a=r.doc.getTextRange(o);if(""!==a&&i.getWrapBehavioursEnabled())return f(o,a,"[","]");if(e.isSaneInsertion(i,r))return e.recordAutoInsert(i,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){d(i);var l=i.getCursorPosition(),c=r.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1))if(null!==r.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&e.isAutoInsertedClosing(l,c,s))return e.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(d(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var s=i.$mode.$quotes||h;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var o=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&s[l])&&n.getWrapBehavioursEnabled())return f(a,l,o,o);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),p=u.substring(c.column-1,c.column),g=u.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==o)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var C=i.$mode.tokenRe;C.lastIndex=0;var S=C.test(p);C.lastIndex=0;var x=C.test(p);if(S||x)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var k=u[c.column-2];if(p==o&&(k==o||C.test(k)))return null;y=!0}return{text:y?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var s=i.$mode.$quotes||h,o=i.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(o)&&(d(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r}))};p.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new o(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new o(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+s.substr(r.column),i.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),s=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=s.substr(0,r.column)+n,i.maybeInsertedLineEnd=s.substr(r.column),i.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(p,s),t.CstyleBehaviour=p})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],o=0;o<i.length;o+=2)s.push(r+=i[o]),i[o+1]&&s.push(45,r+=i[o+1]);t.wordChars=String.fromCharCode.apply(null,s)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),r=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,s=!0,o=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0];else g=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),u=t.getUseSoftTabs();y=function(e,t){var n=e.match(g);if(n){var i=n[1].length,s=n[0].length;d(e,i,s)||" "!=n[0][s-1]||s--,r.removeInLine(t,i,s)}};var h=f+" ",d=(v=function(e,t){s&&!/\S/.test(e)||(d(e,a,a)?r.insertInLine({row:t,column:a},h):r.insertInLine({row:t,column:a},f))},b=function(e,t){return g.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),m=new RegExp("(?:"+l.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||s&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},p),r.insertInLine({row:t,column:a},f))},y=function(e,t){var n;(n=e.match(m))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&r.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function w(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var C=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),o&&!b(e,t)&&(o=!1)):C>e.length&&(C=e.length)})),a==1/0&&(a=C,s=!1,o=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),w(o?y:v)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new u(f,p,f,p+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;d=new u(f,p,f,p+r.end.length);break}a=g.stepForward()}d&&t.remove(d),h&&(t.remove(h),s=h.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==s&&(l.start.column+=o),l.end.row==s&&(l.end.column+=o),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,s=i.$modes[r];s||(i.$modes[r]=s=new n),i.$modes[t]||(i.$modes[t]=s),this.$embeds.push(t),this.$modes[t]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<o.length;t++)!function(e){var n=o[t],i=e[n];e[o[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(o=this.$modes[r])return o[e].apply(o,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var o,a=i.split(this.$embeds[s]);if(!a[0]&&a[1])return t[0]=a[1],(o=this.$modes[this.$embeds[s]])[e].apply(o,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],s=0,o=r.length;s<o;s++)if("string"===typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"===typeof r[s].token)for(var a=0,l=r[s].token.length;a<l;a++)if(/keyword|support|storage/.test(r[s].token[a])){i=r[s].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,s=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=s.substring(0,r)+t.lines[0]+s.substring(r);else{var o=[i,1].concat(t.lines);e.splice.apply(e,o),e[i]=s.substring(0,r)+e[i],e[i+t.lines.length-1]+=s.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=s.substring(0,r)+s.substring(a):e.splice(i,l-i+1,s.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if((t.start.row!=t.end.row||t.start.row==this.row)&&!(t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,s=(r?1:-1)*(t.end.row-t.start.row),o=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;if(e(n,a,i))return{row:n.row,column:n.column};if(e(l,n,!i))return{row:n.row+s,column:n.column+(n.row==l.row?o:0)};return{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(s.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new o(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return void 0==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,s=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof o||(e=o.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!o.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,s=e.start.column,o=0,a=0;o<i;o=a){a+=t-1;var l=n.slice(o,a);l.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+a,s=0),action:e.action,lines:l},!0)}e.lines=n.slice(o),e.start.row=r+o,e.start.column=s,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,s=n.length;r<s;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:s-1,column:e+n[s-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,s=Math.min(e.row,n.length),o=t||0;o<s;++o)r+=n[o].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,s=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,s=t;n.lines[t];)t++;var o=r.getLength(),a=0;for(n.running=!1;t<o;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),s<=i&&n.fireUpdateEvent(s,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(s.prototype),t.BackgroundTokenizer=s})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),s=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,s){if(this.regExp)for(var o=s.firstRow,a=s.lastRow,l={},c=o;c<=a;c++){var u=this.cache[c];null==u&&((u=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(u=u.slice(0,this.MAX_RANGES)),u=u.map((function(e){return new r(c,e.offset,c,e.offset+e.length)})),this.cache[c]=u.length?u:"");for(var h=u.length;h--;){var d=u[h].toScreenRange(n),f=d.toString();l[f]||(l[f]=!0,t.drawSingleLineMarker(e,d,this.clazz,s))}}}}).call(s.prototype),t.SearchHighlight=s})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,s=0,o=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<o.length;l++){if(-1==(r=(i=o[l]).range.compareStart(t,n)))return void e(null,t,n,s,a);if(!e(null,i.start.row,i.start.column,s,a)&&e(i.placeholder,i.start.row,i.start.column,s)||0===r)return;a=!i.sameRow,s=i.end.column}e(null,t,n,s,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,s=this.getNextFoldTo(e,t);if(s)if(i=s.fold,"inside"==s.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var o=(r=this.folds).indexOf(i);for(0===o&&(this.start.column+=n);o<r.length;o++){if((i=r[o]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,s=this.folds,o=this.foldData,a=s.indexOf(i),l=s[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new r(o,s=s.splice(a,s.length-a));return o.splice(o.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,s=n||0;s<r.length;s++){var o=r[s],a=i(e,o.end);if(!(a>0)){var l=i(e,o.start);return 0===a?t&&0!==l?-s-2:s:l>0||0===l&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],s=1;s<n.length;s++){e=r,r=n[s];var o=i(e.end,r.start);o<0||(0!=o||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(s,1),t.push(r),r=e,s--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var s=[],o=i;o<r;o++)s.push(n[o]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,s=this.ranges,o=0,a=s.length;o<a;o++){if((u=s[o]).end.row>=i)break}if("insert"==e.action)for(var l=r-i,c=-t.column+n.column;o<a;o++){if((u=s[o]).start.row>i)break;if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&o<a-1&&u.end.column>u.start.column&&u.end.column==s[o+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;o<a;o++){if((u=s[o]).start.row>r)break;u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l)}if(0!=l&&o<a)for(;o<a;o++){var u;(u=s[o]).start.row+=l,u.end.row+=l}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,r=e("../lib/oop"),s=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function o(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(s,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new s(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,o(t.start,n),o(t.end,n);for(var i=e.start.row,r=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(i,r));s++);var l=this.subFolds[s],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=s;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(i,r));u++);0==a&&u++;for(var h=this.subFolds.splice(s,u-s,e),d=0==a?h.length-1:h.length,f=c;f<d;f++)e.addSubFold(h[f]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(s.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,s=e("./fold").Fold,o=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,s=0;s<r.length;s++){var o=r[s].range;if(o.contains(e,t)){if(1==n&&o.isEnd(e,t)&&!o.isEmpty())continue;if(-1==n&&o.isStart(e,t)&&!o.isEmpty())continue;return r[s]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var s=0;s<i.length;s++){var o=i[s].range.compareRange(e);if(2!=o){if(-2==o)break;for(var a=i[s].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(o=c.range.compareRange(e)))break;if(2!=o){if(42==o)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,s,o={end:{column:0}},a=0;a<i.folds.length;a++){var l=(s=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===l)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,t-o.end.column):1==n?r.substring(t-o.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,a=s.start.row;if(o>=t){a<t&&(a>=e?i-=t-a:i=0);break}o>=e&&(i-=a>=e?o-a:o-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,o=!1;e instanceof s?n=e:(n=new s(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),n.collapseChildren||f.forEach((function(e){n.addSubFold(e)})));for(var p=0;p<i.length;p++){var g=i[p];if(c==g.start.row){g.addFold(n),o=!0;break}if(a==g.end.row){if(g.addFold(n),o=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return o||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,s=t.folds;if(1==s.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))s.pop(),t.end.row=s[s.length-1].end.row,t.end.column=s[s.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))s.shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column;else if(e.sameRow)s.splice(s.indexOf(e),1);else{var o=t.split(e.start.row,e.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;n=e}for(var s=r=this.getFoldsInRangeList(n);1==r.length&&i.comparePoints(r[0].start,n.start)<0&&i.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(r):this.expandFolds(r),s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var s=this.doc,o="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}o+=null!=e?e:s.getLine(t).substring(a,n)}}),t,n),o},this.getDisplayLine=function(e,t,n,i){var r,s=this.getFoldLine(e);return s?this.getFoldDisplayLine(s,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var s=this.getFoldsInRange(i);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var o="...";if(!i.isMultiLine()){if((o=this.getTextRange(i)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,i)}},this.getCommentFoldRange=function(e,t,n){var r=new o(this,e,t),s=r.getCurrentToken(),a=s&&s.type;if(s&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{s=r.stepBackward()}while(s&&l.test(s.type)&&!/^comment.end/.test(s.type));s=r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+(/^comment.start/.test(s.type)?s.value.length:2),r=new o(this,e,t),-1!=n){var u=-1;do{if(s=r.stepForward(),-1==u){var h=this.getState(r.$row);l.test(h)||(u=r.$row)}else if(r.$row>u)break}while(s&&l.test(s.type)&&!/^comment.start/.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn(),/^comment.end/.test(s.type)||(c.end.column+=s.value.length-2),c}},this.foldAll=function(e,t,n,i){void 0==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==r[s]&&(r[s]=this.getFoldWidget(s)),"start"==r[s]&&(!i||i(s))){var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(i||(i=o),o&&o.end.row>=e)break}r--}return{range:-1!==r&&o,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,s=this.getFoldAt(e,-1===r?0:i.length,r);if(s)return t.children||t.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(e,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=o?o.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):o&&(t.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,s=n.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),i=!1),!o)return null;if(o[1]){if(!(a=this.$findClosingBracket(o[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(o[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,s=!t&&n.charAt(e.column-1),o=s&&s.match(i);if(o||(s=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(i)),!o)return null;var a=new r(e.row,e.column-1,e.row,e.column),l=o[1]?this.$findClosingBracket(o[1],e):this.$findOpeningBracket(o[2],e);return l?[a,new r(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else u==e&&(s+=1);l-=1}do{a=o.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],s=1,o=new i(this,t.row,t.column),a=o.getCurrentToken();if(a||(a=o.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-o.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:l+o.getCurrentTokenColumn()}}else h==e&&(s+=1);l+=1}do{a=o.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,s=t.value,o=0,a=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!c){var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(s===(i=t.value))if("<"===n.value)o++;else if("</"===n.value&&--o<0){e.stepBackward();var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var d=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(s===i&&"/>"===t.value&&--o<0)f=d=h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),u=new r(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(t&&o>=0);if(a&&u&&h&&f&&l&&d)return{openTag:new r(a.start.row,a.start.column,u.end.row,u.end.column),closeTag:new r(h.start.row,h.start.column,f.end.row,f.end.column),openTagName:l,closeTagName:d}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,s=0,o=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new r(o,a,o,l);e.stepForward();var u=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var h=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,o=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++s>0){var d=new r(o,a,o,l),f=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var p=new r(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&s--}else if("/>"===t.value){for(var g=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){s--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var v=0;v<g;v++)e.stepForward()}}while(n&&s<=0);return f&&p&&c&&h&&d&&u?{openTag:new r(f.start.row,f.start.column,p.end.row,p.end.column),closeTag:new r(c.start.row,c.start.column,h.end.row,h.end.column),openTagName:d,closeTagName:u}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),s=e("./bidihandler").BidiHandler,o=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function e(t,n){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var i=this;this.bgTokenizer.on("update",(function(e){i._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(n),o._signal("session",this),this.destroyed=!1};p.$uid=0,function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,s=e[r];if(t>s)n=r+1;else{if(!(t<s))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var s=i.length-1;r=this.getLine(e).length}else for(s=0;s<i.length&&!((r+=i[s].value.length)>=t);s++);return(n=i[s])?(n.index=s,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,s={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))r=/\s/;else r=this.nonTokenRe;var s=t;if(s>0){do{s--}while(s>=0&&n.charAt(s).match(r));s++}for(var o=t;o<n.length&&n.charAt(o).match(r);)o++;return new u(e,s,e,o)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,o.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>o){if((l=s.end.row+1)>=a)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,s=0;s<e.length;s++){var o=e[s];o.start&&(i?n(o)?(r=o.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=o.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=o.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(o.start,o.start))):i=n(o)?u.fromPoints(o.start,o.end):u.fromPoints(o.start,o.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),s=u.fromPoints(t,t);if(!n){this.remove(e);var o=e.start.row-e.end.row;(c=o?-e.end.column:e.start.column-e.end.column)&&(s.start.row==e.end.row&&s.start.column>e.end.column&&(s.start.column+=c),s.end.row==e.end.row&&s.end.column>e.end.column&&(s.end.column+=c)),o&&s.start.row>=e.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,i),r.length){var a=e.start,l=s.start,c=(o=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=o,e.end.row+=o,e})))}return s},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<i&&" "==s.charAt(o);++o);o<i&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else{e=this.$clipRowToDocument(e);i=(t=this.$clipRowToDocument(t))-e+1}var s=new u(e,0,t,Number.MAX_VALUE),o=this.getFoldsInRange(s).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),o.length&&this.addFolds(o),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,s=i.row,o=r.row,a=o-s,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(s,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var h=this.getFoldLine(s);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=r.row&&g.shiftRow(-a)}o=s}else{var d=Array(a);d.unshift(s,0);var f=t?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,u=0;if(g=this.getFoldLine(s)){var p=g.range.compareInside(i.row,i.column);0==p?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(o,0,r.column-i.column)):-1==p&&(g.addRemoveChars(s,0,r.column-i.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=s&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(s))&&g.addRemoveChars(s,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,s,o=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(i=Math.min(i,o.length-1);u<=i;)(s=this.getFoldLine(u,s))?(r=[],s.walk(function(n,i,s,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,r.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(o[i].substring(a,s),r.length);r=r.concat(l)}.bind(this),s.end.row,o[s.end.row].length+1),l[s.start.row]=this.$computeWrapSplits(r,c,a),u=s.end.row+1):(r=this.$getDisplayTokens(o[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var e=3,t=4,n=10,s=11,l=12;function h(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(i,r,o){if(0==i.length)return[];var a=[],c=i.length,u=0,h=0,d=this.$wrapAsCode,f=this.$indentedSoftWrap,p=r<=Math.max(2*o,8)||!1===f?0:Math.floor(r/2);function g(e){for(var t=e-u,r=u;r<e;r++){var c=i[r];12!==c&&2!==c||(t-=1)}a.length||(m=function(){var e=0;if(0===p)return e;if(f)for(var t=0;t<i.length;t++){var r=i[t];if(r==n)e+=1;else{if(r!=s){if(r==l)continue;break}e+=o}}return d&&!1!==f&&(e+=o),Math.min(e,p)}(),a.indent=m),h+=t,a.push(h),u=e}for(var m=0;c-u>r-m;){var v=u+r-m;if(i[v-1]>=n&&i[v]>=n)g(v);else if(i[v]!=e&&i[v]!=t){for(var y=Math.max(v-(r-(r>>2)),u-1);v>y&&i[v]<e;)v--;if(d){for(;v>y&&i[v]<e;)v--;for(;v>y&&9==i[v];)v--}else for(;v>y&&i[v]<n;)v--;v>y?g(++v):(2==i[v=u+r]&&v--,g(v-m))}else{for(;v!=u-1&&i[v]!=e;v--);if(v>u){g(v);continue}for(v=u+r;v<i.length&&i[v]==t;v++);if(v==i.length)break;g(v)}}return a},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);if(9==a){i=this.getScreenTabSize(r.length+t),r.push(s);for(var c=1;c<i;c++)r.push(l)}else 32==a?r.push(n):a>39&&a<48||a>57&&a<64?r.push(9):a>=4352&&h(a)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var i,r;for(null==t&&(t=1/0),n=n||0,r=0;r<e.length&&(9==(i=e.charCodeAt(r))?n+=this.getScreenTabSize(n):i>=4352&&h(i)?n+=2:n+=1,!(n>t));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,s=0,o=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],s=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(s),g=p?p.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(s))>e||s>=f);)a+=l,++s>g&&(s=p.end.row+1,g=(p=this.getNextFoldLine(s,p))?p.start.row:1/0),d&&(this.$docRowCache.push(s),this.$screenRowCache.push(a));if(p&&p.start.row<=s)i=this.getFoldDisplayLine(p),s=p.start.row;else{if(a+l<=e||s>f)return{row:f,column:this.getLine(f).length};i=this.getLine(s),p=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[s];y&&(r=y[v],v>0&&y.length&&(m=y.indent,o=y[v-1]||y[y.length-1],i=i.substring(o)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,s,v)&&(t=this.$bidiHandler.offsetToCol(n)),o+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),p?p.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,s=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var o,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;a<e;){if(a>=f){if((o=d.end.row+1)>e)break;f=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),s=d.start.row):(p=this.getLine(e).substring(0,t),s=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var s=this.$wrapData[i];e+=s?s.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var o=this.$foldData,a=0;a<o.length;a++)e-=(t=o[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,s;for(n||(n=1/0),i=i||0,s=0;s<t.length&&!((i+="\t"===(r=t.charAt(s))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);s++);return[i,s]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=h}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),s=e("./range").Range,o=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,o){return i=new s(e,n,r,o),!(n==o&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start))||(i=null,!1)})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var f=r[h],p=r[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(o.push(l=new s(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,C=n.end.column;for(v=0,d=o.length-1;v<d&&o[v].start.column<w&&0==o[v].start.row;)v++;for(var S=n.end.row-n.start.row;v<d&&o[d].end.column>C&&o[d].end.row==S;)d--;for(o=o.slice(v,d+1),v=0,d=o.length;v<d;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var o=e[s];o&&o.toLowerCase()!=o?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var s=new RegExp(n,r)}catch(o){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(s){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,s=t.range,o=t.start;o||(o=s?s[i?"end":"start"]:e.selection.getRange()),o.start&&(o=o[r!=i?"end":"start"]);var a=s?s.start.row:0,l=s?s.end.row:e.getLength()-1;if(i)var c=function(e){var n=o.row;if(!h(n,o.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=o.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=o.row;if(!h(n,o.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=o.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,r,s){var o=i?t-u+1:t;if(!(o<0||o+u>e.getLength())){var a=e.getLine(o),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(o+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!s(o,l,o+u-1,h)||void 0}}};else if(i)h=function(t,i,r){var s,o=e.getLine(t),a=[],l=0;for(n.lastIndex=0;s=n.exec(o);){var c=s[0].length;if(l=s.index,!c){if(l>=o.length)break;n.lastIndex=l+=1}if(s.index+c>i)break;a.push(s.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(r(t,h,t,h+(c=a[u])))return!0}};else h=function(t,i,r){var s,o,a=e.getLine(t);for(n.lastIndex=i;o=n.exec(a);){var l=o[0].length;if(r(t,s=o.index,t,s+l))return!0;if(!l&&(n.lastIndex=s+=1,s>=a.length))return!1}};return{forEach:c}}}).call(o.prototype),t.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),s=i.KEY_MODS;function o(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){o.call(this,e,t),this.$singleCommand=!1}a.prototype=o.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var s=i[r];if(s==e)delete i[r];else if(Array.isArray(s)){var o=s.indexOf(e);-1!=o&&(s.splice(o,1),1==s.length&&(i[r]=s[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(e),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,s=this.commandKeyBinding;if(n)if(!s[t]||this.$singleCommand)s[t]=n;else{Array.isArray(s[t])?-1!=(r=s[t].indexOf(n))&&s[t].splice(r,1):s[t]=[s[t]],"number"!=typeof i&&(i=e(n));var o=s[t];for(r=0;r<o.length;r++){if(e(o[r])>i)break}o.splice(r,0,n)}else delete s[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var s=0,o=t.length;o--;){var a=i.KEY_MODS[t[o]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=a}return{key:n,hashId:s}},this.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=s[t]+n,o=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:o}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(o.prototype),t.HashHandler=o,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,o=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};i.inherits(o,r),function(){i.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(o.prototype),t.CommandManager=o})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),s=e("../range").Range;function o(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(n.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row===t&&i[o].end.column===n||r.push(new s(i[o].end.row,i[o].end.column,t,n))),0===o?0===i[o].start.row&&0===i[o].start.column||r.push(new s(0,0,i[o].start.row,i[o].start.column)):r.push(new s(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<r.length;o++)e.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:o("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,u=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,f=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,y=e("./config"),b=e("./token_iterator").TokenIterator,w=e("./clipboard"),C=function e(t,n,i){this.$toDestroy=[];var r=t.getContainerElement();this.container=r,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new m(a.isMac?"mac":"win",v),"object"==typeof document&&(this.textInput=new l(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new u(this)),this.keyBinding=new h(this),this.$search=(new f).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||i&&i.session||new d("")),y.resetOptions(this),i&&this.setOptions(i),y._signal("editor",this)};C.$uid=0,function(){r.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;y.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||s.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),i=e.getKeyboardHandler(),r=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),s=t.getMatchingBracketRanges(n,r);if(!s){var o=new b(t,n.row,n.column).getCurrentToken();if(o&&/\b(?:tag-open|tag-name)/.test(o.type)){var a=t.getMatchingTags(n);a&&(s=[a.openTagName,a.closeTagName])}}if(!s&&t.$mode.getMatching&&(s=t.$mode.getMatching(e.session)),s){var l="ace_bracket";Array.isArray(s)?1==s.length&&(l="ace_error_bracket"):s=[s],2==s.length&&(0==p.comparePoints(s[0].end,s[1].start)?s=[p.fromPoints(s[0].start,s[1].end)]:0==p.comparePoints(s[0].start,s[1].end)&&(s=[p.fromPoints(s[1].start,s[0].end)])),t.$bracketHighlight={ranges:s,markerIds:s.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),s=r.substring(n,i);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),a=r.substring(n-1,i+1);if(o.test(a))return o}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var s=i[r];r&&i[r-1].start.row==s.start.row||(e+=this.session.getLine(s.start.row)+t)}}var o={text:e};return this._signal("copy",o),w.lineMode=!!n&&o.text,o.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===w.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges,o=2==r.length&&(!r[0]||!r[1]);if(r.length!=s.length||o)return this.commands.exec("insertstring",this,t);for(var a=s.length;a--;){var l=s[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var s=i.transformAction(n.getState(r.row),"insertion",this,n,e);s&&(e!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=s.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(o=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new p(r.row,c+s.selection[0],r.row,c+s.selection[1])):this.selection.setSelectionRange(new p(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var s,o,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=i.getNextLineIndent(l,c,h)),s=n.getLine(d),u!==(o=i.$getIndent(s))&&(o.length>0&&(a=new p(d,0,d,o.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var s=n.getTextRange(t);if("\n"==s[s.length-1]){var o=n.getLine(t.end.row);/^\s+$/.test(o)&&(t.end.column=o.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void e.indentRows(u.first,u.last,"\t")}}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var s=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=s.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(t,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,a=s.start+s.value.length-o,l=parseFloat(s.value);l*=Math.pow(10,a),o!==s.end&&n<o?e*=Math.pow(10,s.end-n-1):e*=Math.pow(10,s.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new p(t,s.start,t,s.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(s.start+1,n+c.length-s.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var f=h[d],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(f[p]),"i"),(function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.findLinkAt=function(e,t){var n,r,s=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),o=t;o<0&&(o=0);var a,l=0,c=0;try{for(var u=i(s),h=u.next();!h.done;h=u.next()){var d=h.value;if(c=l+d.length,o>=l&&o<=c&&d.match(/((?:https?|ftp):\/\/[\S]+)/)){a=d.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(f){n={error:f}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return a},this.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var s=i?n.start:n.end,o=t.insert(s,t.getTextRange(n),!1);n.start=s,n.end=o,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),s.moveBy(i,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=o.length,u=0;u<c;u++){var h=u;o[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(o[u])).first,f=n.last;++u<c;){l&&o[u].moveBy(l,0);var p=this.$getSelectedRows(o[u]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(h=u+1);h<=u;)o[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new b(this.session,n.row,n.column),r=i.getCurrentToken(),s=0;r&&-1!==r.type.indexOf("tag-name")&&(r=i.stepBackward());var o=r||i.stepForward();if(o){var a,l,c=!1,u={},h=n.column-o.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!c;h++)if(d[o.value[h]])switch(l=d[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(u[l])&&(u[l]=0),o.value[h]){case"(":case"[":case"{":u[l]++;break;case")":case"]":case"}":u[l]--,-1===u[l]&&(a="bracket",c=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(u[o.value])&&(u[o.value]=0),"<"===r.value&&s>1?u[o.value]++:"</"===r.value&&u[o.value]--,-1===u[o.value]&&(a="tag",c=!0));c||(r=o,s++,o=i.stepForward(),h=0)}while(o&&!c);if(a){var f,g;if("bracket"===a)(f=this.session.getBracketRange(n))||(g=(f=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+h-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(f=this.session.getBracketRange(g)));else if("tag"===a){if(!o||-1===o.type.indexOf("tag-name"))return;if(0===(f=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(f=m.closeTag).start:(f=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?f.end:f.start))}g=g||f.start}(g=f&&f.cursor||g)&&(e?f&&t?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,n),s):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",(function(){i=!0})),o=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,s=e.$cursorLayer.$pixelPos,o=e.layerConfig,a=s.top-o.offset;null!=(i=s.top>=0&&a+t.top<0||!(s.top<o.height&&s.top+t.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",o))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,s.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;y.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}.call(C.prototype),y.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?S.attach(this):S.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?S.attach(this):S.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),s.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),s.addCssClass(this.container,"ace_hasPlaceholder");var t=s.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var S={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,s=n.length;s--;){var o=n[s][0];if(o.id<t&&!i&&(i=s+1),o.id<=e){r=s+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)g(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,s=r.comparePoints;r.comparePoints;function o(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(s(t.start,e.end)>=0)d(t,e,-1);else{if(!(s(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(s(t.start,e.end)>=0)d(t,e,-1);else{if(!(s(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(s(t.start,e.start)>=0)d(t,e,1);else{if(!(s(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(s(t.start,e.start)>=0)d(t,e,1);else{if(!(s(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)s(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)s(e.start,t.end)>=0?d(e,t,-1):(s(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)s(t.start,e.end)>=0?d(t,e,-1):(s(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(s(t.start,e.end)>=0)d(t,e,-1);else{var o,a;if(!(s(t.end,e.start)<=0))return s(e.start,t.start)<0&&(o=e,e=p(e,t.start)),s(e.end,t.end)>0&&(a=p(e,t.end)),f(t.end,e.start,e.end,-1),a&&!o&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,o,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){f(e.start,t.start,t.end,n),f(e.end,t.start,t.end,n)}function f(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function p(e,t){var n=e.lines,i=e.end;e.end=o(t);var r=e.end.row-e.start.row,s=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:o(t),end:i,lines:s,action:e.action}}function g(e,t){t=function(e){return{start:o(e.start),end:o(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var s=h(i[r],t);t=s[0],2!=s.length&&(s[2]?(i.splice(r+1,1,s[1],s[2]),r++):s[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var s=this.cellCache.pop();if(!s){var o=i.createElement("div");r&&r(o),this.element.appendChild(o),s={element:o,text:"",row:e}}return s.row=e,s}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/lang"),o=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){r.implement(this,o),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var o=n.text;o=o?s.escapeHTML(o):n.html||"",-1===r.text.indexOf(o)&&r.text.push(o);var a=n.type,l=n.className;l?r.className=l:"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),s=r?r.start.row:1/0,o=null,a=-1,l=n;;){if(l>s&&(l=r.end.row+1,s=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(o=this.$lines.get(++a))?o.row=l:(o=this.$lines.createCell(l,e,this.session,c),this.$lines.push(o)),this.$renderCell(o,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var s=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)===this.gutterWidth||isNaN(s)||(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,s,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,r){var s=e.element,o=this.session,a=s.childNodes[0],l=s.childNodes[1],c=o.$firstLineNumber,u=o.$breakpoints,h=o.$decorations,d=o.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&o.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[r]&&(g+=u[r]),h[r]&&(g+=h[r]),this.$annotations[r]&&(g+=this.$annotations[r].className),s.className!=g&&(s.className=g),f){var m=f[r];null==m&&(m=f[r]=o.getFoldWidget(r))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&r==p&&r<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";i.setStyle(l.style,"height",v),i.setStyle(l.style,"display","inline-block")}else l&&i.setStyle(l.style,"display","none");var y=(d?d.getText(o,r):r+c).toString();return y!==a.data&&(a.data=y),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,o)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,o)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),s=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var s=this.$getTop(r.start.row,e),o=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,o,s,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,s){for(var o=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=o.getScreenLastRowColumn(c),f=new i(c,t.start.column,c,h);c<=l;c++)f.start.row=f.end.row=c,f.start.column=c==a?t.start.column:o.getRowWrapIndent(c),f.end.column=d,u=h,h=d,d=c+1<l?o.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,f,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),r,c==l?0:1,s)},this.drawMultiLineMarker=function(e,t,n,i,r){var s=this.$padding,o=i.lineHeight,a=this.$getTop(t.start.row,i),l=s+t.start.column*i.characterWidth;(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+o+"px;width:"+u+"px;top:"+a+"px;left:"+s+"px;"+(r||""))}if(!((o=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+o+"px;right:0;top:"+a+"px;left:"+s+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,s){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,s);var o=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+o+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(s||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,s){var o=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+o+"px;width:"+(e.width+(r||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(s||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;t.start.row!=t.end.row&&(o+=this.$getTop(t.end.row,i)-s),this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var s=this.$getTop(t.start.row,i),o=i.lineHeight;this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))}}).call(s.prototype),t.Marker=s})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=s.stringRepeat(this.TAB_CHAR,n),t.push(i);else t.push(this.dom.createTextNode(s.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+o,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),s=this.element.childNodes,o=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}o++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var h=s[o++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;o<this.$lines.cells.length;){var f=this.$lines.cells[o++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,n){for(var i=[],s=t,o=this.session.getNextFoldLine(s),a=o?o.start.row:1/0;s>a&&(s=o.end.row+1,a=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var l=this.$lines.createCell(s,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(c,s,s==a&&o),this.$useLineGroups()?c.className="ace_line_group":(c.className="ace_line",c.setAttribute("role","option")),i.push(l),s++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(e,t,n,i){for(var r,s=0;s<i.length;s+=this.MAX_CHUNK_LENGTH){var o=i.substring(s,s+this.MAX_CHUNK_LENGTH),a={type:n.type,value:o};r=this.$renderToken(e,t+s,a,o)}return r},this.$renderToken=function(e,t,n,i){for(var r,o=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;r=a.exec(i);){var u=r[1],h=r[2],d=r[3],f=r[4],p=r[5];if(o.showSpaces||!h){var g=c!=r.index?i.slice(c,r.index):"";if(c=r.index+r[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),u){var m=o.session.getScreenTabSize(t+r.index);l.appendChild(o.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(h){if(o.showSpaces)(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=s.stringRepeat(o.SPACE_CHAR,h.length),l.appendChild(v);else l.appendChild(this.com.createTextNode(h,this.element))}else if(d){(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=s.stringRepeat(o.SPACE_CHAR,d.length),l.appendChild(v)}else if(f){t+=1,(v=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className=o.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=o.showSpaces?o.SPACE_CHAR:f,l.appendChild(v)}else if(p){t+=1,(v=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className="ace_cjk",v.textContent=p,l.appendChild(v)}}}l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element));var v=this.dom.createElement("span");if(!this.$textToken[n.type]){var y="ace_"+n.type.replace(/\./g," ace_");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=y}return v.appendChild(l),e.appendChild(v),t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,s=0;s<r;s++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(s=0;s<i;s++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,s=0;s<r.length;s++)if(t.row!==r[s].start.row){this.$highlightIndentGuideMarker.end=r[s].start.row,t.row>r[s].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(s=t.row+1;s<e.length;s++){var o=e[s],a=/^\s*/.exec(o)[0].length;if(""!==o&&(this.$highlightIndentGuideMarker.end=s,a<=n))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var i=n[t-1];i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--){i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,o=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,o)))continue;i-=h.length}if(i+h.length<o)a=this.$renderTokenInChunks(l,a,u,h),i+=h.length;else{for(;i+h.length>=o;)a=this.$renderTokenInChunks(l,a,u,h.substring(0,o-i)),h=h.substring(o-i),i=o,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat("\xa0",n.indent),this.element)),a=0,o=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderTokenInChunks(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var n=0,i=0;i<t.length;i++){var r=t[i],s=r.value;if(0!=i||!this.displayIndentGuides||(s=this.renderIndentGuide(e,s))){if(n+s.length>this.MAX_LINE_LENGTH)return void this.$renderOverflowMessage(e,n,r,s);n=this.$renderTokenInChunks(e,n,r,s)}}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderTokenInChunks(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=r?"<hide>":"<click to see more...>",e.appendChild(s)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var s=this.session.getRowSplitData(t);if(s&&s.length){this.$renderWrappedLine(e,i,s);r=e.lastChild}else{r=e;this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i)}}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[];var r=n.getTokens(e);return t.walk((function(e,t,s,o,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,s=0;s+e[r].value.length<t;)if(s+=e[r].value.length,++r==e.length)return;for(s!=t&&((o=e[r].value.substring(t-s)).length>n-t&&(o=o.substring(0,n-t)),i.push({type:e[r].type,value:o}),s=t+o.length,r+=1);s<n&&r<e.length;){var o;(o=e[r].value).length+s>n?i.push({type:e[r].type,value:o.substring(0,n-s)}):i.push(e[r]),s+=o.length,r+=1}}(r,o,s))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var s=t.length;n<s;n++){var o=this.getPixelPosition(t[n].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,o,e,t[n],this.session):this.isCursorInView(o,e)?(i.setStyle(l,"display","block"),i.translate(a,o.left,o.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./lib/event"),o=e("./lib/event_emitter").EventEmitter;r.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(e){this.element=r.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){i.implement(this,o),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};i.inherits(l,a),function(){this.classSuffix="-v",i.implement(this,o),this.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,r=t.clientY,o=this.thumbTop;s.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(o+i-r);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),s.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};i.inherits(c,a),function(){this.classSuffix="-h",i.implement(this,o),this.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,r=t.clientX,o=this.thumbLeft;s.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(o+i-r);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),s.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),s=e("../lib/lang"),o=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,u=200,h=t.FontMetrics=function(e,t){this.charCount=t||250,this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=o.onIdle((function t(){e.checkForSizeChanges(),o.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t=(e=e||this.$measureNode).getBoundingClientRect(),n={height:t.height,width:t.width/this.charCount};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){return this.$main.textContent=s.stringRepeat(e,this.charCount),this.$main.getBoundingClientRect().width/this.charCount},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){e&&(e=s(1/this.$getZoom(this.el),e));function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function s(e,t){return[e*t[0],e*t[1]]}function o(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=o(this.els[0]),l=o(this.els[1]),c=o(this.els[2]),h=o(this.els[3]),d=n(i(h,l),i(h,c),i(r(l,c),r(h,a))),f=s(1+d[0],i(l,a)),p=s(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/u+d[1]*g[1]/u+1,v=r(s(g[0],f),s(g[1],p));return r(s(1/m/u,v),a)}var y=i(e,a),b=n(i(f,s(d[0],y)),i(p,s(d[1],y)),y);return s(u,b)}}).call(h.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,n){n.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),s=e("../lib/event_emitter").EventEmitter,o=function(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){r.implement(this,s),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var r={info:1,warning:2,error:3};i.forEach((function(e){e.priority=r[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var s=this.renderer.session.$foldData,o=0;o<i.length;o++){var a=i[o].row,l=this.compensateFoldRows(a,s),c=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(h-u<this.minDecorationHeight){var d=(u+h)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),u=Math.round(d-this.halfMinDecorationHeight),h=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[i[o].type]||null,n.fillRect(0,c,this.canvasWidth,h-u)}}var f=this.renderer.session.selection.getCursor();if(f){l=this.compensateFoldRows(f.row,s),c=Math.round((f.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2)}},this.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n}}).call(o.prototype),t.Decorator=o})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),s=e("./config"),o=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,p=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,v=e("./css/editor.css"),y=e("./layer/decorators").Decorator,b=e("./lib/useragent"),w=b.isIE;r.importCssString(v,"ace_editor.css",!1);var C=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==s.get("useStrictCSP")&&s.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),s.resetOptions(this),s._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var s=0,o=this.$size,a={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if(i&&(e||o.height!=i)&&(o.height=i,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),n&&(e||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)}return o.$dirty=!n||!i,s&&this._signal("resize",a),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,s=n.top,o=n.left;s-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:w?0:1;if(s<0||s>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else s+=this.lineHeight+2;else s+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-l&&(o=this.$size.scrollerWidth-l),o+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-l),Math.min(s,c))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var s=n.width+2*this.$padding+"px",o=n.minHeight+"px";r.setStyle(this.content.style,"width",s),r.setStyle(this.content.style,"height",o)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var f,p,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),y=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),f=e.documentToScreenRow(v,0),p=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+p,g=this.scrollTop-f*b;var C=0;return(this.layerConfig.width!=r||o)&&(C=this.CHANGE_H_SCROLL),(o||d)&&(C|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),C},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,s=i.top,o=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+o>s?(t&&l+o>s+this.lineHeight&&(s-=t*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):l+this.$size.scrollerHeight-a<s+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<s-this.lineHeight&&(s+=t*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,u=2*this.layerConfig.characterWidth;r-u<c?((r-=u)<this.$padding+u&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):(r+=u,c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,r=0,s=this.STEPS,o=[];for(r=0;r<s;++r)o.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return o},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var s=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:s},clearInterval(this.$timer),i.session.setScrollTop(s.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(s.length?(i.session.setScrollTop(s.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):o()):clearInterval(i.$timer);o()}),10)}}function o(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:a,side:s-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(o,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),s=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var s={type:t,value:e},o=r.getTokens(n);if(null==i)o.push(s);else for(var a=0,l=0;l<o.length;l++){var c=o[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);o.splice(l,1,{type:c.type,value:h},s,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)o(e);else{var i=e||this.$options.theme.initialValue;s.loadModule(["theme",i],o)}function o(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var s="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new y(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(C.prototype),s.defineOptions(C.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=C})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,o=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(i){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,s),this.$createWorkerFromOldConfig=function(t,n,i,r,s){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),o.get("packaged")||!e.toUrl)r=r||o.moduleUrl(n,"worker");else{var l=this.$normalizePath;r=r||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(s),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},o.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,n,i,r,s){var o=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;o>=0;o--){var a={row:(l=this.others[o]).row,column:l.column+s};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;o>=0;o--){var l;a={row:(l=this.others[o]).row,column:l.column+s};this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function s(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,o=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,f=h.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&s(p,g),v=e.x,y=e.y,b=h.session,w=h.renderer.pixelToScreenCoordinates(v,y),C=w;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=o?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!f&&o)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var S=d.toOrientedRange();h.addSelectionMarker(S)}var x=d.rangeList.rangeAtPoint(p);h.inVirtualSelectionMode=!0,o&&(x=null,S=d.ranges[0]||S,h.removeSelectionMarker(S)),h.once("mouseup",(function(){var e=d.toOrientedRange();x&&e.isEmpty()&&s(x.cursor,e.cursor)?d.substractPoint(e.cursor):(o?d.substractPoint(S.cursor):S&&(h.removeSelectionMarker(S),d.addRange(S)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var k;e.stop(),h.inVirtualSelectionMode=!0;var _=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);s(C,e)&&s(t,d.lead)||(C=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(_),_=d.rectangularRangeBlock(C,w),h.$mouseHandler.$clickSelection&&1==_.length&&_[0].isEmpty()&&(_[0]=h.$mouseHandler.$clickSelection.clone()),_.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(k=d.toOrientedRange(),h.addSelectionMarker(k)),o?w=b.documentToScreenPosition(d.lead):d.moveToPosition(p),C={row:-1,column:-1};var T=A;i.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){A(),clearInterval(R),h.removeSelectionMarkers(_),_.length||(_=[d.toOrientedRange()]),k&&(h.removeSelectionMarker(k),d.toSingleRange(k));for(var t=0;t<_.length;t++)d.addRange(_[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var R=setInterval((function(){T()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,s=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search);var h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],s=i.start.row,o=i.end.row;if(s===o)t.push(i.clone());else{for(t.push(new r(s,i.start.column,s,this.session.getLine(s).length));++s<o;)t.push(this.getLineRange(s,!0));t.push(new r(o,0,o,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],s=e.column<t.column;if(s)var o=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else o=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,f=e.row<t.row;if(f)var p=e.row,g=t.row;else p=t.row,g=e.row;o<0&&(o=0),p<0&&(p=0),p==g&&(n=!0);for(var m=p;m<=g;m++){var v=r.fromPoints(this.session.screenToDocumentPosition(m,o,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(u&&(h=v.end,d=u,h.row==d.row&&h.column==d.column))break;u=v.end}v.cursor=s?v.start:v.end,i.push(v)}if(f&&i.reverse(),!n){for(var y=i.length-1;i[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;i[b].isEmpty();)b++;for(var w=y;w>=b;w--)i[w].isEmpty()&&i.splice(w,1)}return i}}.call(s.prototype);var d=e("./editor").Editor;function f(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(c.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new s(a);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(o)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=a.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===p||(i=p),d.toOrientedRange(u[f])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return i&&s.rangeList.rangeAtPoint(i.start)&&s.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(s.row+e,s.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);i?(o=r.fromPoints(a,c)).cursor=o.start:(o=r.fromPoints(c,a)).cursor=o.end;if(o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var s=t.getWordRange(a.start.row,a.start.column);a.start.row=s.start.row,a.start.column=s.start.column,a.end.row=s.end.row,a.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var a=i[r];o.unshift(t.getTextRange(a))}e<0?o.unshift(o.pop()):o.push(o.shift());for(r=i.length;r--;){s=(a=i[r]).clone();t.replace(a,o[r]),a.start.row=s.start.row,a.start.column=s.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var s=i.getTextRange(r),o=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,s,e);o&&(o.cursor=-1==e?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,s=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&s.length!=n.length-1){s.forEach((function(e){t.substractPoint(e.cursor)}));var o=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,s=o-i.column,u=c[n]-a;s>u?e.insert(i,l.stringRepeat(" ",s-u)):e.remove(new r(i.row,i.column,i.row,i.column-s+u)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,f=h==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(h)}while(/[=:]/.test(p)&&--h>0);h<0&&(h=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(h,d);m=this.$reAlignText(m,f),this.session.insert({row:h,column:0},m.join("\n")+"\n"),f||(u.start.column=0,u.end.column=m[m.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,s=!0,o=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(o=!1),n!=t[1].length&&(s=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:s?o?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=f,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){f(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,s=e.getLine(t),o=s.search(r);if(-1!=o){for(var a=n||s.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=o){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var f=e.getLine(u).length;return new i(c,a,u,f)}}},this.openingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r+1},a=e.$findClosingBracket(t,o,s);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>o.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(o,a)}},this.closingBracketBlock=function(e,t,n,r,s){var o={row:n,column:r},a=e.$findOpeningBracket(t,o);if(a)return a.column++,o.column--,i.fromPoints(a,o)}}).call(r.prototype)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,s=i.end.row,o="add"==e.action,a=r+1;a<s;a++)n[a]&&(n[a].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var s=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,s.unshift(n,0),t.splice.apply(t,s),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,t.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row))<0&&(a=0),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var o=r;o<=s;o++){var a=i[o];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),s=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var i=e.getAnnotations().sort(s.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var s=i+r>>1,o=n(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;r=s-1}}return-(i+1)}(i,{row:t,column:-1},s.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var o=i[r];if(o&&n){if(o.row===t){do{o=i[r+=n]}while(o&&o.row===t);if(!o)return i.slice()}var a=[];t=o.row;do{a[n<0?"unshift":"push"](o),o=i[r+=n]}while(o&&o.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];o.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,o.row=h.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},f=d.el.appendChild(r.createElement("div")),p=d.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(o).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(r.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var i=e("./lib/dom"),r=e("./lib/event"),s=e("./range").Range,o=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var s=e;if(!(e=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=i.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var u=t.createEditSession(a),h=new o(new c(e),u,n),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),r.addListener(window,"resize",d.onResize),h.on("destroy",(function(){r.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=s,t.Editor=o,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},6866:function(e,t,n){e=n.nmd(e),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),s=e("./editor").Editor,o=e("./virtual_renderer").VirtualRenderer,a=e("./edit_session").EditSession,l=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))};(function(){i.implement(this,r),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new s(new o(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new a(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var i=this.$editors.some((function(t){return t.session===e}));return i&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var i=t/this.$splits,r=0;r<this.$splits;r++)(e=this.$editors[r]).container.style.width=i+"px",e.container.style.top="0px",e.container.style.left=r*i+"px",e.container.style.height=n+"px",e.resize();else{var s=n/this.$splits;for(r=0;r<this.$splits;r++)(e=this.$editors[r]).container.style.width=t+"px",e.container.style.top=r*s+"px",e.container.style.left="0px",e.container.style.height=s+"px",e.resize()}}}).call(l.prototype),t.Split=l})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))},3495:function(e,t,n){e=n.nmd(e),ace.define("ace/mode/lua_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,s=function(){var e=this.createKeywordMapper({keyword:"break|do|else|elseif|end|for|function|if|in|local|repeat|return|then|until|while|or|and|not","support.function":"string|xpcall|package|tostring|print|os|unpack|require|getfenv|setmetatable|next|assert|tonumber|io|rawequal|collectgarbage|getmetatable|module|rawset|math|debug|pcall|table|newproxy|type|coroutine|_G|select|gcinfo|pairs|rawget|loadstring|ipairs|_VERSION|dofile|setfenv|load|error|loadfile|sub|upper|len|gfind|rep|find|match|char|dump|gmatch|reverse|byte|format|gsub|lower|preload|loadlib|loaded|loaders|cpath|config|path|seeall|exit|setlocale|date|getenv|difftime|remove|time|clock|tmpname|rename|execute|lines|write|close|flush|open|output|type|read|stderr|stdin|input|stdout|popen|tmpfile|log|max|acos|huge|ldexp|pi|cos|tanh|pow|deg|tan|cosh|sinh|random|randomseed|frexp|ceil|floor|rad|abs|sqrt|modf|asin|min|mod|fmod|log10|atan2|exp|sin|atan|getupvalue|debug|sethook|getmetatable|gethook|setmetatable|setlocal|traceback|setfenv|getinfo|setupvalue|getlocal|getregistry|getfenv|setn|insert|getn|foreachi|maxn|foreach|concat|sort|remove|resume|yield|status|wrap|create|running|__add|__sub|__mod|__unm|__concat|__lt|__index|__call|__gc|__metatable|__mul|__div|__pow|__len|__eq|__le|__newindex|__tostring|__mode|__tonumber","keyword.deprecated":"setn|foreach|foreachi|gcinfo|log10|maxn","constant.library":"string|package|os|io|math|debug|table|coroutine","constant.language":"true|false|nil|_G|_VERSION","variable.language":"self"},"identifier"),t="(?:\\d+)",n="(?:"+("(?:(?:"+t+"?(?:\\.\\d+))|(?:"+t+"\\.))")+")";this.$rules={start:[{stateName:"bracketedComment",onMatch:function(e,t,n){return n.unshift(this.next,e.length-2,t),"comment"},regex:/\-\-\[=*\[/,next:[{onMatch:function(e,t,n){return e.length==n[1]?(n.shift(),n.shift(),this.next=n.shift()):this.next="","comment"},regex:/\]=*\]/,next:"start"},{defaultToken:"comment"}]},{token:"comment",regex:"\\-\\-.*$"},{stateName:"bracketedString",onMatch:function(e,t,n){return n.unshift(this.next,e.length,t),"string.start"},regex:/\[=*\[/,next:[{onMatch:function(e,t,n){return e.length==n[1]?(n.shift(),n.shift(),this.next=n.shift()):this.next="","string.end"},regex:/\]=*\]/,next:"start"},{defaultToken:"string"}]},{token:"string",regex:'"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:n},{token:"constant.numeric",regex:"(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[xX][\\dA-Fa-f]+))\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\/|%|\\#|\\^|~|<|>|<=|=>|==|~=|=|\\:|\\.\\.\\.|\\.\\."},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+|\\w+"}]},this.normalizeRules()};i.inherits(s,r),t.LuaHighlightRules=s})),ace.define("ace/mode/folding/lua",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,s=e("../../range").Range,o=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(){};i.inherits(a,r),function(){this.foldingStartMarker=/\b(function|then|do|repeat)\b|{\s*$|(\[=*\[)/,this.foldingStopMarker=/\bend\b|^\s*}|\]=*\]/,this.getFoldWidget=function(e,t,n){var i=e.getLine(n),r=this.foldingStartMarker.test(i),s=this.foldingStopMarker.test(i);if(r&&!s){var o;if("then"==(o=i.match(this.foldingStartMarker))[1]&&/\belseif\b/.test(i))return;if(o[1]){if("keyword"===e.getTokenAt(n,o.index+1).type)return"start"}else{if(!o[2])return"start";if("bracketedComment"==(a=e.bgTokenizer.getState(n)||"")[0]||"bracketedString"==a[0])return"start"}}if("markbeginend"!=t||!s||r&&s)return"";if("end"===(o=i.match(this.foldingStopMarker))[0]){if("keyword"===e.getTokenAt(n,o.index+1).type)return"end"}else{if("]"!==o[0][0])return"end";var a;if("bracketedComment"==(a=e.bgTokenizer.getState(n-1)||"")[0]||"bracketedString"==a[0])return"end"}},this.getFoldWidgetRange=function(e,t,n){var i,r=e.doc.getLine(n);return(i=this.foldingStartMarker.exec(r))?i[1]?this.luaBlock(e,n,i.index+1):i[2]?e.getCommentFoldRange(n,i.index+1):this.openingBracketBlock(e,"{",n,i.index):(i=this.foldingStopMarker.exec(r))?"end"===i[0]&&"keyword"===e.getTokenAt(n,i.index+1).type?this.luaBlock(e,n,i.index+1):"]"===i[0][0]?e.getCommentFoldRange(n,i.index+1):this.closingBracketBlock(e,"}",n,i.index+i[0].length):void 0},this.luaBlock=function(e,t,n,i){var r=new o(e,t,n),a={function:1,do:1,then:1,elseif:-1,end:-1,repeat:1,until:-1},l=r.getCurrentToken();if(l&&"keyword"==l.type){var c=l.value,u=[c],h=a[c];if(h){var d=-1===h?r.getCurrentTokenColumn():e.getLine(t).length,f=t;for(r.step=-1===h?r.stepBackward:r.stepForward;l=r.step();)if("keyword"===l.type){var p=h*a[l.value];if(p>0)u.unshift(l.value);else if(p<=0){if(u.shift(),!u.length&&"elseif"!=l.value)break;0===p&&u.unshift(l.value)}}if(!l)return null;if(i)return r.getCurrentTokenRange();t=r.getCurrentTokenRow();return-1===h?new s(t,e.getLine(t).length,f,d):new s(f,d,t,r.getCurrentTokenColumn())}}}}.call(a.prototype)})),ace.define("ace/mode/lua",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/lua_highlight_rules","ace/mode/folding/lua","ace/range","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,s=e("./lua_highlight_rules").LuaHighlightRules,o=e("./folding/lua").FoldMode,a=e("../range").Range,l=e("../worker/worker_client").WorkerClient,c=function(){this.HighlightRules=s,this.foldingRules=new o,this.$behaviour=this.$defaultBehaviour};i.inherits(c,r),function(){this.lineCommentStart="--",this.blockComment={start:"--[[",end:"--]]"};var e={function:1,then:1,do:1,else:1,elseif:1,repeat:1,end:-1,until:-1},t=["else","elseif","end","until"];this.getNextLineIndent=function(t,n,i){var r=this.$getIndent(n),s=0,o=this.getTokenizer().getLineTokens(n,t).tokens;return"start"==t&&(s=function(t){for(var n=0,i=0;i<t.length;i++){var r=t[i];"keyword"==r.type?r.value in e&&(n+=e[r.value]):"paren.lparen"==r.type?n+=r.value.length:"paren.rparen"==r.type&&(n-=r.value.length)}return n<0?-1:n>0?1:0}(o)),s>0?r+i:s<0&&r.substr(r.length-i.length)==i&&!this.checkOutdent(t,n,"\n")?r.substr(0,r.length-i.length):r},this.checkOutdent=function(e,n,i){if("\n"!=i&&"\r"!=i&&"\r\n"!=i)return!1;if(n.match(/^\s*[\)\}\]]$/))return!0;var r=this.getTokenizer().getLineTokens(n.trim(),e).tokens;return!(!r||!r.length)&&("keyword"==r[0].type&&-1!=t.indexOf(r[0].value))},this.getMatching=function(t,n,i){if(void 0==n){var r=t.selection.lead;i=r.column,n=r.row}var s=t.getTokenAt(n,i);if(s&&s.value in e)return this.foldingRules.luaBlock(t,n,i,!0)},this.autoOutdent=function(e,t,n){var i=t.getLine(n).match(/^\s*/)[0].length;if(i&&n){var r=this.getMatching(t,n,i+1);if(r&&r.start.row!=n){var s=this.$getIndent(t.getLine(r.start.row));s.length!=i&&(t.replace(new a(n,0,n,i),s),t.outdentRows(new a(n+1,0,n+1,0)))}}},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/lua_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/lua",this.snippetFileId="ace/snippets/lua"}.call(c.prototype),t.Mode=c})),ace.require(["ace/mode/lua"],(function(t){e&&(e.exports=t)}))},2205:function(e,t,n){e=n.nmd(e),ace.define("ace/theme/github.css",["require","exports","module"],(function(e,t,n){n.exports='/* CSS style content from github\'s default pygments highlighter template.\n   Cursor and selection styles from textmate.css. */\n.ace-github .ace_gutter {\n  background: #e8e8e8;\n  color: #AAA;\n}\n\n.ace-github  {\n  background: #fff;\n  color: #000;\n}\n\n.ace-github .ace_keyword {\n  font-weight: bold;\n}\n\n.ace-github .ace_string {\n  color: #D14;\n}\n\n.ace-github .ace_variable.ace_class {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_numeric {\n  color: #099;\n}\n\n.ace-github .ace_constant.ace_buildin {\n  color: #0086B3;\n}\n\n.ace-github .ace_support.ace_function {\n  color: #0086B3;\n}\n\n.ace-github .ace_comment {\n  color: #998;\n  font-style: italic;\n}\n\n.ace-github .ace_variable.ace_language  {\n  color: #0086B3;\n}\n\n.ace-github .ace_paren {\n  font-weight: bold;\n}\n\n.ace-github .ace_boolean {\n  font-weight: bold;\n}\n\n.ace-github .ace_string.ace_regexp {\n  color: #009926;\n  font-weight: normal;\n}\n\n.ace-github .ace_variable.ace_instance {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_language {\n  font-weight: bold;\n}\n\n.ace-github .ace_cursor {\n  color: black;\n}\n\n.ace-github.ace_focus .ace_marker-layer .ace_active-line {\n  background: rgb(255, 255, 204);\n}\n.ace-github .ace_marker-layer .ace_active-line {\n  background: rgb(245, 245, 245);\n}\n\n.ace-github .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-github.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n/* bold keywords cause cursor issues for some fonts */\n/* this disables bold style for editor and keeps for static highlighter */\n.ace-github.ace_nobold .ace_line > span {\n    font-weight: normal !important;\n}\n\n.ace-github .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-github .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-github .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-github .ace_gutter-active-line {\n    background-color : rgba(0, 0, 0, 0.07);\n}\n\n.ace-github .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-github .ace_invisible {\n  color: #BFBFBF\n}\n\n.ace-github .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-github .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-github .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/github",["require","exports","module","ace/theme/github.css","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-github",t.cssText=e("./github.css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/github"],(function(t){e&&(e.exports=t)}))},3484:function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,i,r){"undefined"==typeof r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=r;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];"undefined"==typeof i&&(i=!0);var o=i,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var u=this.diff_compute_(e,n,o,s);return l&&u.unshift(new t.Diff(0,l)),c&&u.push(new t.Diff(0,c)),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,i,r,s){var o;if(!e)return[new t.Diff(1,i)];if(!i)return[new t.Diff(n,e)];var a=e.length>i.length?e:i,l=e.length>i.length?i:e,c=a.indexOf(l);if(-1!=c)return o=[new t.Diff(1,a.substring(0,c)),new t.Diff(0,l),new t.Diff(1,a.substring(c+l.length))],e.length>i.length&&(o[0][0]=o[2][0]=n),o;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,i)];var u=this.diff_halfMatch_(e,i);if(u){var h=u[0],d=u[1],f=u[2],p=u[3],g=u[4],m=this.diff_main(h,f,r,s),v=this.diff_main(d,p,r,s);return m.concat([new t.Diff(0,g)],v)}return r&&e.length>100&&i.length>100?this.diff_lineMode_(e,i,s):this.diff_bisect_(e,i,s)},t.prototype.diff_lineMode_=function(e,i,r){var s=this.diff_linesToChars_(e,i);e=s.chars1,i=s.chars2;var o=s.lineArray,a=this.diff_main(e,i,!1,r);this.diff_charsToLines_(a,o),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var l=0,c=0,u=0,h="",d="";l<a.length;){switch(a[l][0]){case 1:u++,d+=a[l][1];break;case n:c++,h+=a[l][1];break;case 0:if(c>=1&&u>=1){a.splice(l-c-u,c+u),l=l-c-u;for(var f=this.diff_main(h,d,!1,r),p=f.length-1;p>=0;p--)a.splice(l,0,f[p]);l+=f.length}u=0,c=0,h="",d=""}l++}return a.pop(),a},t.prototype.diff_bisect_=function(e,i,r){for(var s=e.length,o=i.length,a=Math.ceil((s+o)/2),l=a,c=2*a,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[l+1]=0,h[l+1]=0;for(var f=s-o,p=f%2!=0,g=0,m=0,v=0,y=0,b=0;b<a&&!((new Date).getTime()>r);b++){for(var w=-b+g;w<=b-m;w+=2){for(var C=l+w,S=(T=w==-b||w!=b&&u[C-1]<u[C+1]?u[C+1]:u[C-1]+1)-w;T<s&&S<o&&e.charAt(T)==i.charAt(S);)T++,S++;if(u[C]=T,T>s)m+=2;else if(S>o)g+=2;else if(p){if((_=l+f-w)>=0&&_<c&&-1!=h[_])if(T>=(k=s-h[_]))return this.diff_bisectSplit_(e,i,T,S,r)}}for(var x=-b+v;x<=b-y;x+=2){for(var k,_=l+x,A=(k=x==-b||x!=b&&h[_-1]<h[_+1]?h[_+1]:h[_-1]+1)-x;k<s&&A<o&&e.charAt(s-k-1)==i.charAt(o-A-1);)k++,A++;if(h[_]=k,k>s)y+=2;else if(A>o)v+=2;else if(!p){if((C=l+f-x)>=0&&C<c&&-1!=u[C]){var T;S=l+(T=u[C])-C;if(T>=(k=s-k))return this.diff_bisectSplit_(e,i,T,S,r)}}}}return[new t.Diff(n,e),new t.Diff(1,i)]},t.prototype.diff_bisectSplit_=function(e,t,n,i,r){var s=e.substring(0,n),o=t.substring(0,i),a=e.substring(n),l=t.substring(i),c=this.diff_main(s,o,!1,r),u=this.diff_main(a,l,!1,r);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var n=[],i={};function r(e){for(var t="",r=0,o=-1,a=n.length;o<e.length-1;){-1==(o=e.indexOf("\n",r))&&(o=e.length-1);var l=e.substring(r,o+1);(i.hasOwnProperty?i.hasOwnProperty(l):void 0!==i[l])?t+=String.fromCharCode(i[l]):(a==s&&(l=e.substring(r),o=e.length),t+=String.fromCharCode(a),i[l]=a,n[a++]=l),r=o+1}return t}n[0]="";var s=4e4,o=r(e);return s=65535,{chars1:o,chars2:r(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],r=[],s=0;s<i.length;s++)r[s]=t[i.charCodeAt(s)];e[n][1]=r.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,s=0;n<r;)e.substring(s,r)==t.substring(s,r)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,s=0;n<r;)e.substring(e.length-r,e.length-s)==t.substring(t.length-r,t.length-s)?s=n=r:i=r,r=Math.floor((i-n)/2+n);return r},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var r=Math.min(n,i);if(e==t)return r;for(var s=0,o=1;;){var a=e.substring(r-o),l=t.indexOf(a);if(-1==l)return s;o+=l,0!=l&&e.substring(r-o)!=t.substring(0,o)||(s=o,o++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;var r=this;function s(e,t,n){for(var i,s,o,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(l,c+1));){var h=r.diff_commonPrefix(e.substring(n),t.substring(c)),d=r.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+h&&(u=t.substring(c-d,c)+t.substring(c,c+h),i=e.substring(0,n-d),s=e.substring(n+h),o=t.substring(0,c-d),a=t.substring(c+h))}return 2*u.length>=e.length?[i,s,o,a,u]:null}var o,a,l,c,u,h=s(n,i,Math.ceil(n.length/4)),d=s(n,i,Math.ceil(n.length/2));return h||d?(o=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=o[0],l=o[1],c=o[2],u=o[3]):(c=o[0],u=o[1],a=o[2],l=o[3]),[a,l,c,u,o[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var i=!1,r=[],s=0,o=null,a=0,l=0,c=0,u=0,h=0;a<e.length;)0==e[a][0]?(r[s++]=a,l=u,c=h,u=0,h=0,o=e[a][1]):(1==e[a][0]?u+=e[a][1].length:h+=e[a][1].length,o&&o.length<=Math.max(l,c)&&o.length<=Math.max(u,h)&&(e.splice(r[s-1],0,new t.Diff(n,o)),e[r[s-1]+1][0]=1,s--,a=--s>0?r[s-1]:-1,l=0,c=0,u=0,h=0,o=null,i=!0)),a++;for(i&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var d=e[a-1][1],f=e[a][1],p=this.diff_commonOverlap_(d,f),g=this.diff_commonOverlap_(f,d);p>=g?(p>=d.length/2||p>=f.length/2)&&(e.splice(a,0,new t.Diff(0,f.substring(0,p))),e[a-1][1]=d.substring(0,d.length-p),e[a+1][1]=f.substring(p),a++):(g>=d.length/2||g>=f.length/2)&&(e.splice(a,0,new t.Diff(0,d.substring(0,g))),e[a-1][0]=1,e[a-1][1]=f.substring(0,f.length-g),e[a+1][0]=n,e[a+1][1]=d.substring(g),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var i=e.charAt(e.length-1),r=n.charAt(0),s=i.match(t.nonAlphaNumericRegex_),o=r.match(t.nonAlphaNumericRegex_),a=s&&i.match(t.whitespaceRegex_),l=o&&r.match(t.whitespaceRegex_),c=a&&i.match(t.linebreakRegex_),u=l&&r.match(t.linebreakRegex_),h=c&&e.match(t.blanklineEndRegex_),d=u&&n.match(t.blanklineStartRegex_);return h||d?5:c||u?4:s&&!a&&l?3:a||l?2:s||o?1:0}for(var i=1;i<e.length-1;){if(0==e[i-1][0]&&0==e[i+1][0]){var r=e[i-1][1],s=e[i][1],o=e[i+1][1],a=this.diff_commonSuffix(r,s);if(a){var l=s.substring(s.length-a);r=r.substring(0,r.length-a),s=l+s.substring(0,s.length-a),o=l+o}for(var c=r,u=s,h=o,d=n(r,s)+n(s,o);s.charAt(0)===o.charAt(0);){r+=s.charAt(0),s=s.substring(1)+o.charAt(0),o=o.substring(1);var f=n(r,s)+n(s,o);f>=d&&(d=f,c=r,u=s,h=o)}e[i-1][1]!=c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=u,h?e[i+1][1]=h:(e.splice(i+1,1),i--))}i++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var i=!1,r=[],s=0,o=null,a=0,l=!1,c=!1,u=!1,h=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(u||h)?(r[s++]=a,l=u,c=h,o=e[a][1]):(s=0,o=null),u=h=!1):(e[a][0]==n?h=!0:u=!0,o&&(l&&c&&u&&h||o.length<this.Diff_EditCost/2&&l+c+u+h==3)&&(e.splice(r[s-1],0,new t.Diff(n,o)),e[r[s-1]+1][0]=1,s--,o=null,l&&c?(u=h=!0,s=0):(a=--s>0?r[s-1]:-1,u=h=!1),i=!0)),a++;i&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var i,r=0,s=0,o=0,a="",l="";r<e.length;)switch(e[r][0]){case 1:o++,l+=e[r][1],r++;break;case n:s++,a+=e[r][1],r++;break;case 0:s+o>1?(0!==s&&0!==o&&(0!==(i=this.diff_commonPrefix(l,a))&&(r-s-o>0&&0==e[r-s-o-1][0]?e[r-s-o-1][1]+=l.substring(0,i):(e.splice(0,0,new t.Diff(0,l.substring(0,i))),r++),l=l.substring(i),a=a.substring(i)),0!==(i=this.diff_commonSuffix(l,a))&&(e[r][1]=l.substring(l.length-i)+e[r][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i))),r-=s+o,e.splice(r,s+o),a.length&&(e.splice(r,0,new t.Diff(n,a)),r++),l.length&&(e.splice(r,0,new t.Diff(1,l)),r++),r++):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,s=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),c=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),c=!0)),r++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var i,r=0,s=0,o=0,a=0;for(i=0;i<e.length&&(1!==e[i][0]&&(r+=e[i][1].length),e[i][0]!==n&&(s+=e[i][1].length),!(r>t));i++)o=r,a=s;return e.length!=i&&e[i][0]===n?a:a+(t-o)},t.prototype.diff_prettyHtml=function(e){for(var t=[],i=/&/g,r=/</g,s=/>/g,o=/\n/g,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1].replace(i,"&amp;").replace(r,"&lt;").replace(s,"&gt;").replace(o,"&para;<br>");switch(l){case 1:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[a]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],i=0;i<e.length;i++)e[i][0]!==n&&(t[i]=e[i][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,i=0,r=0,s=0;s<e.length;s++){var o=e[s][0],a=e[s][1];switch(o){case 1:i+=a.length;break;case n:r+=a.length;break;case 0:t+=Math.max(i,r),i=0,r=0}}return t+=Math.max(i,r)},t.prototype.diff_toDelta=function(e){for(var t=[],i=0;i<e.length;i++)switch(e[i][0]){case 1:t[i]="+"+encodeURI(e[i][1]);break;case n:t[i]="-"+e[i][1].length;break;case 0:t[i]="="+e[i][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,i){for(var r=[],s=0,o=0,a=i.split(/\t/g),l=0;l<a.length;l++){var c=a[l].substring(1);switch(a[l].charAt(0)){case"+":try{r[s++]=new t.Diff(1,decodeURI(c))}catch(d){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var h=e.substring(o,o+=u);"="==a[l].charAt(0)?r[s++]=new t.Diff(0,h):r[s++]=new t.Diff(n,h);break;default:if(a[l])throw new Error("Invalid diff operation in diff_fromDelta: "+a[l])}}if(o!=e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+").");return r},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),r=this;function s(e,i){var s=e/t.length,o=Math.abs(n-i);return r.Match_Distance?s+o/r.Match_Distance:o?1:s}var o=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(o=Math.min(s(0,a),o),-1!=(a=e.lastIndexOf(t,n+t.length))&&(o=Math.min(s(0,a),o)));var l,c,u=1<<t.length-1;a=-1;for(var h,d=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=d;l<c;)s(f,n+c)<=o?l=c:d=c,c=Math.floor((d-l)/2+l);d=c;var p=Math.max(1,n-c+1),g=Math.min(n+c,e.length)+t.length,m=Array(g+2);m[g+1]=(1<<f)-1;for(var v=g;v>=p;v--){var y=i[e.charAt(v-1)];if(m[v]=0===f?(m[v+1]<<1|1)&y:(m[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],m[v]&u){var b=s(f,v-1);if(b<=o){if(o=b,!((a=v-1)>n))break;p=Math.max(1,2*n-a)}}}if(s(f+1,n)>o)break;h=m}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var i=n.substring(e.start2,e.start2+e.length1),r=0;n.indexOf(i)!=n.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,i=n.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var s=n.substring(e.start2-r,e.start2);s&&e.diffs.unshift(new t.Diff(0,s));var o=n.substring(e.start2+e.length1,e.start2+e.length1+r);o&&e.diffs.push(new t.Diff(0,o)),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+o.length,e.length2+=s.length+o.length}},t.prototype.patch_make=function(e,i,r){var s,o;if("string"==typeof e&&"string"==typeof i&&"undefined"==typeof r)s=e,(o=this.diff_main(s,i,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&"object"==typeof e&&"undefined"==typeof i&&"undefined"==typeof r)o=e,s=this.diff_text1(o);else if("string"==typeof e&&i&&"object"==typeof i&&"undefined"==typeof r)s=e,o=i;else{if("string"!=typeof e||"string"!=typeof i||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");s=e,o=r}if(0===o.length)return[];for(var a=[],l=new t.patch_obj,c=0,u=0,h=0,d=s,f=s,p=0;p<o.length;p++){var g=o[p][0],m=o[p][1];switch(c||0===g||(l.start1=u,l.start2=h),g){case 1:l.diffs[c++]=o[p],l.length2+=m.length,f=f.substring(0,h)+m+f.substring(h);break;case n:l.length1+=m.length,l.diffs[c++]=o[p],f=f.substring(0,h)+f.substring(h+m.length);break;case 0:m.length<=2*this.Patch_Margin&&c&&o.length!=p+1?(l.diffs[c++]=o[p],l.length1+=m.length,l.length2+=m.length):m.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,d),a.push(l),l=new t.patch_obj,c=0,d=f,u=h)}1!==g&&(u+=m.length),g!==n&&(h+=m.length)}return c&&(this.patch_addContext_(l,d),a.push(l)),a},t.prototype.patch_deepCopy=function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i],s=new t.patch_obj;s.diffs=[];for(var o=0;o<r.diffs.length;o++)s.diffs[o]=new t.Diff(r.diffs[o][0],r.diffs[o][1]);s.start1=r.start1,s.start2=r.start2,s.length1=r.length1,s.length2=r.length2,n[i]=s}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var i=this.patch_addPadding(e);t=i+t+i,this.patch_splitMax(e);for(var r=0,s=[],o=0;o<e.length;o++){var a,l,c=e[o].start2+r,u=this.diff_text1(e[o].diffs),h=-1;if(u.length>this.Match_MaxBits?-1!=(a=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(h=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||a>=h)&&(a=-1):a=this.match_main(t,u,c),-1==a)s[o]=!1,r-=e[o].length2-e[o].length1;else if(s[o]=!0,r=a-c,u==(l=-1==h?t.substring(a,a+u.length):t.substring(a,h+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[o].diffs)+t.substring(a+u.length);else{var d=this.diff_main(u,l,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)s[o]=!1;else{this.diff_cleanupSemanticLossless(d);for(var f,p=0,g=0;g<e[o].diffs.length;g++){var m=e[o].diffs[g];0!==m[0]&&(f=this.diff_xIndex(d,p)),1===m[0]?t=t.substring(0,a+f)+m[1]+t.substring(a+f):m[0]===n&&(t=t.substring(0,a+f)+t.substring(a+this.diff_xIndex(d,p+m[1].length))),m[0]!==n&&(p+=m[1].length)}}}}return[t=t.substring(i.length,t.length-i.length),s]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,i="",r=1;r<=n;r++)i+=String.fromCharCode(r);for(r=0;r<e.length;r++)e[r].start1+=n,e[r].start2+=n;var s=e[0],o=s.diffs;if(0==o.length||0!=o[0][0])o.unshift(new t.Diff(0,i)),s.start1-=n,s.start2-=n,s.length1+=n,s.length2+=n;else if(n>o[0][1].length){var a=n-o[0][1].length;o[0][1]=i.substring(o[0][1].length)+o[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(0==(o=(s=e[e.length-1]).diffs).length||0!=o[o.length-1][0])o.push(new t.Diff(0,i)),s.length1+=n,s.length2+=n;else if(n>o[o.length-1][1].length){a=n-o[o.length-1][1].length;o[o.length-1][1]+=i.substring(0,a),s.length1+=a,s.length2+=a}return i},t.prototype.patch_splitMax=function(e){for(var i=this.Match_MaxBits,r=0;r<e.length;r++)if(!(e[r].length1<=i)){var s=e[r];e.splice(r--,1);for(var o=s.start1,a=s.start2,l="";0!==s.diffs.length;){var c=new t.patch_obj,u=!0;for(c.start1=o-l.length,c.start2=a-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push(new t.Diff(0,l)));0!==s.diffs.length&&c.length1<i-this.Patch_Margin;){var h=s.diffs[0][0],d=s.diffs[0][1];1===h?(c.length2+=d.length,a+=d.length,c.diffs.push(s.diffs.shift()),u=!1):h===n&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*i?(c.length1+=d.length,o+=d.length,u=!1,c.diffs.push(new t.Diff(h,d)),s.diffs.shift()):(d=d.substring(0,i-c.length1-this.Patch_Margin),c.length1+=d.length,o+=d.length,0===h?(c.length2+=d.length,a+=d.length):u=!1,c.diffs.push(new t.Diff(h,d)),d==s.diffs[0][1]?s.diffs.shift():s.diffs[0][1]=s.diffs[0][1].substring(d.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var f=this.diff_text1(s.diffs).substring(0,this.Patch_Margin);""!==f&&(c.length1+=f.length,c.length2+=f.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push(new t.Diff(0,f))),u||e.splice(++r,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var i=[];if(!e)return i;for(var r=e.split("\n"),s=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;s<r.length;){var a=r[s].match(o);if(!a)throw new Error("Invalid patch string: "+r[s]);var l=new t.patch_obj;for(i.push(l),l.start1=parseInt(a[1],10),""===a[2]?(l.start1--,l.length1=1):"0"==a[2]?l.length1=0:(l.start1--,l.length1=parseInt(a[2],10)),l.start2=parseInt(a[3],10),""===a[4]?(l.start2--,l.length2=1):"0"==a[4]?l.length2=0:(l.start2--,l.length2=parseInt(a[4],10)),s++;s<r.length;){var c=r[s].charAt(0);try{var u=decodeURI(r[s].substring(1))}catch(h){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)l.diffs.push(new t.Diff(n,u));else if("+"==c)l.diffs.push(new t.Diff(1,u));else if(" "==c)l.diffs.push(new t.Diff(0,u));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}s++}}return i},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[i+1]=e+encodeURI(this.diffs[i][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},727:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALUE_REQUIRED=t.UNSUPPORTED_TYPE=t.INVALID_GUID=void 0;t.INVALID_GUID="Invalid Guid value! Please specify a valid value!";t.VALUE_REQUIRED="The parameter value required!";t.UNSUPPORTED_TYPE="UnSupported type! please specify one of the following: [Guid | string | Uint8Array]"},9462:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateGuidV4=t.isUint8ArrayValidGuid=t.isStringValidGuid=t.uint8ArrayToString=t.stringToUint8Array=t.ARRAY_LENGTH=void 0,t.ARRAY_LENGTH=16;var n=[3,2,1,0,5,4,7,6,8,9,10,11,12,13,14,15],i=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function r(e){var n=e<=15?"0":"";return n+=e.toString(t.ARRAY_LENGTH)}function s(e){for(var i="",s=0;s<t.ARRAY_LENGTH;s++){i+=4===s||6===s||8===s||10===s?"-":"",i+=r(e[n[s]])}return i}t.stringToUint8Array=function(e){for(var i=new RegExp("[{}()-]","g"),r=e.replace(i,""),s=[],o=0;o<t.ARRAY_LENGTH;o++){var a=n[o],l=r.charAt(2*a),c=r.charAt(2*a+1),u=unescape("%".concat(l).concat(c)).charCodeAt(0);s.push(u)}return new Uint8Array(s)},t.uint8ArrayToString=s,t.isStringValidGuid=function(e){return!!e&&i.test(e)},t.isUint8ArrayValidGuid=function(e){var t=s(e);return e&&i.test(t)},t.GenerateGuidV4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},8292:function(e,t,n){"use strict";var i=n(6690).default,r=n(9728).default,s=n(8416).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Guid=void 0;var o=n(727),a=n(9462),l=function(){function e(t){if(i(this,e),s(this,"BytesGuid",new Uint8Array(16)),s(this,"StringGuid",""),this.BytesGuid=new Uint8Array(16),this.StringGuid="",!t)return this.StringGuid=(0,a.GenerateGuidV4)(),void(this.BytesGuid=(0,a.stringToUint8Array)(this.StringGuid));if("string"===typeof t){if(!e.isValid(t))throw new Error(o.INVALID_GUID);return this.StringGuid=t,void(this.BytesGuid=(0,a.stringToUint8Array)(this.StringGuid))}if("object"===typeof t&&t instanceof Uint8Array){if(!e.isValid(t))throw new Error(o.INVALID_GUID);return this.BytesGuid=t,void(this.StringGuid=(0,a.uint8ArrayToString)(t))}throw new Error(o.UNSUPPORTED_TYPE)}return r(e,[{key:"toString",value:function(){return this.StringGuid}},{key:"toByteArray",value:function(){return this.BytesGuid}},{key:"equals",value:function(t){if(!t)throw new Error(o.VALUE_REQUIRED);if("string"===typeof t){if(!(0,a.isStringValidGuid)(t))throw new Error(o.INVALID_GUID);return this.StringGuid===t}if("object"!==typeof t)throw new Error(o.UNSUPPORTED_TYPE);if(t instanceof Uint8Array){if(!(0,a.isUint8ArrayValidGuid)(t))throw new Error(o.INVALID_GUID);return this.StringGuid===(0,a.uint8ArrayToString)(t)}return!(t instanceof e)||this.StringGuid===t.toString()}},{key:"isEmpty",value:function(){return this.StringGuid===e.EMPTY}}],[{key:"parse",value:function(t){if(!e.isValid(t))throw new Error(o.INVALID_GUID);return"object"===typeof t&&t instanceof Uint8Array?(0,a.uint8ArrayToString)(t):(0,a.stringToUint8Array)(t)}},{key:"newGuid",value:function(){return new e((0,a.GenerateGuidV4)())}},{key:"isValid",value:function(e){if(!e)throw new Error(o.VALUE_REQUIRED);if("string"===typeof e)return(0,a.isStringValidGuid)(e);if("object"===typeof e&&e instanceof Uint8Array){if(e.length!==a.ARRAY_LENGTH)throw new Error(o.INVALID_GUID);return(0,a.isUint8ArrayValidGuid)(e)}throw new Error(o.UNSUPPORTED_TYPE)}}]),e}();s(l,"EMPTY","00000000-0000-0000-0000-000000000000"),t.Guid=l},9980:function(e,t,n){"use strict";t.i=void 0;var i=n(8292);Object.defineProperty(t,"i",{enumerable:!0,get:function(){return i.Guid}})},8929:function(e,t,n){var i="Expected a function",r="__lodash_hash_undefined__",s=1/0,o="[object Function]",a="[object GeneratorFunction]",l="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,m="object"==typeof self&&self&&self.Object===Object&&self,v=g||m||Function("return this")();var y=Array.prototype,b=Function.prototype,w=Object.prototype,C=v["__core-js_shared__"],S=function(){var e=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),x=b.toString,k=w.hasOwnProperty,_=w.toString,A=RegExp("^"+x.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.Symbol,R=y.splice,$=G(v,"Map"),E=G(Object,"create"),L=T?T.prototype:void 0,M=L?L.toString:void 0;function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function D(e,t){for(var n,i,r=e.length;r--;)if((n=e[r][0])===(i=t)||n!==n&&i!==i)return r;return-1}function B(e,t){var n;t=function(e,t){if(U(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||j(e))return!0;return u.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:U(n=t)?n:z(n);for(var i=0,r=t.length;null!=e&&i<r;)e=e[W(t[i++])];return i&&i==r?e:void 0}function N(e){if(!V(e)||(t=e,S&&S in t))return!1;var t,n=function(e){var t=V(e)?_.call(e):"";return t==o||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?A:p;return n.test(function(e){if(null!=e){try{return x.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function O(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function G(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return N(n)?n:void 0}I.prototype.clear=function(){this.__data__=E?E(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(E){var n=t[e];return n===r?void 0:n}return k.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:k.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?r:t,this},F.prototype.clear=function(){this.__data__=[]},F.prototype.delete=function(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),!0)},F.prototype.get=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]},F.prototype.has=function(e){return D(this.__data__,e)>-1},F.prototype.set=function(e,t){var n=this.__data__,i=D(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new I,map:new($||F),string:new I}},P.prototype.delete=function(e){return O(this,e).delete(e)},P.prototype.get=function(e){return O(this,e).get(e)},P.prototype.has=function(e){return O(this,e).has(e)},P.prototype.set=function(e,t){return O(this,e).set(e,t),this};var z=H((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(j(e))return M?M.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}(t);var n=[];return h.test(e)&&n.push(""),e.replace(d,(function(e,t,i,r){n.push(i?r.replace(f,"$1"):t||e)})),n}));function W(e){if("string"==typeof e||j(e))return e;var t=e+"";return"0"==t&&1/e==-s?"-0":t}function H(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o),o};return n.cache=new(H.Cache||P),n}H.Cache=P;var U=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&_.call(e)==l}e.exports=function(e,t,n){var i=null==e?void 0:B(e,t);return void 0===i?n:i}},2467:function(e,t,n){e=n.nmd(e);var i=200,r="__lodash_hash_undefined__",s=1,o=2,a=9007199254740991,l="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",m="[object Map]",v="[object Number]",y="[object Null]",b="[object Object]",w="[object Promise]",C="[object Proxy]",S="[object RegExp]",x="[object Set]",k="[object String]",_="[object Symbol]",A="[object Undefined]",T="[object WeakMap]",R="[object ArrayBuffer]",$="[object DataView]",E=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M[l]=M[c]=M[R]=M[h]=M[$]=M[d]=M[f]=M[p]=M[m]=M[v]=M[b]=M[S]=M[x]=M[k]=M[T]=!1;var I="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,F="object"==typeof self&&self&&self.Object===Object&&self,P=I||F||Function("return this")(),D=t&&!t.nodeType&&t,B=D&&e&&!e.nodeType&&e,N=B&&B.exports===D,O=N&&I.process,G=function(){try{return O&&O.binding&&O.binding("util")}catch(e){}}(),z=G&&G.isTypedArray;function W(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function U(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var V,j,K=Array.prototype,q=Function.prototype,Y=Object.prototype,X=P["__core-js_shared__"],Z=q.toString,Q=Y.hasOwnProperty,J=function(){var e=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ee=Y.toString,te=RegExp("^"+Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=N?P.Buffer:void 0,ie=P.Symbol,re=P.Uint8Array,se=Y.propertyIsEnumerable,oe=K.splice,ae=ie?ie.toStringTag:void 0,le=Object.getOwnPropertySymbols,ce=ne?ne.isBuffer:void 0,ue=(V=Object.keys,j=Object,function(e){return V(j(e))}),he=Oe(P,"DataView"),de=Oe(P,"Map"),fe=Oe(P,"Promise"),pe=Oe(P,"Set"),ge=Oe(P,"WeakMap"),me=Oe(Object,"create"),ve=He(he),ye=He(de),be=He(fe),we=He(pe),Ce=He(ge),Se=ie?ie.prototype:void 0,xe=Se?Se.valueOf:void 0;function ke(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Te(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ae;++t<n;)this.add(e[t])}function Re(e){var t=this.__data__=new _e(e);this.size=t.size}function $e(e,t){var n=je(e),i=!n&&Ve(e),r=!n&&!i&&Ke(e),s=!n&&!i&&!r&&Qe(e),o=n||i||r||s,a=o?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!Q.call(e,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||We(c,l))||a.push(c);return a}function Ee(e,t){for(var n=e.length;n--;)if(Ue(e[n][0],t))return n;return-1}function Le(e){return null==e?void 0===e?A:y:ae&&ae in Object(e)?function(e){var t=Q.call(e,ae),n=e[ae];try{e[ae]=void 0;var i=!0}catch(s){}var r=ee.call(e);i&&(t?e[ae]=n:delete e[ae]);return r}(e):function(e){return ee.call(e)}(e)}function Me(e){return Ze(e)&&Le(e)==l}function Ie(e,t,n,i,r){return e===t||(null==e||null==t||!Ze(e)&&!Ze(t)?e!==e&&t!==t:function(e,t,n,i,r,a){var u=je(e),p=je(t),g=u?c:ze(e),y=p?c:ze(t),w=(g=g==l?b:g)==b,C=(y=y==l?b:y)==b,A=g==y;if(A&&Ke(e)){if(!Ke(t))return!1;u=!0,w=!1}if(A&&!w)return a||(a=new Re),u||Qe(e)?De(e,t,n,i,r,a):function(e,t,n,i,r,a,l){switch(n){case $:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new re(e),new re(t)));case h:case d:case v:return Ue(+e,+t);case f:return e.name==t.name&&e.message==t.message;case S:case k:return e==t+"";case m:var c=H;case x:var u=i&s;if(c||(c=U),e.size!=t.size&&!u)return!1;var p=l.get(e);if(p)return p==t;i|=o,l.set(e,t);var g=De(c(e),c(t),i,r,a,l);return l.delete(e),g;case _:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,g,n,i,r,a);if(!(n&s)){var T=w&&Q.call(e,"__wrapped__"),E=C&&Q.call(t,"__wrapped__");if(T||E){var L=T?e.value():e,M=E?t.value():t;return a||(a=new Re),r(L,M,n,i,a)}}if(!A)return!1;return a||(a=new Re),function(e,t,n,i,r,o){var a=n&s,l=Be(e),c=l.length,u=Be(t),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var f=l[d];if(!(a?f in t:Q.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var g=!0;o.set(e,t),o.set(t,e);var m=a;for(;++d<c;){var v=e[f=l[d]],y=t[f];if(i)var b=a?i(y,v,f,t,e,o):i(v,y,f,e,t,o);if(!(void 0===b?v===y||r(v,y,n,i,o):b)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var w=e.constructor,C=t.constructor;w==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(g=!1)}return o.delete(e),o.delete(t),g}(e,t,n,i,r,a)}(e,t,n,i,Ie,r))}function Fe(e){return!(!Xe(e)||function(e){return!!J&&J in e}(e))&&(qe(e)?te:E).test(He(e))}function Pe(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Y;return e===n}(e))return ue(e);var t=[];for(var n in Object(e))Q.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e,t,n,i,r,a){var l=n&s,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=a.get(e);if(h&&a.get(t))return h==t;var d=-1,f=!0,p=n&o?new Te:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var g=e[d],m=t[d];if(i)var v=l?i(m,g,d,t,e,a):i(g,m,d,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!W(t,(function(e,t){if(s=t,!p.has(s)&&(g===e||r(g,e,n,i,a)))return p.push(t);var s}))){f=!1;break}}else if(g!==m&&!r(g,m,n,i,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Be(e){return function(e,t,n){var i=t(e);return je(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Je,Ge)}function Ne(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Oe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Fe(n)?n:void 0}ke.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},ke.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ke.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Q.call(t,e)?t[e]:void 0},ke.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Q.call(t,e)},ke.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,n=Ee(t,e);return!(n<0)&&(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,n=Ee(t,e);return n<0?void 0:t[n][1]},_e.prototype.has=function(e){return Ee(this.__data__,e)>-1},_e.prototype.set=function(e,t){var n=this.__data__,i=Ee(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new ke,map:new(de||_e),string:new ke}},Ae.prototype.delete=function(e){var t=Ne(this,e).delete(e);return this.size-=t?1:0,t},Ae.prototype.get=function(e){return Ne(this,e).get(e)},Ae.prototype.has=function(e){return Ne(this,e).has(e)},Ae.prototype.set=function(e,t){var n=Ne(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,r),this},Te.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.clear=function(){this.__data__=new _e,this.size=0},Re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof _e){var r=n.__data__;if(!de||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ae(r)}return n.set(e,t),this.size=n.size,this};var Ge=le?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}(le(e),(function(t){return se.call(e,t)})))}:function(){return[]},ze=Le;function We(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function He(e){if(null!=e){try{return Z.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ue(e,t){return e===t||e!==e&&t!==t}(he&&ze(new he(new ArrayBuffer(1)))!=$||de&&ze(new de)!=m||fe&&ze(fe.resolve())!=w||pe&&ze(new pe)!=x||ge&&ze(new ge)!=T)&&(ze=function(e){var t=Le(e),n=t==b?e.constructor:void 0,i=n?He(n):"";if(i)switch(i){case ve:return $;case ye:return m;case be:return w;case we:return x;case Ce:return T}return t});var Ve=Me(function(){return arguments}())?Me:function(e){return Ze(e)&&Q.call(e,"callee")&&!se.call(e,"callee")},je=Array.isArray;var Ke=ce||function(){return!1};function qe(e){if(!Xe(e))return!1;var t=Le(e);return t==p||t==g||t==u||t==C}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ze(e){return null!=e&&"object"==typeof e}var Qe=z?function(e){return function(t){return e(t)}}(z):function(e){return Ze(e)&&Ye(e.length)&&!!M[Le(e)]};function Je(e){return null!=(t=e)&&Ye(t.length)&&!qe(t)?$e(e):Pe(e);var t}e.exports=function(e,t){return Ie(e,t)}},9043:function(e,t,n){"use strict";var i=n(6106),r=i.Deflate,s=i.deflate,o=i.deflateRaw,a=i.gzip,l=n(3371),c=l.Inflate,u=l.inflate,h=l.inflateRaw,d=l.ungzip,f=n(7500);e.exports.Deflate=r,e.exports.deflate=s,e.exports.deflateRaw=o,e.exports.gzip=a,e.exports.Inflate=c,e.exports.inflate=u,e.exports.inflateRaw=h,e.exports.ungzip=d,e.exports.constants=f},6106:function(e,t,n){"use strict";var i=n(2849),r=n(8661),s=n(4590),o=n(3470),a=n(5806),l=Object.prototype.toString,c=n(7500),u=c.Z_NO_FLUSH,h=c.Z_SYNC_FLUSH,d=c.Z_FULL_FLUSH,f=c.Z_FINISH,p=c.Z_OK,g=c.Z_STREAM_END,m=c.Z_DEFAULT_COMPRESSION,v=c.Z_DEFAULT_STRATEGY,y=c.Z_DEFLATED;function b(e){this.options=r.assign({level:m,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:v},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==p)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"===typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,c))!==p)throw new Error(o[n]);this._dict_set=!0}}function w(e,t){var n=new b(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}b.prototype.push=function(e,t){var n,r,o=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?f:u,"string"===typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(r===h||r===d)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if((n=i.deflate(o,r))===g)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p;if(0!==o.avail_out){if(r>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){e===p&&(this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Deflate=b,e.exports.deflate=w,e.exports.deflateRaw=function(e,t){return(t=t||{}).raw=!0,w(e,t)},e.exports.gzip=function(e,t){return(t=t||{}).gzip=!0,w(e,t)},e.exports.constants=n(7500)},3371:function(e,t,n){"use strict";var i=n(1168),r=n(8661),s=n(4590),o=n(3470),a=n(5806),l=n(5730),c=Object.prototype.toString,u=n(7500),h=u.Z_NO_FLUSH,d=u.Z_FINISH,f=u.Z_OK,p=u.Z_STREAM_END,g=u.Z_NEED_DICT,m=u.Z_STREAM_ERROR,v=u.Z_DATA_ERROR,y=u.Z_MEM_ERROR;function b(e){this.options=r.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==f)throw new Error(o[n]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==f))throw new Error(o[n])}function w(e,t){var n=new b(t);if(n.push(e),n.err)throw n.msg||o[n.err];return n.result}b.prototype.push=function(e,t){var n,r,o,a=this.strm,l=this.options.chunkSize,u=this.options.dictionary;if(this.ended)return!1;for(r=t===~~t?t:!0===t?d:h,"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(l),a.next_out=0,a.avail_out=l),(n=i.inflate(a,r))===g&&u&&((n=i.inflateSetDictionary(a,u))===f?n=i.inflate(a,r):n===v&&(n=g));a.avail_in>0&&n===p&&a.state.wrap>0&&0!==e[a.next_in];)i.inflateReset(a),n=i.inflate(a,r);switch(n){case m:case v:case g:case y:return this.onEnd(n),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||n===p))if("string"===this.options.to){var b=s.utf8border(a.output,a.next_out),w=a.next_out-b,C=s.buf2string(a.output,b);a.next_out=w,a.avail_out=l-w,w&&a.output.set(a.output.subarray(b,b+w),0),this.onData(C)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==f||0!==o){if(n===p)return n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Inflate=b,e.exports.inflate=w,e.exports.inflateRaw=function(e,t){return(t=t||{}).raw=!0,w(e,t)},e.exports.ungzip=w,e.exports.constants=n(7500)},8661:function(e){"use strict";var t=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};e.exports.assign=function(e){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var i=n.shift();if(i){if("object"!==typeof i)throw new TypeError(i+"must be non-object");for(var r in i)t(i,r)&&(e[r]=i[r])}}return e},e.exports.flattenChunks=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),s=0,o=0,a=e.length;s<a;s++){var l=e[s];r.set(l,o),o+=l.length}return r}},4590:function(e){"use strict";var t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){t=!1}for(var n=new Uint8Array(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,e.exports.string2buf=function(e){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,s,o=e.length,a=0;for(r=0;r<o;r++)55296===(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320===(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,r=0;s<a;r++)55296===(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320===(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t};e.exports.buf2string=function(e,i){var r,s,o=i||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,i));var a=new Array(2*o);for(s=0,r=0;r<o;){var l=e[r++];if(l<128)a[s++]=l;else{var c=n[l];if(c>4)a[s++]=65533,r+=c-1;else{for(l&=2===c?31:3===c?15:7;c>1&&r<o;)l=l<<6|63&e[r++],c--;c>1?a[s++]=65533:l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|1023&l)}}}return function(e,n){if(n<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));for(var i="",r=0;r<n;r++)i+=String.fromCharCode(e[r]);return i}(a,s)},e.exports.utf8border=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var i=t-1;i>=0&&128===(192&e[i]);)i--;return i<0||0===i?t:i+n[e[i]]>t?i:t}},8409:function(e){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,s=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{s=s+(r=r+t[i++]|0)|0}while(--o);r%=65521,s%=65521}return r|s<<16|0}},7500:function(e){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},1656:function(e){"use strict";var t=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}());e.exports=function(e,n,i,r){var s=t,o=r+i;e^=-1;for(var a=r;a<o;a++)e=e>>>8^s[255&(e^n[a])];return-1^e}},2849:function(e,t,n){"use strict";var i=n(889),r=i._tr_init,s=i._tr_stored_block,o=i._tr_flush_block,a=i._tr_tally,l=i._tr_align,c=n(8409),u=n(1656),h=n(3470),d=n(7500),f=d.Z_NO_FLUSH,p=d.Z_PARTIAL_FLUSH,g=d.Z_FULL_FLUSH,m=d.Z_FINISH,v=d.Z_BLOCK,y=d.Z_OK,b=d.Z_STREAM_END,w=d.Z_STREAM_ERROR,C=d.Z_DATA_ERROR,S=d.Z_BUF_ERROR,x=d.Z_DEFAULT_COMPRESSION,k=d.Z_FILTERED,_=d.Z_HUFFMAN_ONLY,A=d.Z_RLE,T=d.Z_FIXED,R=d.Z_DEFAULT_STRATEGY,$=d.Z_UNKNOWN,E=d.Z_DEFLATED,L=286,M=30,I=19,F=2*L+1,P=15,D=258,B=262,N=42,O=113,G=666,z=function(e,t){return e.msg=h[t],t},W=function(e){return 2*e-(e>4?9:0)},H=function(e){for(var t=e.length;--t>=0;)e[t]=0},U=function(e){var t,n,i,r=e.w_size;i=t=e.hash_size;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);i=t=r;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)},V=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},j=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},K=function(e,t){o(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,j(e.strm)},q=function(e,t){e.pending_buf[e.pending++]=t},Y=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},X=function(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=c(e.adler,t,r,n):2===e.state.wrap&&(e.adler=u(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},Z=function(e,t){var n,i,r=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+D,f=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===f&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<d);if(i=D-(d-s),s=d-D,i>o){if(e.match_start=t,o=i,i>=a)break;f=c[s+o-1],p=c[s+o]}}}while((t=h[t&u])>l&&0!==--r);return o<=e.lookahead?o:e.lookahead},Q=function(e){var t,n,i,r=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-B)&&(e.window.set(e.window.subarray(r,r+r-n),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),U(e),n+=r),0===e.strm.avail_in)break;if(t=X(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=V(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=V(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<B&&0!==e.strm.avail_in)},J=function(e,t){var n,i,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,l=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&t!==m||t===f||n!==i+e.strm.avail_in))break;a=t===m&&n===i+e.strm.avail_in?1:0,s(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,j(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(X(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(l-=e.strm.avail_in)&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==f&&t!==m&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(X(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,o=(r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r)>e.w_size?e.w_size:r,((i=e.strstart-e.block_start)>=o||(i||t===m)&&t!==f&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,a=t===m&&0===e.strm.avail_in&&n===i?1:0,s(e,e.block_start,n,a),e.block_start+=n,j(e.strm)),a?3:1)},ee=function(e,t){for(var n,i;;){if(e.lookahead<B){if(Q(e),e.lookahead<B&&t===f)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-B&&(e.match_length=Z(e,n)),e.match_length>=3)if(i=a(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=V(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=V(e,e.ins_h,e.window[e.strstart+1]);else i=a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(K(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===m?(K(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(K(e,!1),0===e.strm.avail_out)?1:2},te=function(e,t){for(var n,i,r;;){if(e.lookahead<B){if(Q(e),e.lookahead<B&&t===f)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-B&&(e.match_length=Z(e,n),e.match_length<=5&&(e.strategy===k||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=a(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=V(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(K(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a(e,0,e.window[e.strstart-1]))&&K(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===m?(K(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(K(e,!1),0===e.strm.avail_out)?1:2};function ne(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var ie=[new ne(0,0,0,0,J),new ne(4,4,8,4,ee),new ne(4,5,16,8,ee),new ne(4,6,32,32,ee),new ne(4,4,16,16,te),new ne(8,16,32,32,te),new ne(8,16,128,128,te),new ne(8,32,128,256,te),new ne(32,128,258,1024,te),new ne(32,258,258,4096,te)];function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*F),this.dyn_dtree=new Uint16Array(2*(2*M+1)),this.bl_tree=new Uint16Array(2*(2*I+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(P+1),this.heap=new Uint16Array(2*L+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L+1),H(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var se=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.status!==N&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==O&&t.status!==G?1:0},oe=function(e){if(se(e))return z(e,w);e.total_in=e.total_out=0,e.data_type=$;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?N:O,e.adler=2===t.wrap?0:1,t.last_flush=-2,r(t),y},ae=function(e){var t,n=oe(e);return n===y&&((t=e.state).window_size=2*t.w_size,H(t.head),t.max_lazy_match=ie[t.level].max_lazy,t.good_match=ie[t.level].good_length,t.nice_match=ie[t.level].nice_length,t.max_chain_length=ie[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},le=function(e,t,n,i,r,s){if(!e)return w;var o=1;if(t===x&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==E||i<8||i>15||t<0||t>9||s<0||s>T||8===i&&1!==o)return z(e,w);8===i&&(i=9);var a=new re;return e.state=a,a.strm=e,a.status=N,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=s,a.method=n,ae(e)};e.exports.deflateInit=function(e,t){return le(e,t,E,15,8,R)},e.exports.deflateInit2=le,e.exports.deflateReset=ae,e.exports.deflateResetKeep=oe,e.exports.deflateSetHeader=function(e,t){return se(e)||2!==e.state.wrap?w:(e.state.gzhead=t,y)},e.exports.deflate=function(e,t){if(se(e)||t>v||t<0)return e?z(e,w):w;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===G&&t!==m)return z(e,0===e.avail_out?S:w);var i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(j(e),0===e.avail_out)return n.last_flush=-1,y}else if(0===e.avail_in&&W(t)<=W(i)&&t!==m)return z(e,S);if(n.status===G&&0!==e.avail_in)return z(e,S);if(n.status===N&&0===n.wrap&&(n.status=O),n.status===N){var r=E+(n.w_bits-8<<4)<<8;if(r|=(n.strategy>=_||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(r|=32),Y(n,r+=31-r%31),0!==n.strstart&&(Y(n,e.adler>>>16),Y(n,65535&e.adler)),e.adler=1,n.status=O,j(e),0!==n.pending)return n.last_flush=-1,y}if(57===n.status)if(e.adler=0,q(n,31),q(n,139),q(n,8),n.gzhead)q(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),q(n,255&n.gzhead.time),q(n,n.gzhead.time>>8&255),q(n,n.gzhead.time>>16&255),q(n,n.gzhead.time>>24&255),q(n,9===n.level?2:n.strategy>=_||n.level<2?4:0),q(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(q(n,255&n.gzhead.extra.length),q(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=u(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(q(n,0),q(n,0),q(n,0),q(n,0),q(n,0),q(n,9===n.level?2:n.strategy>=_||n.level<2?4:0),q(n,3),n.status=O,j(e),0!==n.pending)return n.last_flush=-1,y;if(69===n.status){if(n.gzhead.extra){for(var o=n.pending,c=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+c>n.pending_buf_size;){var h=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+h),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=u(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=h,j(e),0!==n.pending)return n.last_flush=-1,y;o=0,c-=h}var d=new Uint8Array(n.gzhead.extra);n.pending_buf.set(d.subarray(n.gzindex,n.gzindex+c),n.pending),n.pending+=c,n.gzhead.hcrc&&n.pending>o&&(e.adler=u(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){var C,x=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>x&&(e.adler=u(e.adler,n.pending_buf,n.pending-x,x)),j(e),0!==n.pending)return n.last_flush=-1,y;x=0}C=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,q(n,C)}while(0!==C);n.gzhead.hcrc&&n.pending>x&&(e.adler=u(e.adler,n.pending_buf,n.pending-x,x)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){var k,T=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>T&&(e.adler=u(e.adler,n.pending_buf,n.pending-T,T)),j(e),0!==n.pending)return n.last_flush=-1,y;T=0}k=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,q(n,k)}while(0!==k);n.gzhead.hcrc&&n.pending>T&&(e.adler=u(e.adler,n.pending_buf,n.pending-T,T))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(j(e),0!==n.pending))return n.last_flush=-1,y;q(n,255&e.adler),q(n,e.adler>>8&255),e.adler=0}if(n.status=O,j(e),0!==n.pending)return n.last_flush=-1,y}if(0!==e.avail_in||0!==n.lookahead||t!==f&&n.status!==G){var R=0===n.level?J(n,t):n.strategy===_?function(e,t){for(var n;;){if(0===e.lookahead&&(Q(e),0===e.lookahead)){if(t===f)return 1;break}if(e.match_length=0,n=a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(K(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(K(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(K(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===A?function(e,t){for(var n,i,r,s,o=e.window;;){if(e.lookahead<=D){if(Q(e),e.lookahead<=D&&t===f)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){s=e.strstart+D;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);e.match_length=D-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(K(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===m?(K(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(K(e,!1),0===e.strm.avail_out)?1:2}(n,t):ie[n.level].func(n,t);if(3!==R&&4!==R||(n.status=G),1===R||3===R)return 0===e.avail_out&&(n.last_flush=-1),y;if(2===R&&(t===p?l(n):t!==v&&(s(n,0,0,!1),t===g&&(H(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),j(e),0===e.avail_out))return n.last_flush=-1,y}return t!==m?y:n.wrap<=0?b:(2===n.wrap?(q(n,255&e.adler),q(n,e.adler>>8&255),q(n,e.adler>>16&255),q(n,e.adler>>24&255),q(n,255&e.total_in),q(n,e.total_in>>8&255),q(n,e.total_in>>16&255),q(n,e.total_in>>24&255)):(Y(n,e.adler>>>16),Y(n,65535&e.adler)),j(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?y:b)},e.exports.deflateEnd=function(e){if(se(e))return w;var t=e.state.status;return e.state=null,t===O?z(e,C):y},e.exports.deflateSetDictionary=function(e,t){var n=t.length;if(se(e))return w;var i=e.state,r=i.wrap;if(2===r||1===r&&i.status!==N||i.lookahead)return w;if(1===r&&(e.adler=c(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(H(i.head),i.strstart=0,i.block_start=0,i.insert=0);var s=new Uint8Array(i.w_size);s.set(t.subarray(n-i.w_size,n),0),t=s,n=i.w_size}var o=e.avail_in,a=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Q(i);i.lookahead>=3;){var u=i.strstart,h=i.lookahead-2;do{i.ins_h=V(i,i.ins_h,i.window[u+3-1]),i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++}while(--h);i.strstart=u,i.lookahead=2,Q(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=l,e.avail_in=o,i.wrap=r,y},e.exports.deflateInfo="pako deflate (from Nodeca project)"},5730:function(e){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},374:function(e){"use strict";var t=16209;e.exports=function(e,n){var i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,b,w,C,S,x,k,_,A,T=e.state;i=e.next_in,_=e.input,r=i+(e.avail_in-5),s=e.next_out,A=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,h=T.wnext,d=T.window,f=T.hold,p=T.bits,g=T.lencode,m=T.distcode,v=(1<<T.lenbits)-1,y=(1<<T.distbits)-1;e:do{p<15&&(f+=_[i++]<<p,p+=8,f+=_[i++]<<p,p+=8),b=g[f&v];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))A[s++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){T.mode=16191;break e}e.msg="invalid literal/length code",T.mode=t;break e}C=65535&b,(w&=15)&&(p<w&&(f+=_[i++]<<p,p+=8),C+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=_[i++]<<p,p+=8,f+=_[i++]<<p,p+=8),b=m[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0===(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",T.mode=t;break e}if(S=65535&b,p<(w&=15)&&(f+=_[i++]<<p,(p+=8)<w&&(f+=_[i++]<<p,p+=8)),(S+=f&(1<<w)-1)>l){e.msg="invalid distance too far back",T.mode=t;break e}if(f>>>=w,p-=w,S>(w=s-o)){if((w=S-w)>u&&T.sane){e.msg="invalid distance too far back",T.mode=t;break e}if(x=0,k=d,0===h){if(x+=c-w,w<C){C-=w;do{A[s++]=d[x++]}while(--w);x=s-S,k=A}}else if(h<w){if(x+=c+h-w,(w-=h)<C){C-=w;do{A[s++]=d[x++]}while(--w);if(x=0,h<C){C-=w=h;do{A[s++]=d[x++]}while(--w);x=s-S,k=A}}}else if(x+=h-w,w<C){C-=w;do{A[s++]=d[x++]}while(--w);x=s-S,k=A}for(;C>2;)A[s++]=k[x++],A[s++]=k[x++],A[s++]=k[x++],C-=3;C&&(A[s++]=k[x++],C>1&&(A[s++]=k[x++]))}else{x=s-S;do{A[s++]=A[x++],A[s++]=A[x++],A[s++]=A[x++],C-=3}while(C>2);C&&(A[s++]=A[x++],C>1&&(A[s++]=A[x++]))}break}}break}}while(i<r&&s<a);i-=C=p>>3,f&=(1<<(p-=C<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=s<a?a-s+257:257-(s-a),T.hold=f,T.bits=p}},1168:function(e,t,n){"use strict";var i=n(8409),r=n(1656),s=n(374),o=n(6583),a=n(7500),l=a.Z_FINISH,c=a.Z_BLOCK,u=a.Z_TREES,h=a.Z_OK,d=a.Z_STREAM_END,f=a.Z_NEED_DICT,p=a.Z_STREAM_ERROR,g=a.Z_DATA_ERROR,m=a.Z_MEM_ERROR,v=a.Z_BUF_ERROR,y=a.Z_DEFLATED,b=16180,w=16190,C=16191,S=16192,x=16194,k=16199,_=16200,A=16206,T=16209,R=16210,$=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function E(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var L,M,I=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<b||t.mode>16211?1:0},F=function(e){if(I(e))return p;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=b,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,h},P=function(e){if(I(e))return p;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,F(e)},D=function(e,t){var n;if(I(e))return p;var i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?p:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,P(e))},B=function(e,t){if(!e)return p;var n=new E;e.state=n,n.strm=e,n.window=null,n.mode=b;var i=D(e,t);return i!==h&&(e.state=null),i},N=!0,O=function(e){if(N){L=new Int32Array(512),M=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,L,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,M,0,e.work,{bits:5}),N=!1}e.lencode=L,e.lenbits=9,e.distcode=M,e.distbits=5},G=function(e,t,n,i){var r,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):((r=s.wsize-s.wnext)>i&&(r=i),s.window.set(t.subarray(n-i,n-i+r),s.wnext),(i-=r)?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0};e.exports.inflateReset=P,e.exports.inflateReset2=D,e.exports.inflateResetKeep=F,e.exports.inflateInit=function(e){return B(e,15)},e.exports.inflateInit2=B,e.exports.inflate=function(e,t){var n,a,E,L,M,F,P,D,B,N,z,W,H,U,V,j,K,q,Y,X,Z,Q,J,ee,te=0,ne=new Uint8Array(4),ie=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(I(e)||!e.output||!e.input&&0!==e.avail_in)return p;(n=e.state).mode===C&&(n.mode=S),M=e.next_out,E=e.output,P=e.avail_out,L=e.next_in,a=e.input,F=e.avail_in,D=n.hold,B=n.bits,N=F,z=P,Q=h;e:for(;;)switch(n.mode){case b:if(0===n.wrap){n.mode=S;break}for(;B<16;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(2&n.wrap&&35615===D){0===n.wbits&&(n.wbits=15),n.check=0,ne[0]=255&D,ne[1]=D>>>8&255,n.check=r(n.check,ne,2,0),D=0,B=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&D)<<8)+(D>>8))%31){e.msg="incorrect header check",n.mode=T;break}if((15&D)!==y){e.msg="unknown compression method",n.mode=T;break}if(B-=4,Z=8+(15&(D>>>=4)),0===n.wbits&&(n.wbits=Z),Z>15||Z>n.wbits){e.msg="invalid window size",n.mode=T;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&D?16189:C,D=0,B=0;break;case 16181:for(;B<16;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(n.flags=D,(255&n.flags)!==y){e.msg="unknown compression method",n.mode=T;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=T;break}n.head&&(n.head.text=D>>8&1),512&n.flags&&4&n.wrap&&(ne[0]=255&D,ne[1]=D>>>8&255,n.check=r(n.check,ne,2,0)),D=0,B=0,n.mode=16182;case 16182:for(;B<32;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.head&&(n.head.time=D),512&n.flags&&4&n.wrap&&(ne[0]=255&D,ne[1]=D>>>8&255,ne[2]=D>>>16&255,ne[3]=D>>>24&255,n.check=r(n.check,ne,4,0)),D=0,B=0,n.mode=16183;case 16183:for(;B<16;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.head&&(n.head.xflags=255&D,n.head.os=D>>8),512&n.flags&&4&n.wrap&&(ne[0]=255&D,ne[1]=D>>>8&255,n.check=r(n.check,ne,2,0)),D=0,B=0,n.mode=16184;case 16184:if(1024&n.flags){for(;B<16;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.length=D,n.head&&(n.head.extra_len=D),512&n.flags&&4&n.wrap&&(ne[0]=255&D,ne[1]=D>>>8&255,n.check=r(n.check,ne,2,0)),D=0,B=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((W=n.length)>F&&(W=F),W&&(n.head&&(Z=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(a.subarray(L,L+W),Z)),512&n.flags&&4&n.wrap&&(n.check=r(n.check,a,W,L)),F-=W,L+=W,n.length-=W),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===F)break e;W=0;do{Z=a[L+W++],n.head&&Z&&n.length<65536&&(n.head.name+=String.fromCharCode(Z))}while(Z&&W<F);if(512&n.flags&&4&n.wrap&&(n.check=r(n.check,a,W,L)),F-=W,L+=W,Z)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===F)break e;W=0;do{Z=a[L+W++],n.head&&Z&&n.length<65536&&(n.head.comment+=String.fromCharCode(Z))}while(Z&&W<F);if(512&n.flags&&4&n.wrap&&(n.check=r(n.check,a,W,L)),F-=W,L+=W,Z)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;B<16;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(4&n.wrap&&D!==(65535&n.check)){e.msg="header crc mismatch",n.mode=T;break}D=0,B=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=C;break;case 16189:for(;B<32;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}e.adler=n.check=$(D),D=0,B=0,n.mode=w;case w:if(0===n.havedict)return e.next_out=M,e.avail_out=P,e.next_in=L,e.avail_in=F,n.hold=D,n.bits=B,f;e.adler=n.check=1,n.mode=C;case C:if(t===c||t===u)break e;case S:if(n.last){D>>>=7&B,B-=7&B,n.mode=A;break}for(;B<3;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}switch(n.last=1&D,B-=1,3&(D>>>=1)){case 0:n.mode=16193;break;case 1:if(O(n),n.mode=k,t===u){D>>>=2,B-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=T}D>>>=2,B-=2;break;case 16193:for(D>>>=7&B,B-=7&B;B<32;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if((65535&D)!==(D>>>16^65535)){e.msg="invalid stored block lengths",n.mode=T;break}if(n.length=65535&D,D=0,B=0,n.mode=x,t===u)break e;case x:n.mode=16195;case 16195:if(W=n.length){if(W>F&&(W=F),W>P&&(W=P),0===W)break e;E.set(a.subarray(L,L+W),M),F-=W,L+=W,P-=W,M+=W,n.length-=W;break}n.mode=C;break;case 16196:for(;B<14;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(n.nlen=257+(31&D),D>>>=5,B-=5,n.ndist=1+(31&D),D>>>=5,B-=5,n.ncode=4+(15&D),D>>>=4,B-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=T;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;B<3;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.lens[ie[n.have++]]=7&D,D>>>=3,B-=3}for(;n.have<19;)n.lens[ie[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,J={bits:n.lenbits},Q=o(0,n.lens,0,19,n.lencode,0,n.work,J),n.lenbits=J.bits,Q){e.msg="invalid code lengths set",n.mode=T;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;j=(te=n.lencode[D&(1<<n.lenbits)-1])>>>16&255,K=65535&te,!((V=te>>>24)<=B);){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(K<16)D>>>=V,B-=V,n.lens[n.have++]=K;else{if(16===K){for(ee=V+2;B<ee;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(D>>>=V,B-=V,0===n.have){e.msg="invalid bit length repeat",n.mode=T;break}Z=n.lens[n.have-1],W=3+(3&D),D>>>=2,B-=2}else if(17===K){for(ee=V+3;B<ee;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}B-=V,Z=0,W=3+(7&(D>>>=V)),D>>>=3,B-=3}else{for(ee=V+7;B<ee;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}B-=V,Z=0,W=11+(127&(D>>>=V)),D>>>=7,B-=7}if(n.have+W>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=T;break}for(;W--;)n.lens[n.have++]=Z}}if(n.mode===T)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=T;break}if(n.lenbits=9,J={bits:n.lenbits},Q=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,J),n.lenbits=J.bits,Q){e.msg="invalid literal/lengths set",n.mode=T;break}if(n.distbits=6,n.distcode=n.distdyn,J={bits:n.distbits},Q=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,J),n.distbits=J.bits,Q){e.msg="invalid distances set",n.mode=T;break}if(n.mode=k,t===u)break e;case k:n.mode=_;case _:if(F>=6&&P>=258){e.next_out=M,e.avail_out=P,e.next_in=L,e.avail_in=F,n.hold=D,n.bits=B,s(e,z),M=e.next_out,E=e.output,P=e.avail_out,L=e.next_in,a=e.input,F=e.avail_in,D=n.hold,B=n.bits,n.mode===C&&(n.back=-1);break}for(n.back=0;j=(te=n.lencode[D&(1<<n.lenbits)-1])>>>16&255,K=65535&te,!((V=te>>>24)<=B);){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(j&&0===(240&j)){for(q=V,Y=j,X=K;j=(te=n.lencode[X+((D&(1<<q+Y)-1)>>q)])>>>16&255,K=65535&te,!(q+(V=te>>>24)<=B);){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}D>>>=q,B-=q,n.back+=q}if(D>>>=V,B-=V,n.back+=V,n.length=K,0===j){n.mode=16205;break}if(32&j){n.back=-1,n.mode=C;break}if(64&j){e.msg="invalid literal/length code",n.mode=T;break}n.extra=15&j,n.mode=16201;case 16201:if(n.extra){for(ee=n.extra;B<ee;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.length+=D&(1<<n.extra)-1,D>>>=n.extra,B-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;j=(te=n.distcode[D&(1<<n.distbits)-1])>>>16&255,K=65535&te,!((V=te>>>24)<=B);){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(0===(240&j)){for(q=V,Y=j,X=K;j=(te=n.distcode[X+((D&(1<<q+Y)-1)>>q)])>>>16&255,K=65535&te,!(q+(V=te>>>24)<=B);){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}D>>>=q,B-=q,n.back+=q}if(D>>>=V,B-=V,n.back+=V,64&j){e.msg="invalid distance code",n.mode=T;break}n.offset=K,n.extra=15&j,n.mode=16203;case 16203:if(n.extra){for(ee=n.extra;B<ee;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}n.offset+=D&(1<<n.extra)-1,D>>>=n.extra,B-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=T;break}n.mode=16204;case 16204:if(0===P)break e;if(W=z-P,n.offset>W){if((W=n.offset-W)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=T;break}W>n.wnext?(W-=n.wnext,H=n.wsize-W):H=n.wnext-W,W>n.length&&(W=n.length),U=n.window}else U=E,H=M-n.offset,W=n.length;W>P&&(W=P),P-=W,n.length-=W;do{E[M++]=U[H++]}while(--W);0===n.length&&(n.mode=_);break;case 16205:if(0===P)break e;E[M++]=n.length,P--,n.mode=_;break;case A:if(n.wrap){for(;B<32;){if(0===F)break e;F--,D|=a[L++]<<B,B+=8}if(z-=P,e.total_out+=z,n.total+=z,4&n.wrap&&z&&(e.adler=n.check=n.flags?r(n.check,E,z,M-z):i(n.check,E,z,M-z)),z=P,4&n.wrap&&(n.flags?D:$(D))!==n.check){e.msg="incorrect data check",n.mode=T;break}D=0,B=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;B<32;){if(0===F)break e;F--,D+=a[L++]<<B,B+=8}if(4&n.wrap&&D!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=T;break}D=0,B=0}n.mode=16208;case 16208:Q=d;break e;case T:Q=g;break e;case R:return m;default:return p}return e.next_out=M,e.avail_out=P,e.next_in=L,e.avail_in=F,n.hold=D,n.bits=B,(n.wsize||z!==e.avail_out&&n.mode<T&&(n.mode<A||t!==l))&&G(e,e.output,e.next_out,z-e.avail_out)?(n.mode=R,m):(N-=e.avail_in,z-=e.avail_out,e.total_in+=N,e.total_out+=z,n.total+=z,4&n.wrap&&z&&(e.adler=n.check=n.flags?r(n.check,E,z,e.next_out-z):i(n.check,E,z,e.next_out-z)),e.data_type=n.bits+(n.last?64:0)+(n.mode===C?128:0)+(n.mode===k||n.mode===x?256:0),(0===N&&0===z||t===l)&&Q===h&&(Q=v),Q)},e.exports.inflateEnd=function(e){if(I(e))return p;var t=e.state;return t.window&&(t.window=null),e.state=null,h},e.exports.inflateGetHeader=function(e,t){if(I(e))return p;var n=e.state;return 0===(2&n.wrap)?p:(n.head=t,t.done=!1,h)},e.exports.inflateSetDictionary=function(e,t){var n,r=t.length;return I(e)||0!==(n=e.state).wrap&&n.mode!==w?p:n.mode===w&&i(1,t,r,0)!==n.check?g:G(e,t,r,r)?(n.mode=R,m):(n.havedict=1,h)},e.exports.inflateInfo="pako inflate (from Nodeca project)"},6583:function(e){"use strict";var t=15,n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),i=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),r=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),s=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=function(e,o,a,l,c,u,h,d){var f,p,g,m,v,y,b,w,C,S=d.bits,x=0,k=0,_=0,A=0,T=0,R=0,$=0,E=0,L=0,M=0,I=null,F=new Uint16Array(16),P=new Uint16Array(16),D=null;for(x=0;x<=t;x++)F[x]=0;for(k=0;k<l;k++)F[o[a+k]]++;for(T=S,A=t;A>=1&&0===F[A];A--);if(T>A&&(T=A),0===A)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(_=1;_<A&&0===F[_];_++);for(T<_&&(T=_),E=1,x=1;x<=t;x++)if(E<<=1,(E-=F[x])<0)return-1;if(E>0&&(0===e||1!==A))return-1;for(P[1]=0,x=1;x<t;x++)P[x+1]=P[x]+F[x];for(k=0;k<l;k++)0!==o[a+k]&&(h[P[o[a+k]]++]=k);if(0===e?(I=D=h,y=20):1===e?(I=n,D=i,y=257):(I=r,D=s,y=0),M=0,k=0,x=_,v=u,R=T,$=0,g=-1,m=(L=1<<T)-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){b=x-$,h[k]+1<y?(w=0,C=h[k]):h[k]>=y?(w=D[h[k]-y],C=I[h[k]-y]):(w=96,C=0),f=1<<x-$,_=p=1<<R;do{c[v+(M>>$)+(p-=f)]=b<<24|w<<16|C|0}while(0!==p);for(f=1<<x-1;M&f;)f>>=1;if(0!==f?(M&=f-1,M+=f):M=0,k++,0===--F[x]){if(x===A)break;x=o[a+h[k]]}if(x>T&&(M&m)!==g){for(0===$&&($=T),v+=_,E=1<<(R=x-$);R+$<A&&!((E-=F[R+$])<=0);)R++,E<<=1;if(L+=1<<R,1===e&&L>852||2===e&&L>592)return 1;c[g=M&m]=T<<24|R<<16|v-u|0}}return 0!==M&&(c[v+M]=x-$<<24|64<<16|0),d.bits=T,0}},3470:function(e){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},889:function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var n=256,i=286,r=30,s=15,o=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new Array(576);t(u);var h=new Array(60);t(h);var d=new Array(512);t(d);var f=new Array(256);t(f);var p=new Array(29);t(p);var g,m,v,y=new Array(r);function b(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(y);var C=function(e){return e<256?d[e]:d[256+(e>>>7)]},S=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},x=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},k=function(e,t,n){x(e,n[2*t],n[2*t+1])},_=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},A=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=s;i++)a=a+n[i-1]<<1,o[i]=a;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=_(o[l]++,l))}},T=function(e){var t;for(t=0;t<i;t++)e.dyn_ltree[2*t]=0;for(t=0;t<r;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},R=function(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},$=function(e,t,n,i){var r=2*t,s=2*n;return e[r]<e[s]||e[r]===e[s]&&i[t]<=i[n]},E=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&$(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!$(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},L=function(e,t,i){var r,s,l,c,u=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+u++],r+=(255&e.pending_buf[e.sym_buf+u++])<<8,s=e.pending_buf[e.sym_buf+u++],0===r?k(e,s,t):(l=f[s],k(e,l+n+1,t),0!==(c=o[l])&&(s-=p[l],x(e,s,c)),r--,l=C(r),k(e,l,i),0!==(c=a[l])&&(r-=y[l],x(e,r,c)))}while(u<e.sym_next);k(e,256,t)},M=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,l=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)E(e,o,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],E(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,E(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,l,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=s;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)>g&&(o=g,m++),c[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=p&&(a=f[i-p]),l=c[2*i],e.opt_len+=l*(o+a),d&&(e.static_len+=l*(h[2*i+1]+a)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(e,t),A(o,u,e.bl_count)},I=function(e,t,n){var i,r,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++a<l&&r===o||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==s&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4))},F=function(e,t,n){var i,r,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++a<l&&r===o)){if(a<c)do{k(e,r,e.bl_tree)}while(0!==--a);else 0!==r?(r!==s&&(k(e,r,e.bl_tree),a--),k(e,16,e.bl_tree),x(e,a-3,2)):a<=10?(k(e,17,e.bl_tree),x(e,a-3,3)):(k(e,18,e.bl_tree),x(e,a-11,7));a=0,s=r,0===o?(l=138,c=3):r===o?(l=6,c=3):(l=7,c=4)}},P=!1,D=function(e,t,n,i){x(e,0+(i?1:0),3),R(e),S(e,n),S(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};e.exports._tr_init=function(e){P||(!function(){var e,t,n,c,w,C=new Array(16);for(n=0,c=0;c<28;c++)for(p[c]=n,e=0;e<1<<o[c];e++)f[n++]=c;for(f[n-1]=c,w=0,c=0;c<16;c++)for(y[c]=w,e=0;e<1<<a[c];e++)d[w++]=c;for(w>>=7;c<r;c++)for(y[c]=w<<7,e=0;e<1<<a[c]-7;e++)d[256+w++]=c;for(t=0;t<=s;t++)C[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,C[8]++;for(;e<=255;)u[2*e+1]=9,e++,C[9]++;for(;e<=279;)u[2*e+1]=7,e++,C[7]++;for(;e<=287;)u[2*e+1]=8,e++,C[8]++;for(A(u,287,C),e=0;e<r;e++)h[2*e+1]=5,h[2*e]=_(e,5);g=new b(u,o,257,i,s),m=new b(h,a,0,r,s),v=new b(new Array(0),l,0,19,7)}(),P=!0),e.l_desc=new w(e.dyn_ltree,g),e.d_desc=new w(e.dyn_dtree,m),e.bl_desc=new w(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,T(e)},e.exports._tr_stored_block=D,e.exports._tr_flush_block=function(e,t,i,r){var s,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<n;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),a=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=s&&(s=o)):s=o=i+5,i+4<=s&&-1!==t?D(e,t,i,r):4===e.strategy||o===s?(x(e,2+(r?1:0),3),L(e,u,h)):(x(e,4+(r?1:0),3),function(e,t,n,i){var r;for(x(e,t-257,5),x(e,n-1,5),x(e,i-4,4),r=0;r<i;r++)x(e,e.bl_tree[2*c[r]+1],3);F(e,e.dyn_ltree,t-1),F(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),L(e,e.dyn_ltree,e.dyn_dtree)),T(e),r&&R(e)},e.exports._tr_tally=function(e,t,i){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(f[i]+n+1)]++,e.dyn_dtree[2*C(t)]++),e.sym_next===e.sym_end},e.exports._tr_align=function(e){x(e,2,3),k(e,256,u),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},5806:function(e){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},888:function(e,t,n){"use strict";var i=n(9047);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6877:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(5675),o=n(2007),a=n(2791),l=n(2467),c=n(4789),u=(0,c.getAceInstance)(),h=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,i=t.onBeforeLoad,r=t.onValidate,s=t.mode,o=t.focus,a=t.theme,l=t.fontSize,h=t.value,d=t.defaultValue,f=t.showGutter,p=t.wrapEnabled,g=t.showPrintMargin,m=t.scrollMargin,v=void 0===m?[0,0,0,0]:m,y=t.keyboardHandler,b=t.onLoad,w=t.commands,C=t.annotations,S=t.markers,x=t.placeholder;this.editor=u.edit(this.refEditor),i&&i(u);for(var k=Object.keys(this.props.editorProps),_=0;_<k.length;_++)this.editor[k[_]]=this.props.editorProps[k[_]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(v[0],v[1],v[2],v[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"===typeof s?"ace/mode/".concat(s):s),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"===typeof l?"".concat(l,"px"):l),this.editor.getSession().setValue(d||(h||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(p),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),x&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),r&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(C||[]),S&&S.length>0&&this.handleMarkers(S);var A=this.editor.$options;c.editorOptions.forEach((function(t){A.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(w)&&w.forEach((function(t){"string"===typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),y&&this.editor.setKeyboardHandler("ace/keyboard/"+y),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),o&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,i=0;i<c.editorOptions.length;i++){var r=c.editorOptions[i];n[r]!==t[r]&&this.editor.setOption(r,n[r])}if(n.className!==t.className){var s=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+n.className+" "+s.join(" ")}var o=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(o){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"===typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"===typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),l(n.setOptions,t.setOptions)||this.handleOptions(n),!o&&l(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!l(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),l(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var i in n)n.hasOwnProperty(i)&&this.editor.getSession().removeMarker(n[i].id);for(var i in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(i)&&"ace_active-line"!==n[i].clazz&&"ace_selected-word"!==n[i].clazz&&this.editor.getSession().removeMarker(n[i].id);e.forEach((function(e){var n=e.startRow,i=e.startCol,r=e.endRow,o=e.endCol,a=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new s.Range(n,i,r,o);t.editor.getSession().addMarker(h,a,l,u)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,i=e.renderer.placeholderNode;!n&&i?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!i?((i=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",i.className="ace_comment ace_placeholder",i.style.padding="0 9px",i.style.position="absolute",i.style.zIndex="3",e.renderer.scroller.appendChild(i)):n&&i&&(i.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,i=e.height,s=e.style,o=r({width:n,height:i},s);return a.createElement("div",{ref:this.updateRef,id:t,style:o})},t.propTypes={mode:o.oneOfType([o.string,o.object]),focus:o.bool,theme:o.string,name:o.string,className:o.string,height:o.string,width:o.string,fontSize:o.oneOfType([o.number,o.string]),showGutter:o.bool,onChange:o.func,onCopy:o.func,onPaste:o.func,onFocus:o.func,onInput:o.func,onBlur:o.func,onScroll:o.func,value:o.string,defaultValue:o.string,onLoad:o.func,onSelectionChange:o.func,onCursorChange:o.func,onBeforeLoad:o.func,onValidate:o.func,minLines:o.number,maxLines:o.number,readOnly:o.bool,highlightActiveLine:o.bool,tabSize:o.number,showPrintMargin:o.bool,cursorStart:o.number,debounceChangePeriod:o.number,editorProps:o.object,setOptions:o.object,style:o.object,scrollMargin:o.array,annotations:o.array,markers:o.array,keyboardHandler:o.string,wrapEnabled:o.bool,enableSnippets:o.bool,enableBasicAutocompletion:o.oneOfType([o.bool,o.array]),enableLiveAutocompletion:o.oneOfType([o.bool,o.array]),navigateToFileEnd:o.bool,commands:o.array,placeholder:o.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(a.Component);t.default=h},5613:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2007),s=n(2791),o=n(812),a=n(3484),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return i(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new a,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var i=e.diff_main(t,n);e.diff_cleanupSemantic(i);var r=this.generateDiffedLines(i);return this.setCodeMarkers(r)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,i=1,r={left:[],right:[]},s={left:1,right:1};return e.forEach((function(e){var o=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var c=a[0],u=a[a.length-1],h=0;switch(o){case t:s.left+=l,s.right+=l;break;case n:"\n"===c&&(s.left++,l--),0===(h=l)&&r.right.push({startLine:s.right,endLine:s.right}),"\n"===u&&(h-=1),r.left.push({startLine:s.left,endLine:s.left+h}),s.left+=l;break;case i:"\n"===c&&(s.right++,l--),0===(h=l)&&r.left.push({startLine:s.left,endLine:s.left}),"\n"===u&&(h-=1),r.right.push({startLine:s.right,endLine:s.right+h}),s.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),r},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},i=0;i<e.left.length;i++){var r={startRow:e.left[i].startLine-1,endRow:e.left[i].endLine,type:"text",className:"codeMarker"};n.left.push(r)}for(i=0;i<e.right.length;i++){r={startRow:e.right[i].startLine-1,endRow:e.right[i].endLine,type:"text",className:"codeMarker"};n.right.push(r)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return s.createElement(o.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:r.number,editorProps:r.object,enableBasicAutocompletion:r.bool,enableLiveAutocompletion:r.bool,focus:r.bool,fontSize:r.number,height:r.string,highlightActiveLine:r.bool,maxLines:r.number,minLines:r.number,mode:r.string,name:r.string,className:r.string,onLoad:r.func,onPaste:r.func,onScroll:r.func,onChange:r.func,orientation:r.string,readOnly:r.bool,scrollMargin:r.array,setOptions:r.object,showGutter:r.bool,showPrintMargin:r.bool,splits:r.number,style:r.object,tabSize:r.number,theme:r.string,value:r.array,width:r.string,wrapEnabled:r.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(s.Component);t.default=l},4789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var e;return"undefined"===typeof window?(n.g.window={},e=n(5675),delete n.g.window):window.ace?(e=window.ace).acequire=window.ace.require||window.ace.acequire:e=n(5675),e};t.debounce=function(e,t){var n=null;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}},8399:function(e,t,n){"use strict";var i=n(6877);n(5613).default,n(812).default,t.ZP=i.default},812:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4789),o=(0,s.getAceInstance)(),a=n(5675),l=n(6866),c=n(2007),u=n(2791),h=n(2467),d=n(8929),f=function(e){function t(t){var n=e.call(this,t)||this;return s.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=s.debounce,n}return i(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,i=t.onBeforeLoad,r=t.mode,a=t.focus,c=t.theme,u=t.fontSize,h=t.value,f=t.defaultValue,p=t.cursorStart,g=t.showGutter,m=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,b=void 0===y?[0,0,0,0]:y,w=t.keyboardHandler,C=t.onLoad,S=t.commands,x=t.annotations,k=t.markers,_=t.splits;this.editor=o.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(c)),i&&i(o);var A=Object.keys(this.props.editorProps),T=new l.Split(this.editor.container,"ace/theme/".concat(c),_);this.editor.env.split=T,this.splitEditor=T.getEditor(0),this.split=T,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var R=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),T.forEach((function(t,n){for(var i=0;i<A.length;i++)t[A[i]]=e.props.editorProps[A[i]];var a=d(f,n),l=d(h,n,"");t.session.setUndoManager(new o.UndoManager),t.setTheme("ace/theme/".concat(c)),t.renderer.setScrollMargin(b[0],b[1],b[2],b[3]),t.getSession().setMode("ace/mode/".concat(r)),t.setFontSize(u),t.renderer.setShowGutter(g),t.getSession().setUseWrapMode(m),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===a?l:a,p);var y=d(x,n,[]),C=d(k,n,[]);t.getSession().setAnnotations(y),C&&C.length>0&&e.handleMarkers(C,t);for(i=0;i<s.editorOptions.length;i++){var _=s.editorOptions[i];R.hasOwnProperty(_)?t.setOption(_,e.props[_]):e.props[_]&&console.warn("ReaceAce: editor option ".concat(_," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(S)&&S.forEach((function(e){"string"===typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),w&&t.setKeyboardHandler("ace/keyboard/"+w)})),n&&(this.refEditor.className+=" "+n),a&&this.splitEditor.focus();var $=this.editor.env.split;$.setOrientation("below"===this.props.orientation?$.BELOW:$.BESIDE),$.resize(!0),C&&C($)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,i=this.props,r=this.editor.env.split;if(i.splits!==n.splits&&r.setSplits(i.splits),i.orientation!==n.orientation&&r.setOrientation("below"===i.orientation?r.BELOW:r.BESIDE),r.forEach((function(e,r){i.mode!==n.mode&&e.getSession().setMode("ace/mode/"+i.mode),i.keyboardHandler!==n.keyboardHandler&&(i.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):e.setKeyboardHandler(null)),i.fontSize!==n.fontSize&&e.setFontSize(i.fontSize),i.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(i.showPrintMargin),i.showGutter!==n.showGutter&&e.renderer.setShowGutter(i.showGutter);for(var o=0;o<s.editorOptions.length;o++){var a=s.editorOptions[o];i[a]!==n[a]&&e.setOption(a,i[a])}h(i.setOptions,n.setOptions)||t.handleOptions(i,e);var l=d(i.value,r,"");if(e.getValue()!==l){t.silent=!0;var c=e.session.selection.toJSON();e.setValue(l,i.cursorStart),e.session.selection.fromJSON(c),t.silent=!1}var u=d(i.annotations,r,[]),f=d(n.annotations,r,[]);h(u,f)||e.getSession().setAnnotations(u);var p=d(i.markers,r,[]),g=d(n.markers,r,[]);!h(p,g)&&Array.isArray(p)&&t.handleMarkers(p,e)})),i.className!==n.className){var o=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=o.indexOf(e);o.splice(t,1)})),this.refEditor.className=" "+i.className+" "+o.join(" ")}i.theme!==n.theme&&r.setTheme("ace/theme/"+i.theme),i.focus&&!n.focus&&this.splitEditor.focus(),i.height===this.props.height&&i.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),i=0;i<n.length;i++)t.setOption(n[i],e.setOptions[n[i]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var i in n)n.hasOwnProperty(i)&&t.getSession().removeMarker(n[i].id);for(var i in n=t.getSession().getMarkers(!1))n.hasOwnProperty(i)&&t.getSession().removeMarker(n[i].id);e.forEach((function(e){var n=e.startRow,i=e.startCol,r=e.endRow,s=e.endCol,o=e.className,l=e.type,c=e.inFront,u=void 0!==c&&c,h=new a.Range(n,i,r,s);t.getSession().addMarker(h,o,l,u)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,i=e.height,s=e.style,o=r({width:n,height:i},s);return u.createElement("div",{ref:this.updateRef,id:t,style:o})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(u.Component);t.default=f},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,i,r,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var D,B=Object.assign;function N(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var O=!1;function G(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function z(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function j(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=V(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=U(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function se(e,t){var n=U(t.value),i=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ge(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,ke=null;function _e(e){if(e=mr(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=yr(t),Se(e.stateNode,e.type,t))}}function Ae(e){xe?ke?ke.push(e):ke=[e]:xe=e}function Te(){if(xe){var e=xe,t=ke;if(ke=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Re(e,t){return e(t)}function $e(){}var Ee=!1;function Le(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Re(e,t,n)}finally{Ee=!1,(null!==xe||null!==ke)&&($e(),Te())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=yr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Ie=!1}function Pe(e,t,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Be=null,Ne=!1,Oe=null,Ge={onError:function(e){De=!0,Be=e}};function ze(e,t,n,i,r,s,o,a,l){De=!1,Be=null,Pe.apply(Ge,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ue(r),e;if(o===i)return Ue(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?je(e):null}function je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=je(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ze=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~r;0!==a?i=ht(a):0!==(s&=o)&&(i=ht(s))}else 0!==(o=n&~r)?i=ht(o):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-ot(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ot(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Ct,St,xt,kt,_t=!1,At=[],Tt=null,Rt=null,$t=null,Et=new Map,Lt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Pt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=mr(t))&&Ct(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=gr(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mr(n))&&Ct(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);we=i,n.target.dispatchEvent(i),we=null,t.shift()}return!0}function Nt(e,t,n){Bt(e)&&n.delete(t)}function Ot(){_t=!1,null!==Tt&&Bt(Tt)&&(Tt=null),null!==Rt&&Bt(Rt)&&(Rt=null),null!==$t&&Bt($t)&&($t=null),Et.forEach(Nt),Lt.forEach(Nt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ot)))}function zt(e){function t(t){return Gt(t,e)}if(0<At.length){Gt(At[0],e);for(var n=1;n<At.length;n++){var i=At[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Gt(Tt,e),null!==Rt&&Gt(Rt,e),null!==$t&&Gt($t,e),Et.forEach(t),Lt.forEach(t),n=0;n<Mt.length;n++)(i=Mt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var Wt=w.ReactCurrentBatchConfig;function Ht(e,t,n,i){var r=yt,s=Wt.transition;Wt.transition=null;try{yt=1,Vt(e,t,n,i)}finally{yt=r,Wt.transition=s}}function Ut(e,t,n,i){var r=yt,s=Wt.transition;Wt.transition=null;try{yt=4,Vt(e,t,n,i)}finally{yt=r,Wt.transition=s}}function Vt(e,t,n,i){var r=Kt(e,t,n,i);if(null===r)Wi(e,t,i,jt,n),Ft(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Tt=Pt(Tt,e,t,n,i,r),!0;case"dragenter":return Rt=Pt(Rt,e,t,n,i,r),!0;case"mouseover":return $t=Pt($t,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Et.set(s,Pt(Et.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Lt.set(s,Pt(Lt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ft(e,i),4&t&&-1<It.indexOf(e)){for(;null!==r;){var s=mr(r);if(null!==s&&wt(s),null===(s=Kt(e,t,n,i))&&Wi(e,t,i,jt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}var jt=null;function Kt(e,t,n,i){if(jt=null,null!==(e=gr(e=Ce(i))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function Qt(){if(Zt)return Zt;var e,t,n=Xt,i=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var o=i-e;for(t=1;t<=o&&n[i-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,i,r,s){for(var o in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?en:tn,this.isPropagationStopped=tn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,sn,on,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=nn(an),cn=B({},an,{view:0,detail:0}),un=nn(cn),hn=B({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,sn=e.screenY-on.screenY):sn=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),dn=nn(hn),fn=nn(B({},hn,{dataTransfer:0})),pn=nn(B({},cn,{relatedTarget:0})),gn=nn(B({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=B({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=nn(mn),yn=nn(B({},an,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return Sn}var kn=B({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=nn(kn),An=nn(B({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(B({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=nn(B({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),$n=B({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=nn($n),Ln=[9,13,27,32],Mn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Fn=u&&"TextEvent"in window&&!In,Pn=u&&(!Mn||In&&8<In&&11>=In),Dn=String.fromCharCode(32),Bn=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,i){Ae(i),0<(t=Ui(t,"onChange")).length&&(n=new ln("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Un=null,Vn=null;function jn(e){Di(e,0)}function Kn(e){if(K(vr(e)))return e}function qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Zn="function"===typeof Qn.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function Jn(){Un&&(Un.detachEvent("onpropertychange",ei),Vn=Un=null)}function ei(e){if("value"===e.propertyName&&Kn(Vn)){var t=[];Hn(t,Vn,e,Ce(e)),Le(jn,t)}}function ti(e,t,n){"focusin"===e?(Jn(),Vn=n,(Un=t).attachEvent("onpropertychange",ei)):"focusout"===e&&Jn()}function ni(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Vn)}function ii(e,t){if("click"===e)return Kn(t)}function ri(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oi(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ai(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function li(e,t){var n,i=ai(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ai(i)}}function ci(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ci(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ui(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function di(e){var t=ui(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ci(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=li(n,s);var o=li(n,i);r&&o&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=u&&"documentMode"in document&&11>=document.documentMode,pi=null,gi=null,mi=null,vi=!1;function yi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==pi||pi!==q(i)||("selectionStart"in(i=pi)&&hi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},mi&&oi(mi,i)||(mi=i,0<(i=Ui(gi,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=pi)))}function bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionend:bi("Transition","TransitionEnd")},Ci={},Si={};function xi(e){if(Ci[e])return Ci[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return Ci[e]=n[t];return e}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var ki=xi("animationend"),_i=xi("animationiteration"),Ai=xi("animationstart"),Ti=xi("transitionend"),Ri=new Map,$i="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){Ri.set(e,t),l(t,[e])}for(var Li=0;Li<$i.length;Li++){var Mi=$i[Li];Ei(Mi.toLowerCase(),"on"+(Mi[0].toUpperCase()+Mi.slice(1)))}Ei(ki,"onAnimationEnd"),Ei(_i,"onAnimationIteration"),Ei(Ai,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Ti,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Pi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Be;De=!1,Be=null,Ne||(Ne=!0,Oe=u)}}(i,t,void 0,e),e.currentTarget=null}function Di(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Pi(r,a,c),s=l}else for(o=0;o<i.length;o++){if(l=(a=i[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Pi(r,a,c),s=l}}}if(Ne)throw e=Oe,Ne=!1,Oe=null,e}function Bi(e,t){var n=t[dr];void 0===n&&(n=t[dr]=new Set);var i=e+"__bubble";n.has(i)||(zi(t,e,2,!1),n.add(i))}function Ni(e,t,n){var i=0;t&&(i|=4),zi(n,e,i,t)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Oi]){e[Oi]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fi.has(t)||Ni(t,!1,e),Ni(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Oi]||(t[Oi]=!0,Ni("selectionchange",!1,t))}}function zi(e,t,n,i){switch(qt(t)){case 1:var r=Ht;break;case 4:r=Ut;break;default:r=Vt}n=r.bind(null,t,n,e),r=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===o)for(o=i.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;o=o.return}for(;null!==a;){if(null===(o=gr(a)))return;if(5===(l=o.tag)||6===l){i=s=o;continue e}a=a.parentNode}}i=i.return}Le((function(){var i=s,r=Ce(n),o=[];e:{var a=Ri.get(e);if(void 0!==a){var l=ln,c=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case ki:case _i:case Ai:l=gn;break;case Ti:l=Rn;break;case"scroll":l=un;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Me(p,d))&&u.push(Hi(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,r),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gr(c)&&!c[hr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?gr(c):null)&&(c!==(h=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=dn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:vr(l),f=null==c?a:vr(c),(a=new u(g,p+"leave",l,n,r)).target=h,a.relatedTarget=f,g=null,gr(r)===i&&((u=new u(d,p+"enter",c,n,r)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Vi(f))p++;for(f=0,g=d;g;g=Vi(g))f++;for(;0<p-f;)u=Vi(u),p--;for(;0<f-p;)d=Vi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Vi(u),d=Vi(d)}u=null}else u=null;null!==l&&ji(o,a,l,u,!1),null!==c&&null!==h&&ji(o,h,c,u,!0)}if("select"===(l=(a=i?vr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=qn;else if(Wn(a))if(Yn)m=ri;else{m=ni;var v=ti}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ii);switch(m&&(m=m(e,i))?Hn(o,m,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=i?vr(i):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(pi=v,gi=i,mi=null);break;case"focusout":mi=gi=pi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,yi(o,n,r);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":yi(o,n,r)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Nn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Pn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=Qt()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Gn=!0)),0<(v=Ui(i,b)).length&&(b=new yn(b,e,null,n,r),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=On(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Bn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Mn&&Nn(e,t)?(e=Qt(),Zt=Xt=Yt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ui(i,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),o.push({event:r,listeners:i}),r.data=y))}Di(o,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Me(e,n))&&i.unshift(Hi(e,s,r)),null!=(s=Me(e,t))&&i.push(Hi(e,s,r))),e=e.return}return i}function Vi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ji(e,t,n,i,r){for(var s=t._reactName,o=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=Me(n,s))&&o.unshift(Hi(n,l,a)):r||null!=(l=Me(n,s))&&o.push(Hi(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Ki=/\r\n?/g,qi=/\u0000|\uFFFD/g;function Yi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(qi,"")}function Xi(e,t,n){if(t=Yi(t),Yi(e)!==t&&n)throw Error(s(425))}function Zi(){}var Qi=null;function Ji(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"===typeof setTimeout?setTimeout:void 0,tr="function"===typeof clearTimeout?clearTimeout:void 0,nr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nr?function(e){return nr.resolve(null).then(e).catch(rr)}:er;function rr(e){setTimeout((function(){throw e}))}function sr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);zt(t)}function or(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ar(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),cr="__reactFiber$"+lr,ur="__reactProps$"+lr,hr="__reactContainer$"+lr,dr="__reactEvents$"+lr,fr="__reactListeners$"+lr,pr="__reactHandles$"+lr;function gr(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[cr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ar(e);null!==e;){if(n=e[cr])return n;e=ar(e)}return t}n=(e=n).parentNode}return null}function mr(e){return!(e=e[cr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function yr(e){return e[ur]||null}var br=[],wr=-1;function Cr(e){return{current:e}}function Sr(e){0>wr||(e.current=br[wr],br[wr]=null,wr--)}function xr(e,t){wr++,br[wr]=e.current,e.current=t}var kr={},_r=Cr(kr),Ar=Cr(!1),Tr=kr;function Rr(e,t){var n=e.type.contextTypes;if(!n)return kr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function $r(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Er(){Sr(Ar),Sr(_r)}function Lr(e,t,n){if(_r.current!==kr)throw Error(s(168));xr(_r,t),xr(Ar,n)}function Mr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,H(e)||"Unknown",r));return B({},n,i)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Tr=_r.current,xr(_r,e),xr(Ar,Ar.current),!0}function Fr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Mr(e,t,Tr),i.__reactInternalMemoizedMergedChildContext=e,Sr(Ar),Sr(_r),xr(_r,e)):Sr(Ar),xr(Ar,n)}var Pr=null,Dr=!1,Br=!1;function Nr(e){null===Pr?Pr=[e]:Pr.push(e)}function Or(){if(!Br&&null!==Pr){Br=!0;var e=0,t=yt;try{var n=Pr;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Pr=null,Dr=!1}catch(r){throw null!==Pr&&(Pr=Pr.slice(e+1)),Ke(Je,Or),r}finally{yt=t,Br=!1}}return null}var Gr=w.ReactCurrentBatchConfig;function zr(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wr=Cr(null),Hr=null,Ur=null,Vr=null;function jr(){Vr=Ur=Hr=null}function Kr(e){var t=Wr.current;Sr(Wr),e._currentValue=t}function qr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t){Hr=e,Vr=Ur=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(Vr!==e)if(e={context:e,memoizedValue:t,next:null},null===Ur){if(null===Hr)throw Error(s(308));Ur=e,Hr.dependencies={lanes:0,firstContext:e}}else Ur=Ur.next=e;return t}var Zr=null,Qr=!1;function Jr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function es(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ns(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==bl&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=n.interleaved)?(t.next=t,null===Zr?Zr=[n]:Zr.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function is(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function rs(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ss(e,t,n,i){var r=e.updateQueue;Qr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=B({},h,d);break e;case 2:Qr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(d=a).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{o|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Al|=o,e.lanes=o,e.memoizedState=h}}function os(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var as=(new i.Component).refs;function ls(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var cs={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Hl(),r=Ul(e),s=ts(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ns(e,s),null!==(t=Vl(e,r,i))&&is(t,e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Hl(),r=Ul(e),s=ts(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),ns(e,s),null!==(t=Vl(e,r,i))&&is(t,e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hl(),i=Ul(e),r=ts(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),ns(e,r),null!==(t=Vl(e,i,n))&&is(t,e,i)}};function us(e,t,n,i,r,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!oi(n,i)||!oi(r,s))}function hs(e,t,n){var i=!1,r=kr,s=t.contextType;return"object"===typeof s&&null!==s?s=Xr(s):(r=$r(t)?Tr:_r.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Rr(e,r):kr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=cs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function ds(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&cs.enqueueReplaceState(t,t.state,null)}function fs(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=as,Jr(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Xr(s):(s=$r(t)?Tr:_r.current,r.context=Rr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ls(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&cs.enqueueReplaceState(r,r.state,null),ss(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}var ps=[],gs=0,ms=null,vs=0,ys=[],bs=0,ws=null,Cs=1,Ss="";function xs(e,t){ps[gs++]=vs,ps[gs++]=ms,ms=e,vs=t}function ks(e,t,n){ys[bs++]=Cs,ys[bs++]=Ss,ys[bs++]=ws,ws=e;var i=Cs;e=Ss;var r=32-ot(i)-1;i&=~(1<<r),n+=1;var s=32-ot(t)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Cs=1<<32-ot(t)+r|n<<r|i,Ss=s+e}else Cs=1<<s|n<<r|i,Ss=e}function _s(e){null!==e.return&&(xs(e,1),ks(e,1,0))}function As(e){for(;e===ms;)ms=ps[--gs],ps[gs]=null,vs=ps[--gs],ps[gs]=null;for(;e===ws;)ws=ys[--bs],ys[bs]=null,Ss=ys[--bs],ys[bs]=null,Cs=ys[--bs],ys[bs]=null}var Ts=null,Rs=null,$s=!1,Es=null;function Ls(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ms(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ts=e,Rs=or(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ts=e,Rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ws?{id:Cs,overflow:Ss}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ts=e,Rs=null,!0);default:return!1}}function Is(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fs(e){if($s){var t=Rs;if(t){var n=t;if(!Ms(e,t)){if(Is(e))throw Error(s(418));t=or(n.nextSibling);var i=Ts;t&&Ms(e,t)?Ls(i,n):(e.flags=-4097&e.flags|2,$s=!1,Ts=e)}}else{if(Is(e))throw Error(s(418));e.flags=-4097&e.flags|2,$s=!1,Ts=e}}}function Ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ts=e}function Ds(e){if(e!==Ts)return!1;if(!$s)return Ps(e),$s=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ji(e.type,e.memoizedProps)),t&&(t=Rs)){if(Is(e)){for(e=Rs;e;)e=or(e.nextSibling);throw Error(s(418))}for(;t;)Ls(e,t),t=or(t.nextSibling)}if(Ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Rs=or(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Rs=null}}else Rs=Ts?or(e.stateNode.nextSibling):null;return!0}function Bs(){Rs=Ts=null,$s=!1}function Ns(e){null===Es?Es=[e]:Es.push(e)}function Os(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=r.refs;t===as&&(t=r.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zs(e){return(0,e._init)(e._payload)}function Ws(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Tc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===x?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&zs(s)===t.type)?((i=r(t,n.props)).ref=Os(e,t,n),i.return=e,i):((i=kc(n.type,n.key,n.props,null,e.mode,i)).ref=Os(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Rc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=_c(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Tc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=Os(e,null,t),n.return=e,n;case S:return(t=Rc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=_c(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===r?c(e,t,n,i):null;case S:return n.key===r?u(e,t,n,i):null;case M:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||P(n))return null!==r?null:h(e,t,n,i,null);Gs(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case C:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case S:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||P(i))return h(t,e=e.get(n)||null,i,r,null);Gs(t,i)}return null}function g(r,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(r,h,a[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===a.length)return n(r,h),$s&&xs(r,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(r,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return $s&&xs(r,g),c}for(h=i(r,h);g<a.length;g++)null!==(m=p(h,r,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(r,e)})),$s&&xs(r,g),c}function m(r,a,l,c){var u=P(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(r,g),$s&&xs(r,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return $s&&xs(r,m),u}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(r,e)})),$s&&xs(r,m),u}return function e(i,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case C:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===x){if(7===u.tag){n(i,u.sibling),(s=r(u,o.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&zs(c)===u.type){n(i,u.sibling),(s=r(u,o.props)).ref=Os(i,u,o),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}o.type===x?((s=_c(o.props.children,i.mode,l,o.key)).return=i,i=s):((l=kc(o.type,o.key,o.props,null,i.mode,l)).ref=Os(i,s,o),l.return=i,i=l)}return a(i);case S:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(i,s.sibling),(s=r(s,o.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Rc(o,i.mode,l)).return=i,i=s}return a(i);case M:return e(i,s,(u=o._init)(o._payload),l)}if(te(o))return g(i,s,o,l);if(P(o))return m(i,s,o,l);Gs(i,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,o)).return=i,i=s):(n(i,s),(s=Tc(o,i.mode,l)).return=i,i=s),a(i)):n(i,s)}}var Hs=Ws(!0),Us=Ws(!1),Vs={},js=Cr(Vs),Ks=Cr(Vs),qs=Cr(Vs);function Ys(e){if(e===Vs)throw Error(s(174));return e}function Xs(e,t){switch(xr(qs,t),xr(Ks,e),xr(js,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(js),xr(js,t)}function Zs(){Sr(js),Sr(Ks),Sr(qs)}function Qs(e){Ys(qs.current);var t=Ys(js.current),n=le(t,e.type);t!==n&&(xr(Ks,e),xr(js,n))}function Js(e){Ks.current===e&&(Sr(js),Sr(Ks))}var eo=Cr(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function io(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var ro=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,oo=0,ao=null,lo=null,co=null,uo=!1,ho=!1,fo=0,po=0;function go(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function vo(e,t,n,i,r,o){if(oo=o,ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Jo:ea,e=n(i,r),ho){o=0;do{if(ho=!1,fo=0,25<=o)throw Error(s(301));o+=1,co=lo=null,t.updateQueue=null,ro.current=ta,e=n(i,r)}while(ho)}if(ro.current=Qo,t=null!==lo&&null!==lo.next,oo=0,co=lo=ao=null,uo=!1,t)throw Error(s(300));return e}function yo(){var e=0!==fo;return fo=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?ao.memoizedState=co=e:co=co.next=e,co}function wo(){if(null===lo){var e=ao.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?ao.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?ao.memoizedState=co=e:co=co.next=e}return co}function Co(e,t){return"function"===typeof t?t(e):t}function So(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=lo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){o=r.next,i=i.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((oo&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=i):c=c.next=d,ao.lanes|=h,Al|=h}u=u.next}while(null!==u&&u!==o);null===c?a=i:c.next=l,si(i,t.memoizedState)||(ya=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{o=r.lane,ao.lanes|=o,Al|=o,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=wo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);si(o,t.memoizedState)||(ya=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ko(){}function _o(e,t){var n=ao,i=wo(),r=t(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,ya=!0),i=i.queue,Do(Ro.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Lo(9,To.bind(null,n,i,r,t),void 0,null),null===bl)throw Error(s(349));0!==(30&oo)||Ao(n,t,r)}return r}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,i){t.value=n,t.getSnapshot=i,$o(t)&&Vl(e,1,-1)}function Ro(e,t,n){return n((function(){$o(t)&&Vl(e,1,-1)}))}function $o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Eo(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,ao,e),[t.memoizedState,e]}function Lo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ao.updateQueue)?(t={lastEffect:null,stores:null},ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Mo(){return wo().memoizedState}function Io(e,t,n,i){var r=bo();ao.flags|=e,r.memoizedState=Lo(1|t,n,void 0,void 0===i?null:i)}function Fo(e,t,n,i){var r=wo();i=void 0===i?null:i;var s=void 0;if(null!==lo){var o=lo.memoizedState;if(s=o.destroy,null!==i&&mo(i,o.deps))return void(r.memoizedState=Lo(t,n,s,i))}ao.flags|=e,r.memoizedState=Lo(1|t,n,s,i)}function Po(e,t){return Io(8390656,8,e,t)}function Do(e,t){return Fo(2048,8,e,t)}function Bo(e,t){return Fo(4,2,e,t)}function No(e,t){return Fo(4,4,e,t)}function Oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Oo.bind(null,t,e),n)}function zo(){}function Wo(e,t){var n=wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=wo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Uo(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=so.transition;so.transition={};try{e(!1),t()}finally{yt=n,so.transition=i}}function Vo(){return wo().memoizedState}function jo(e,t,n){var i=Ul(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},qo(e)?Yo(t,n):(Xo(e,t,n),null!==(e=Vl(e,i,n=Hl()))&&Zo(e,t,i))}function Ko(e,t,n){var i=Ul(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(qo(e))Yo(t,r);else{Xo(e,t,r);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,si(a,o))return}catch(l){}null!==(e=Vl(e,i,n=Hl()))&&Zo(e,t,i)}}function qo(e){var t=e.alternate;return e===ao||null!==t&&t===ao}function Yo(e,t){ho=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){null!==bl&&0!==(1&e.mode)&&0===(2&yl)?(null===(e=t.interleaved)?(n.next=n,null===Zr?Zr=[t]:Zr.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Zo(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Qo={readContext:Xr,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},Jo={readContext:Xr,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Xr,useEffect:Po,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=bo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=jo.bind(null,ao,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Eo,useDebugValue:zo,useDeferredValue:function(e){var t=Eo(e),n=t[0],i=t[1];return Po((function(){var t=so.transition;so.transition={};try{i(e)}finally{so.transition=t}}),[e]),n},useTransition:function(){var e=Eo(!1),t=e[0];return e=Uo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ao,r=bo();if($s){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===bl)throw Error(s(349));0!==(30&oo)||Ao(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Po(Ro.bind(null,i,o,e),[e]),i.flags|=2048,Lo(9,To.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=bl.identifierPrefix;if($s){var n=Ss;t=":"+t+"R"+(n=(Cs&~(1<<32-ot(Cs)-1)).toString(32)+n),0<(n=fo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Xr,useCallback:Wo,useContext:Xr,useEffect:Do,useImperativeHandle:Go,useInsertionEffect:Bo,useLayoutEffect:No,useMemo:Ho,useReducer:So,useRef:Mo,useState:function(){return So(Co)},useDebugValue:zo,useDeferredValue:function(e){var t=So(Co),n=t[0],i=t[1];return Do((function(){var t=so.transition;so.transition={};try{i(e)}finally{so.transition=t}}),[e]),n},useTransition:function(){return[So(Co)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:Vo,unstable_isNewReconciler:!1},ta={readContext:Xr,useCallback:Wo,useContext:Xr,useEffect:Do,useImperativeHandle:Go,useInsertionEffect:Bo,useLayoutEffect:No,useMemo:Ho,useReducer:xo,useRef:Mo,useState:function(){return xo(Co)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(Co),n=t[0],i=t[1];return Do((function(){var t=so.transition;so.transition={};try{i(e)}finally{so.transition=t}}),[e]),n},useTransition:function(){return[xo(Co)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:Vo,unstable_isNewReconciler:!1};function na(e,t){try{var n="",i=t;do{n+=z(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r}}function ia(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ra,sa,oa,aa,la="function"===typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=ts(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Il||(Il=!0,Fl=i),ia(0,t)},n}function ua(e,t,n){(n=ts(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ia(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ia(0,t),"function"!==typeof i&&(null===Pl?Pl=new Set([this]):Pl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ha(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new la;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=gc.bind(null,e,t,n),t.then(e,e))}function da(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fa(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ts(-1,1)).tag=2,ns(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}function pa(e,t){if(!$s)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ma(e,t,n){var i=t.pendingProps;switch(As(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(t),null;case 1:case 17:return $r(t.type)&&Er(),ga(t),null;case 3:return i=t.stateNode,Zs(),Sr(Ar),Sr(_r),io(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Es&&(Xl(Es),Es=null))),sa(e,t),ga(t),null;case 5:Js(t);var r=Ys(qs.current);if(n=t.type,null!==e&&null!=t.stateNode)oa(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return ga(t),null}if(e=Ys(js.current),Ds(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[cr]=t,i[ur]=o,e=0!==(1&t.mode),n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(r=0;r<Ii.length;r++)Bi(Ii[r],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":X(i,o),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Bi("invalid",i);break;case"textarea":re(i,o),Bi("invalid",i)}for(var l in ye(n,o),r=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?i.textContent!==c&&(Xi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(Xi(i.textContent,c,e),r=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bi("scroll",i)}switch(n){case"input":j(i),J(i,o,!0);break;case"textarea":j(i),oe(i);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(i.onclick=Zi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[cr]=t,e[ur]=i,ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Bi("cancel",e),Bi("close",e),r=i;break;case"iframe":case"object":case"embed":Bi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ii.length;r++)Bi(Ii[r],e);r=i;break;case"source":Bi("error",e),r=i;break;case"img":case"image":case"link":Bi("error",e),Bi("load",e),r=i;break;case"details":Bi("toggle",e),r=i;break;case"input":X(e,i),r=Y(e,i),Bi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=B({},i,{value:void 0}),Bi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Bi("invalid",e)}for(o in ye(n,r),c=r)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Bi("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":j(e),J(e,i,!1);break;case"textarea":j(e),oe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+U(i.value));break;case"select":e.multiple=!!i.multiple,null!=(o=i.value)?ne(e,!!i.multiple,o,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ga(t),null;case 6:if(e&&null!=t.stateNode)aa(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=Ys(qs.current),Ys(js.current),Ds(t)){if(i=t.stateNode,n=t.memoizedProps,i[cr]=t,(o=i.nodeValue!==n)&&null!==(e=Ts))switch(l=0!==(1&e.mode),e.tag){case 3:Xi(i.nodeValue,n,l);break;case 5:!0!==e.memoizedProps[void 0]&&Xi(i.nodeValue,n,l)}o&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[cr]=t,t.stateNode=i}return ga(t),null;case 13:if(Sr(eo),i=t.memoizedState,$s&&null!==Rs&&0!==(1&t.mode)&&0===(128&t.flags)){for(i=Rs;i;)i=or(i.nextSibling);return Bs(),t.flags|=98560,t}if(null!==i&&null!==i.dehydrated){if(i=Ds(t),null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[cr]=t}else Bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ga(t),null}return null!==Es&&(Xl(Es),Es=null),0!==(128&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?Ds(t):n=null!==e.memoizedState,i&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===kl&&(kl=3):sc())),null!==t.updateQueue&&(t.flags|=4),ga(t),null);case 4:return Zs(),sa(e,t),null===e&&Gi(t.stateNode.containerInfo),ga(t),null;case 10:return Kr(t.type._context),ga(t),null;case 19:if(Sr(eo),null===(o=t.memoizedState))return ga(t),null;if(i=0!==(128&t.flags),null===(l=o.rendering))if(i)pa(o,!1);else{if(0!==kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=to(e))){for(t.flags|=128,pa(o,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xr(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Ml&&(t.flags|=128,i=!0,pa(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=to(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),pa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!$s)return ga(t),null}else 2*Ze()-o.renderingStartTime>Ml&&1073741824!==n&&(t.flags|=128,i=!0,pa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=eo.current,xr(eo,i?1&n|2:1&n),t):(ga(t),null);case 22:case 23:return tc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Sl)&&(ga(t),6&t.subtreeFlags&&(t.flags|=8192)):ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},sa=function(){},oa=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ys(js.current);var s,o=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),o=[];break;case"select":r=B({},r,{value:void 0}),i=B({},i,{value:void 0}),o=[];break;case"textarea":r=ie(e,r),i=ie(e,i),o=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Zi)}for(u in ye(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Bi("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},aa=function(e,t,n,i){n!==i&&(t.flags|=4)};var va=w.ReactCurrentOwner,ya=!1;function ba(e,t,n,i){t.child=null===e?Us(t,null,n,i):Hs(t,e.child,n,i)}function wa(e,t,n,i,r){n=n.render;var s=t.ref;return Yr(t,r),i=vo(e,t,n,i,s,r),n=yo(),null===e||ya?($s&&n&&_s(t),t.flags|=1,ba(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ga(e,t,r))}function Ca(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Sc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:oi)(o,i)&&e.ref===t.ref)return Ga(e,t,r)}return t.flags|=1,(e=xc(s,i)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,i,r){if(null!==e&&oi(e.memoizedProps,i)&&e.ref===t.ref){if(ya=!1,0===(e.lanes&r))return t.lanes=e.lanes,Ga(e,t,r);0!==(131072&e.flags)&&(ya=!0)}return _a(e,t,n,i,r)}function xa(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xr(xl,Sl),Sl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xr(xl,Sl),Sl|=e,null;t.memoizedState={baseLanes:0,cachePool:null},i=null!==s?s.baseLanes:n,xr(xl,Sl),Sl|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,xr(xl,Sl),Sl|=i;return ba(e,t,r,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _a(e,t,n,i,r){var s=$r(n)?Tr:_r.current;return s=Rr(t,s),Yr(t,r),n=vo(e,t,n,i,s,r),i=yo(),null===e||ya?($s&&i&&_s(t),t.flags|=1,ba(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Ga(e,t,r))}function Aa(e,t,n,i,r){if($r(n)){var s=!0;Ir(t)}else s=!1;if(Yr(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hs(t,n,i),fs(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Xr(c):c=Rr(t,c=$r(n)?Tr:_r.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==i||l!==c)&&ds(t,o,i,c),Qr=!1;var d=t.memoizedState;o.state=d,ss(t,i,o,r),l=t.memoizedState,a!==i||d!==l||Ar.current||Qr?("function"===typeof u&&(ls(t,n,u,i),l=t.memoizedState),(a=Qr||us(t,n,a,i,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,es(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:zr(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Xr(l):l=Rr(t,l=$r(n)?Tr:_r.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ds(t,o,i,l),Qr=!1,d=t.memoizedState,o.state=d,ss(t,i,o,r);var p=t.memoizedState;a!==h||d!==p||Ar.current||Qr?("function"===typeof f&&(ls(t,n,f,i),p=t.memoizedState),(c=Qr||us(t,n,c,i,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ta(e,t,n,i,s,r)}function Ta(e,t,n,i,r,s){ka(e,t);var o=0!==(128&t.flags);if(!i&&!o)return r&&Fr(t,n,!1),Ga(e,t,s);i=t.stateNode,va.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=Hs(t,e.child,null,s),t.child=Hs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=i.state,r&&Fr(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Xs(e,t.containerInfo)}function $a(e,t,n,i,r){return Bs(),Ns(r),t.flags|=256,ba(e,t,n,i),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null}}function Ma(e,t,n){var i,r=t.pendingProps,o=eo.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xr(eo,1&o),null===e)return Fs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=Ac(o,r,0,null),e=_c(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ea,e):Ia(t,o));if(null!==(o=e.memoizedState)){if(null!==(i=o.dehydrated)){if(l)return 256&t.flags?(t.flags&=-257,Da(e,t,n,Error(s(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Ac({mode:"visible",children:r.children},o,0,null),(a=_c(a,o,n,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Hs(t,e.child,null,n),t.child.memoizedState=La(n),t.memoizedState=Ea,a);if(0===(1&t.mode))t=Da(e,t,n,null);else if("$!"===i.data)t=Da(e,t,n,Error(s(419)));else if(r=0!==(n&e.childLanes),ya||r){if(null!==(r=bl)){switch(n&-n){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(r=0!==(a&(r.suspendedLanes|n))?0:a)&&r!==o.retryLane&&(o.retryLane=r,Vl(e,r,-1))}sc(),t=Da(e,t,n,Error(s(421)))}else"$?"===i.data?(t.flags|=128,t.child=e.child,t=vc.bind(null,e),i._reactRetry=t,t=null):(n=o.treeContext,Rs=or(i.nextSibling),Ts=t,$s=!0,Es=null,null!==n&&(ys[bs++]=Cs,ys[bs++]=Ss,ys[bs++]=ws,Cs=n.id,Ss=n.overflow,ws=t),(t=Ia(t,t.pendingProps.children)).flags|=4096);return t}return a?(r=Pa(e,t,r.children,r.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?La(n):{baseLanes:o.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Ea,r):(n=Fa(e,t,r.children,n),t.memoizedState=null,n)}return a?(r=Pa(e,t,r.children,r.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?La(n):{baseLanes:o.baseLanes|n,cachePool:null},a.childLanes=e.childLanes&~n,t.memoizedState=Ea,r):(n=Fa(e,t,r.children,n),t.memoizedState=null,n)}function Ia(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,i){var r=e.child;return e=r.sibling,n=xc(r,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n}function Pa(e,t,n,i,r){var s=t.mode,o=(e=e.child).sibling,a={mode:"hidden",children:n};return 0===(1&s)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=a,t.deletions=null):(n=xc(e,a)).subtreeFlags=14680064&e.subtreeFlags,null!==o?i=xc(o,i):(i=_c(i,s,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function Da(e,t,n,i){return null!==i&&Ns(i),Hs(t,e.child,null,n),(e=Ia(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),qr(e.return,t,n)}function Na(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Oa(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ba(e,t,i.children,n),0!==(2&(i=eo.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(xr(eo,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Na(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===to(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Na(t,!0,n,null,s);break;case"together":Na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Al|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){switch(As(t),t.tag){case 1:return $r(t.type)&&Er(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zs(),Sr(Ar),Sr(_r),io(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Sr(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));Bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(eo),null;case 4:return Zs(),null;case 10:return Kr(t.type._context),null;case 22:case 23:return tc(),null;default:return null}}var Wa=!1,Ha=!1,Ua="function"===typeof WeakSet?WeakSet:Set,Va=null;function ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){pc(e,t,i)}else n.current=null}function Ka(e,t,n){try{n()}catch(i){pc(e,t,i)}}var qa=!1;function Ya(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&Ka(t,n,s)}r=r.next}while(r!==i)}}function Xa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Za(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Qa(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var r=i,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&Ka(t,n,s),i=i.next}while(i!==e)}break;case 1:if(ja(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){pc(t,n,o)}break;case 5:ja(t,n);break;case 4:sl(e,t,n)}}function Ja(e){var t=e.alternate;null!==t&&(e.alternate=null,Ja(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[cr],delete t[ur],delete t[dr],delete t[fr],delete t[pr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function el(e){return 5===e.tag||3===e.tag||4===e.tag}function tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||el(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function nl(e){e:{for(var t=e.return;null!==t;){if(el(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(de(t,""),n.flags&=-33),rl(e,n=tl(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,il(e,n=tl(e),t);break;default:throw Error(s(161))}}function il(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zi));else if(4!==i&&null!==(e=e.child))for(il(e,t,n),e=e.sibling;null!==e;)il(e,t,n),e=e.sibling}function rl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(rl(e,t,n),e=e.sibling;null!==e;)rl(e,t,n),e=e.sibling}function sl(e,t,n){for(var i,r,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(i=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,h=c;;)if(Qa(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(o.stateNode)}else if(18===o.tag)r?(l=i,c=o.stateNode,8===l.nodeType?sr(l.parentNode,c):1===l.nodeType&&sr(l,c),zt(l)):sr(i,o.stateNode);else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(Qa(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ol(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Ya(3,t,t.return),Xa(3,t),void Ya(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===i.type&&null!=i.name&&Z(n,i),be(e,r),t=be(e,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?me(n,l):"dangerouslySetInnerHTML"===a?he(n,l):"children"===a?de(n,l):b(n,a,l,t)}switch(e){case"input":Q(n,i);break;case"textarea":se(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?ne(n,!!i.multiple,o,!1):e!==!!i.multiple&&(null!=i.defaultValue?ne(n,!!i.multiple,i.defaultValue,!0):ne(n,!!i.multiple,i.multiple?[]:"",!1))}n[ur]=i}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void al(t)}throw Error(s(163))}function al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ua),t.forEach((function(t){var i=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ll(e,t,n){Va=e,cl(e,t,n)}function cl(e,t,n){for(var i=0!==(1&e.mode);null!==Va;){var r=Va,s=r.child;if(22===r.tag&&i){var o=null!==r.memoizedState||Wa;if(!o){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Ha;a=Wa;var c=Ha;if(Wa=o,(Ha=l)&&!c)for(Va=r;null!==Va;)l=(o=Va).child,22===o.tag&&null!==o.memoizedState?dl(r):null!==l?(l.return=o,Va=l):dl(r);for(;null!==s;)Va=s,cl(s,t,n),s=s.sibling;Va=r,Wa=a,Ha=c}ul(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Va=s):ul(e)}}function ul(e){for(;null!==Va;){var t=Va;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ha||Xa(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ha)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:zr(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&os(t,o,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}os(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ha||512&t.flags&&Za(t)}catch(f){pc(t,t.return,f)}}if(t===e){Va=null;break}if(null!==(n=t.sibling)){n.return=t.return,Va=n;break}Va=t.return}}function hl(e){for(;null!==Va;){var t=Va;if(t===e){Va=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Va=n;break}Va=t.return}}function dl(e){for(;null!==Va;){var t=Va;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xa(4,t)}catch(l){pc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){pc(t,r,l)}}var s=t.return;try{Za(t)}catch(l){pc(t,s,l)}break;case 5:var o=t.return;try{Za(t)}catch(l){pc(t,o,l)}}}catch(l){pc(t,t.return,l)}if(t===e){Va=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Va=a;break}Va=t.return}}var fl,pl=Math.ceil,gl=w.ReactCurrentDispatcher,ml=w.ReactCurrentOwner,vl=w.ReactCurrentBatchConfig,yl=0,bl=null,wl=null,Cl=0,Sl=0,xl=Cr(0),kl=0,_l=null,Al=0,Tl=0,Rl=0,$l=null,El=null,Ll=0,Ml=1/0,Il=!1,Fl=null,Pl=null,Dl=!1,Bl=null,Nl=0,Ol=0,Gl=null,zl=-1,Wl=0;function Hl(){return 0!==(6&yl)?Ze():-1!==zl?zl:zl=Ze()}function Ul(e){return 0===(1&e.mode)?1:0!==(2&yl)&&0!==Cl?Cl&-Cl:null!==Gr.transition?(0===Wl&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Wl=e),Wl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:qt(e.type)}function Vl(e,t,n){if(50<Ol)throw Ol=0,Gl=null,Error(s(185));var i=jl(e,t);return null===i?null:(mt(i,t,n),0!==(2&yl)&&i===bl||(i===bl&&(0===(2&yl)&&(Tl|=t),4===kl&&Zl(i,Cl)),Kl(i,n),1===t&&0===yl&&0===(1&e.mode)&&(Ml=Ze()+500,Dr&&Or())),i)}function jl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Kl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=r[o];-1===l?0!==(a&n)&&0===(a&i)||(r[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var i=dt(e,e===bl?Cl:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Dr=!0,Nr(e)}(Ql.bind(null,e)):Nr(Ql.bind(null,e)),ir((function(){0===yl&&Or()})),n=null;else{switch(bt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=bc(n,ql.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ql(e,t){if(zl=-1,Wl=0,0!==(6&yl))throw Error(s(327));var n=e.callbackNode;if(dc()&&e.callbackNode!==n)return null;var i=dt(e,e===bl?Cl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=oc(e,i);else{t=i;var r=yl;yl|=2;var o=rc();for(bl===e&&Cl===t||(Ml=Ze()+500,nc(e,t));;)try{lc();break}catch(l){ic(e,l)}jr(),gl.current=o,yl=r,null!==wl?t=0:(bl=null,Cl=0,t=kl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=Yl(e,r))),1===t)throw n=_l,nc(e,0),Zl(e,i),Kl(e,Ze()),n;if(6===t)Zl(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!si(s(),r))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=oc(e,i))&&(0!==(o=pt(e))&&(i=o,t=Yl(e,o))),1===t))throw n=_l,nc(e,0),Zl(e,i),Kl(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:hc(e,El);break;case 3:if(Zl(e,i),(130023424&i)===i&&10<(t=Ll+500-Ze())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){Hl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=er(hc.bind(null,e,El),t);break}hc(e,El);break;case 4:if(Zl(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var a=31-ot(i);o=1<<a,(a=t[a])>r&&(r=a),i&=~o}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*pl(i/1960))-i)){e.timeoutHandle=er(hc.bind(null,e,El),i);break}hc(e,El);break;default:throw Error(s(329))}}}return Kl(e,Ze()),e.callbackNode===n?ql.bind(null,e):null}function Yl(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),2!==(e=oc(e,t))&&(t=El,El=n,null!==t&&Xl(t)),e}function Xl(e){null===El?El=e:El.push.apply(El,e)}function Zl(e,t){for(t&=~Rl,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),i=1<<n;e[n]=-1,t&=~i}}function Ql(e){if(0!==(6&yl))throw Error(s(327));dc();var t=dt(e,0);if(0===(1&t))return Kl(e,Ze()),null;var n=oc(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=Yl(e,i))}if(1===n)throw n=_l,nc(e,0),Zl(e,t),Kl(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hc(e,El),Kl(e,Ze()),null}function Jl(e,t){var n=yl;yl|=1;try{return e(t)}finally{0===(yl=n)&&(Ml=Ze()+500,Dr&&Or())}}function ec(e){null!==Bl&&0===Bl.tag&&0===(6&yl)&&dc();var t=yl;yl|=1;var n=vl.transition,i=yt;try{if(vl.transition=null,yt=1,e)return e()}finally{yt=i,vl.transition=n,0===(6&(yl=t))&&Or()}}function tc(){Sl=xl.current,Sr(xl)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==wl)for(n=wl.return;null!==n;){var i=n;switch(As(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Er();break;case 3:Zs(),Sr(Ar),Sr(_r),io();break;case 5:Js(i);break;case 4:Zs();break;case 13:case 19:Sr(eo);break;case 10:Kr(i.type._context);break;case 22:case 23:tc()}n=n.return}if(bl=e,wl=e=xc(e.current,null),Cl=Sl=t,kl=0,_l=null,Rl=Tl=Al=0,El=$l=null,null!==Zr){for(t=0;t<Zr.length;t++)if(null!==(i=(n=Zr[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var o=s.next;s.next=r,i.next=o}n.pending=i}Zr=null}return e}function ic(e,t){for(;;){var n=wl;try{if(jr(),ro.current=Qo,uo){for(var i=ao.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}uo=!1}if(oo=0,co=lo=ao=null,ho=!1,fo=0,ml.current=null,null===n||null===n.return){kl=1,_l=t,wl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Cl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=da(a);if(null!==p){p.flags&=-257,fa(p,a,l,0,t),1&p.mode&&ha(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ha(o,u,t),sc();break e}c=Error(s(426))}else if($s&&1&l.mode){var v=da(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),fa(v,a,l,0,t),Ns(c);break e}}o=c,4!==kl&&(kl=2),null===$l?$l=[o]:$l.push(o),c=na(c,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,rs(l,ca(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Pl||!Pl.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,rs(l,ua(l,o,t));break e}}l=l.return}while(null!==l)}uc(n)}catch(w){t=w,wl===n&&null!==n&&(wl=n=n.return);continue}break}}function rc(){var e=gl.current;return gl.current=Qo,null===e?Qo:e}function sc(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===bl||0===(268435455&Al)&&0===(268435455&Tl)||Zl(bl,Cl)}function oc(e,t){var n=yl;yl|=2;var i=rc();for(bl===e&&Cl===t||nc(e,t);;)try{ac();break}catch(r){ic(e,r)}if(jr(),yl=n,gl.current=i,null!==wl)throw Error(s(261));return bl=null,Cl=0,kl}function ac(){for(;null!==wl;)cc(wl)}function lc(){for(;null!==wl&&!Ye();)cc(wl)}function cc(e){var t=fl(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,null===t?uc(e):wl=t,ml.current=null}function uc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ma(n,t,Sl)))return void(wl=n)}else{if(null!==(n=za(n,t)))return n.flags&=32767,void(wl=n);if(null===e)return kl=6,void(wl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(wl=t);wl=t=e}while(null!==t);0===kl&&(kl=5)}function hc(e,t){var n=yt,i=vl.transition;try{vl.transition=null,yt=1,function(e,t,n){do{dc()}while(null!==Bl);if(0!==(6&yl))throw Error(s(327));var i=e.finishedWork,r=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-ot(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,o),e===bl&&(wl=bl=null,Cl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Dl||(Dl=!0,bc(tt,(function(){return dc(),null}))),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=vl.transition,vl.transition=null;var a=yt;yt=1;var l=yl;yl|=4,ml.current=null,function(e,t){if(hi(e=ui())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(S){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=a+r),d!==o||0!==i&&3!==d.nodeType||(c=a+i),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===r&&(l=a),f===o&&++h===i&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qi={focusedElem:e,selectionRange:n},Va=t;null!==Va;)if(e=(t=Va).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Va=e;else for(;null!==Va;){t=Va;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:zr(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var C=w.body;null!=C&&(C.textContent="")}break;default:throw Error(s(163))}}catch(S){pc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Va=e;break}Va=t.return}g=qa,qa=!1}(e,i),function(e,t){for(Va=t;null!==Va;){var n=(t=Va).deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{sl(e,r,t);var s=r.alternate;null!==s&&(s.return=null),r.return=null}catch(k){pc(r,t,k)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Va=n;else for(;null!==Va;){t=Va;try{var o=t.flags;if(32&o&&de(t.stateNode,""),512&o){var a=t.alternate;if(null!==a){var l=a.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ll=Ze())}break;case 22:var u=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;e:{r=u;for(var f=null,p=i=n=t;;){if(5===p.tag){if(null===f){f=p;var g=p.stateNode;if(r){var m=g.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var v=p.stateNode,y=p.memoizedProps.style,b=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;v.style.display=ge("display",b)}}}else if(6===p.tag)null===f&&(p.stateNode.nodeValue=r?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===i)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===i)break;for(;null===p.sibling;){if(null===p.return||p.return===i)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}if(u&&!d&&0!==(1&n.mode)){Va=n;for(var w=n.child;null!==w;){for(n=Va=w;null!==Va;){var C=(i=Va).child;switch(i.tag){case 0:case 11:case 14:case 15:Ya(4,i,i.return);break;case 1:ja(i,i.return);var S=i.stateNode;if("function"===typeof S.componentWillUnmount){var x=i.return;try{S.props=i.memoizedProps,S.state=i.memoizedState,S.componentWillUnmount()}catch(k){pc(i,x,k)}}break;case 5:ja(i,i.return);break;case 22:if(null!==i.memoizedState){hl(n);continue}}null!==C?(C.return=i,Va=C):hl(n)}w=w.sibling}}}switch(4102&o){case 2:nl(t),t.flags&=-3;break;case 6:nl(t),t.flags&=-3,ol(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,ol(t.alternate,t);break;case 4:ol(t.alternate,t)}}catch(k){pc(t,t.return,k)}if(null!==(n=t.sibling)){n.return=t.return,Va=n;break}Va=t.return}}}(e,i),di(Qi),Qi=null,e.current=i,ll(i,e,r),Xe(),yl=l,yt=a,vl.transition=o}else e.current=i;if(Dl&&(Dl=!1,Bl=e,Nl=r),o=e.pendingLanes,0===o&&(Pl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),Kl(e,Ze()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)n(t[i]);if(Il)throw Il=!1,e=Fl,Fl=null,e;0!==(1&Nl)&&0!==e.tag&&dc(),o=e.pendingLanes,0!==(1&o)?e===Gl?Ol++:(Ol=0,Gl=e):Ol=0,Or()}(e,t,n)}finally{vl.transition=i,yt=n}return null}function dc(){if(null!==Bl){var e=bt(Nl),t=vl.transition,n=yt;try{if(vl.transition=null,yt=16>e?16:e,null===Bl)var i=!1;else{if(e=Bl,Bl=null,Nl=0,0!==(6&yl))throw Error(s(331));var r=yl;for(yl|=4,Va=e.current;null!==Va;){var o=Va,a=o.child;if(0!==(16&Va.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Va=u;null!==Va;){var h=Va;switch(h.tag){case 0:case 11:case 15:Ya(8,h,o)}var d=h.child;if(null!==d)d.return=h,Va=d;else for(;null!==Va;){var f=(h=Va).sibling,p=h.return;if(Ja(h),h===u){Va=null;break}if(null!==f){f.return=p,Va=f;break}Va=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Va=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Va=a;else e:for(;null!==Va;){if(0!==(2048&(o=Va).flags))switch(o.tag){case 0:case 11:case 15:Ya(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Va=y;break e}Va=o.return}}var b=e.current;for(Va=b;null!==Va;){var w=(a=Va).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Va=w;else e:for(a=b;null!==Va;){if(0!==(2048&(l=Va).flags))try{switch(l.tag){case 0:case 11:case 15:Xa(9,l)}}catch(S){pc(l,l.return,S)}if(l===a){Va=null;break e}var C=l.sibling;if(null!==C){C.return=l.return,Va=C;break e}Va=l.return}}if(yl=r,Or(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(S){}i=!0}return i}finally{yt=n,vl.transition=t}}return!1}function fc(e,t,n){ns(e,t=ca(0,t=na(n,t),1)),t=Hl(),null!==(e=jl(e,1))&&(mt(e,1,t),Kl(e,t))}function pc(e,t,n){if(3===e.tag)fc(e,e,n);else for(;null!==t;){if(3===t.tag){fc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Pl||!Pl.has(i))){ns(t,e=ua(t,e=na(n,e),1)),e=Hl(),null!==(t=jl(t,1))&&(mt(t,1,e),Kl(t,e));break}}t=t.return}}function gc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Hl(),e.pingedLanes|=e.suspendedLanes&n,bl===e&&(Cl&n)===n&&(4===kl||3===kl&&(130023424&Cl)===Cl&&500>Ze()-Ll?nc(e,0):Rl|=n),Kl(e,t)}function mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Hl();null!==(e=jl(e,t))&&(mt(e,t,n),Kl(e,n))}function vc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),mc(e,n)}function bc(e,t){return Ke(e,t)}function wc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,i){return new wc(e,t,n,i)}function Sc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)Sc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return _c(n.children,r,o,t);case k:a=8,r|=8;break;case _:return(e=Cc(12,n,t,2|r)).elementType=_,e.lanes=o,e;case $:return(e=Cc(13,n,t,r)).elementType=$,e.lanes=o,e;case E:return(e=Cc(19,n,t,r)).elementType=E,e.lanes=o,e;case I:return Ac(n,r,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case T:a=9;break e;case R:a=11;break e;case L:a=14;break e;case M:a=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Cc(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function _c(e,t,n,i){return(e=Cc(7,e,i,t)).lanes=n,e}function Ac(e,t,n,i){return(e=Cc(22,e,i,t)).elementType=I,e.lanes=n,e.stateNode={},e}function Tc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function Rc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ec(e,t,n,i,r,s,o,a,l){return e=new $c(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Cc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null},Jr(s),e}function Lc(e){if(!e)return kr;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if($r(n))return Mr(e,n,t)}return t}function Mc(e,t,n,i,r,s,o,a,l){return(e=Ec(n,i,!0,e,0,s,0,a,l)).context=Lc(null),n=e.current,(s=ts(i=Hl(),r=Ul(n))).callback=void 0!==t&&null!==t?t:null,ns(n,s),e.current.lanes=r,mt(e,r,i),Kl(e,i),e}function Ic(e,t,n,i){var r=t.current,s=Hl(),o=Ul(r);return n=Lc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ts(s,o)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),ns(r,t),null!==(e=Vl(r,o,s))&&is(e,r,o),o}function Fc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Pc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Dc(e,t){Pc(e,t),(e=e.alternate)&&Pc(e,t)}fl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),Bs();break;case 5:Qs(t);break;case 1:$r(t.type)&&Ir(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;xr(Wr,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(xr(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(xr(eo,1&eo.current),null!==(e=Ga(e,t,n))?e.sibling:null);xr(eo,1&eo.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Oa(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),xr(eo,eo.current),i)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ga(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,$s&&0!==(1048576&t.flags)&&ks(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var r=Rr(t,_r.current);Yr(t,n),r=vo(null,t,i,e,r,n);var o=yo();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$r(i)?(o=!0,Ir(t)):o=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Jr(t),r.updater=cs,t.stateNode=r,r._reactInternals=t,fs(t,i,e,n),t=Ta(null,t,i,!0,o,n)):(t.tag=0,$s&&o&&_s(t),ba(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Sc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===L)return 14}return 2}(i),e=zr(i,e),r){case 0:t=_a(null,t,i,e,n);break e;case 1:t=Aa(null,t,i,e,n);break e;case 11:t=wa(null,t,i,e,n);break e;case 14:t=Ca(null,t,i,zr(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,_a(e,t,i,r=t.elementType===i?r:zr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Aa(e,t,i,r=t.elementType===i?r:zr(i,r),n);case 3:e:{if(Ra(t),null===e)throw Error(s(387));i=t.pendingProps,r=(o=t.memoizedState).element,es(e,t),ss(t,i,null,n);var a=t.memoizedState;if(i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=$a(e,t,i,n,r=Error(s(423)));break e}if(i!==r){t=$a(e,t,i,n,r=Error(s(424)));break e}for(Rs=or(t.stateNode.containerInfo.firstChild),Ts=t,$s=!0,Es=null,n=Us(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Bs(),i===r){t=Ga(e,t,n);break e}ba(e,t,i,n)}t=t.child}return t;case 5:return Qs(t),null===e&&Fs(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Ji(i,r)?a=null:null!==o&&Ji(i,o)&&(t.flags|=32),ka(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&Fs(t),null;case 13:return Ma(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Hs(t,null,i,n):ba(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wa(e,t,i,r=t.elementType===i?r:zr(i,r),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,a=r.value,xr(Wr,i._currentValue),i._currentValue=a,null!==o)if(si(o.value,a)){if(o.children===r.children&&!Ar.current){t=Ga(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===o.tag){(c=ts(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),qr(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),qr(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Yr(t,n),i=i(r=Xr(r)),t.flags|=1,ba(e,t,i,n),t.child;case 14:return r=zr(i=t.type,t.pendingProps),Ca(e,t,i,r=zr(i.type,r),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:zr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,$r(i)?(e=!0,Ir(t)):e=!1,Yr(t,n),hs(t,i,r),fs(t,i,r,n),Ta(null,t,i,!0,e,n);case 19:return Oa(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Bc="function"===typeof reportError?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}function Oc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wc(){}function Hc(e,t,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof r){var a=r;r=function(){var e=Fc(o);a.call(e)}}Ic(t,o,e,r)}else o=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Fc(o);s.call(e)}}var o=Mc(t,i,e,0,null,!1,0,"",Wc);return e._reactRootContainer=o,e[hr]=o.current,Gi(8===e.nodeType?e.parentNode:e),ec(),o}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var a=i;i=function(){var e=Fc(l);a.call(e)}}var l=Ec(e,0,!1,null,0,!1,0,"",Wc);return e._reactRootContainer=l,e[hr]=l.current,Gi(8===e.nodeType?e.parentNode:e),ec((function(){Ic(t,l,n,i)})),l}(n,t,e,r,i);return Fc(o)}Oc.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Ic(e,t,null,null)},Oc.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ec((function(){Ic(null,e,null,null)})),t[hr]=null}},Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),Kl(t,Ze()),0===(6&yl)&&(Ml=Ze()+500,Or()))}break;case 13:var i=Hl();ec((function(){return Vl(e,1,i)})),Dc(e,1)}},Ct=function(e){13===e.tag&&(Vl(e,134217728,Hl()),Dc(e,134217728))},St=function(e){if(13===e.tag){var t=Hl(),n=Ul(e);Vl(e,n,t),Dc(e,n)}},xt=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=yr(i);if(!r)throw Error(s(90));K(i),Q(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=Jl,$e=ec;var Uc={usingClientEntryPoint:!1,Events:[mr,vr,yr,Ae,Te,Jl]},Vc={findFiberByHostInstance:gr,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},jc={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{rt=Kc.inject(jc),st=Kc}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,i="",r=Bc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Ec(e,1,!1,null,0,n,0,i,r),e[hr]=t.current,Gi(8===e.nodeType?e.parentNode:e),new Nc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return ec(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(s(200));return Hc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,o="",a=Bc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Mc(t,null,e,1,null!=n?n:null,r,0,o,a),e[hr]=t.current,Gi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Oc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(s(200));return Hc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(s(40));return!!e._reactRootContainer&&(ec((function(){Hc(null,null,e,!1,(function(){e._reactRootContainer=null,e[hr]=null}))})),!0)},t.unstable_batchedUpdates=Jl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Hc(e,t,n,!1,i)},t.version="18.0.0-fc46dba67-20220329"},1250:function(e,t,n){"use strict";var i=n(4164);t.s=i.createRoot,i.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var C=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,i){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function $(e,t,r,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===s?"."+R(l,0):s,C(o)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),$(o,t,r,"",(function(e){return e}))):null!=o&&(A(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",C(e))for(var c=0;c<e.length;c++){var u=s+R(a=e[c],c);l+=$(a,t,r,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=$(a=a.value,t,r,u=s+R(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,n){if(null==e)return e;var i=[],r=0;return $(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},I={transition:null},F={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:I,ReactCurrentOwner:x};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=r,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,o=r>>>1;i<o;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function C(e){if(m=!1,w(e),!g)if(null!==i(c))g=!0,I(S);else{var t=i(u);null!==t&&F(C,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(A),A=-1),p=!0;var s=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!$());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===i(c)&&r(c),w(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&F(C,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,k=!1,_=null,A=-1,T=5,R=-1;function $(){return!(t.unstable_now()-R<T)}function E(){if(null!==_){var e=t.unstable_now();R=e;var n=!0;try{n=_(!0,e)}finally{n?x():(k=!1,_=null)}}else k=!1}if("function"===typeof b)x=function(){b(E)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,M=L.port2;L.port1.onmessage=E,x=function(){M.postMessage(null)}}else x=function(){v(E,0)};function I(e){_=e,k||(k=!0,x())}function F(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(m?(y(A),A=-1):m=!0,F(C,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,I(S))),e},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var i=n(4062);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var i=n(4062);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var i=n(8698).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var i=n(8698).default,r=n(5036);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(2791),t=n(1250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var s=t&&t.prototype instanceof p?t:p,o=Object.create(s.prototype),a=new T(r||[]);return i(o,"_invoke",{value:x(e,n,a)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var f={};function p(){}function g(){}function m(){}var v={};c(v,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(R([])));b&&b!==t&&n.call(b,s)&&(v=b);var w=m.prototype=p.prototype=Object.create(v);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,s,o,a){var c=h(e[i],e,s);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,a)}),(function(e){r("throw",e,o,a)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,a)}))}a(c.arg)}var s;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return s=s?s.then(i,i):i()}})}function x(e,t,n){var i="suspendedStart";return function(r,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw s;return $()}for(n.method=r,n.arg=s;;){var o=n.delegate;if(o){var a=k(o,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=h(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}function k(e,t){var n=t.method,i=e.iterator[n];if(void 0===i)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=h(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var s=r.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function R(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:$}}function $(){return{value:void 0,done:!0}}return g.prototype=m,i(w,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:g,configurable:!0}),g.displayName=c(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},C(S.prototype),c(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,i,r,s){void 0===s&&(s=Promise);var o=new S(u(t,n,i,r),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(w),c(w,a,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=R,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],o=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(a&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function f(e,t,n,i,r,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function o(e){f(s,i,r,o,a,"next",e)}function a(e){f(s,i,r,o,a,"throw",e)}o(void 0)}))}}function g(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}var m={SETA:!0,SETB:!0,JMP:!0,JNZA:!0,JNZB:!0,CALL:!0,ADDA:!0,ADDB:!0,SUBA:!0,SUBB:!0,XPUSH:!0,YPUSH:!0},v=[["NOP","",function(e,t){}],["HALT","",function(e,t){e.running=!1}],["SETA","",function(e,t){e.RegA=t}],["SETB","",function(e,t){e.RegB=t}],["CPYAB","",function(e,t){e.RegB=e.RegA}],["CPYBA","",function(e,t){e.RegA=e.RegB}],["PTRA","",function(e,t){var n,i,r,s;e.RegA=((null!==(n=e.Heap[4*e.RegA+0])&&void 0!==n?n:0)<<24)+((null!==(i=e.Heap[4*e.RegA+1])&&void 0!==i?i:0)<<16)+((null!==(r=e.Heap[4*e.RegA+2])&&void 0!==r?r:0)<<8)+((null!==(s=e.Heap[4*e.RegA+3])&&void 0!==s?s:0)<<0)>>>0}],["PTRB","",function(e,t){var n,i,r,s;e.RegB=((null!==(n=e.Heap[4*e.RegB+0])&&void 0!==n?n:0)<<24)+((null!==(i=e.Heap[4*e.RegB+1])&&void 0!==i?i:0)<<16)+((null!==(r=e.Heap[4*e.RegB+2])&&void 0!==r?r:0)<<8)+((null!==(s=e.Heap[4*e.RegB+3])&&void 0!==s?s:0)<<0)>>>0}],["PUTBPTRA","",function(e,t){e.Heap[4*e.RegA+0]=e.RegB>>>24&255,e.Heap[4*e.RegA+1]=e.RegB>>>16&255,e.Heap[4*e.RegA+2]=e.RegB>>>8&255,e.Heap[4*e.RegA+3]=e.RegB>>>0&255}],["PUTAPTRB","",function(e,t){e.Heap[4*e.RegB+0]=e.RegA>>>24&255,e.Heap[4*e.RegB+1]=e.RegA>>>16&255,e.Heap[4*e.RegB+2]=e.RegA>>>8&255,e.Heap[4*e.RegB+3]=e.RegA>>>0&255}],["JMP","",function(e,t){e.IP=4*t}],["JMPA","",function(e,t){e.IP=4*e.RegA}],["JMPB","",function(e,t){e.IP=4*e.RegB}],["JNZA","",function(e,t){e.RegA&&(e.IP=4*t)}],["JNZB","",function(e,t){e.RegB&&(e.IP=4*t)}],["JBNZA","",function(e,t){e.RegA&&(e.IP=4*e.RegB)}],["JANZB","",function(e,t){e.RegB&&(e.IP=4*e.RegA)}],["CALL","",function(e,t){e.StackY.push(e.IP),e.StackY.push(e.RegB),e.StackY.push(e.RegA),e.IP=4*t}],["CALLA","",function(e,t){e.StackY.push(e.IP),e.StackY.push(e.RegB),e.StackY.push(e.RegA),e.IP=4*e.RegA}],["CALLB","",function(e,t){e.StackY.push(e.IP),e.StackY.push(e.RegB),e.StackY.push(e.RegA),e.IP=4*e.RegB}],["RET","",function(e,t){var n,i,r;e.RegA=null!==(n=e.StackY.pop())&&void 0!==n?n:0,e.RegB=null!==(i=e.StackY.pop())&&void 0!==i?i:0,e.IP=null!==(r=e.StackY.pop())&&void 0!==r?r:0}],["INCA","",function(e,t){e.RegA++,e.RegA>4294967295&&(e.RegA=0)}],["INCB","",function(e,t){e.RegB++,e.RegB>4294967295&&(e.RegB=0)}],["DECA","",function(e,t){e.RegA--,e.RegA<0&&(e.RegA=4294967295)}],["DECB","",function(e,t){e.RegB--,e.RegB<0&&(e.RegB=4294967295)}],["ADDA","",function(e,t){e.RegA+=t,e.RegA&=4294967295,e.RegA>>>=0}],["ADDB","",function(e,t){e.RegB+=t,e.RegB&=4294967295,e.RegB>>>=0}],["ADDAB","",function(e,t){e.RegB+=e.RegA,e.RegB&=4294967295,e.RegB>>>=0,e.RegA=0}],["ADDBA","",function(e,t){e.RegA+=e.RegB,e.RegA&=4294967295,e.RegA>>>=0,e.RegB=0}],["SUBA","",function(e,t){e.RegA-=t,e.RegA&=4294967295,e.RegA>>>=0}],["SUBB","",function(e,t){e.RegB-=t,e.RegB&=4294967295,e.RegB>>>=0}],["SUBAB","",function(e,t){e.RegB-=e.RegA,e.RegB&=4294967295,e.RegB>>>=0,e.RegA=0}],["SUBBA","",function(e,t){e.RegA-=e.RegB,e.RegA&=4294967295,e.RegA>>>=0,e.RegB=0}],["MULAB","",function(e,t){e.RegB*=e.RegA,e.RegB&=4294967295,e.RegB>>>=0,e.RegA=0}],["MULBA","",function(e,t){e.RegA*=e.RegB,e.RegA&=4294967295,e.RegA>>>=0,e.RegB=0}],["DIVAB","",function(e,t){if(0===e.RegB)e.RegA=0,e.RegB=0;else{var n=Math.floor(e.RegA/e.RegB),i=e.RegA%e.RegB;e.RegB=i,e.RegA=n}}],["DIVBA","",function(e,t){if(0===e.RegA)e.RegA=0,e.RegB=0;else{var n=Math.floor(e.RegB/e.RegA),i=e.RegB%e.RegA;e.RegA=i,e.RegB=n}}],["NOTA","",function(e,t){e.RegA=e.RegA?0:1}],["NOTB","",function(e,t){e.RegB=e.RegB?0:1}],["READA","",function(e,t){e.RegA=e.Input.charCodeAt(e.InputPointer++),e.InputPointer>e.Input.length&&(e.RegA=4294967295)}],["READB","",function(e,t){e.RegB=e.Input.charCodeAt(e.InputPointer++),e.InputPointer>e.Input.length&&(e.RegB=4294967295)}],["WRITEA","",function(e,t){e.Output+=String.fromCharCode(e.RegA)}],["WRITEB","",function(e,t){e.Output+=String.fromCharCode(e.RegB)}],["CMP","",function(e,t){e.RegA>e.RegB?(e.RegA-=e.RegB,e.RegB=0):e.RegA<e.RegB?(e.RegB-=e.RegA,e.RegA=0):(e.RegA=0,e.RegB=0)}],["XPUSH","",function(e,t){e.StackX.push(t)}],["YPUSH","",function(e,t){e.StackY.push(t)}],["XPUSHA","",function(e,t){e.StackX.push(e.RegA)}],["XPUSHB","",function(e,t){e.StackX.push(e.RegB)}],["YPUSHA","",function(e,t){e.StackY.push(e.RegA)}],["YPUSHB","",function(e,t){e.StackY.push(e.RegB)}],["XPOP","",function(e,t){e.StackX.pop()}],["YPOP","",function(e,t){e.StackY.pop()}],["XPOPA","",function(e,t){var n;e.RegA=null!==(n=e.StackX.pop())&&void 0!==n?n:0}],["XPOPB","",function(e,t){var n;e.RegB=null!==(n=e.StackX.pop())&&void 0!==n?n:0}],["YPOPA","",function(e,t){var n;e.RegA=null!==(n=e.StackY.pop())&&void 0!==n?n:0}],["YPOPB","",function(e,t){var n;e.RegB=null!==(n=e.StackY.pop())&&void 0!==n?n:0}]];function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return("0".repeat(t)+e.toString(16).toUpperCase()).slice(-t)}var b=function(){function e(t){var n=this;a(this,e),this.Code=void 0,this.Heap=[],this.IP=0,this.RegA=0,this.RegB=0,this.StackX=[],this.StackY=[],this.running=!0,this.Input="",this.InputPointer=0,this.Output="",this.Labels={},this.ASMMap=[],this.CodeLines=[],"string"===typeof t?(this.Code=t,t=t.split("\n")):this.Code=t.join("\n");for(var i=Date.now(),r=[],s={},o={},l=[],c=0,u=function(){var e,i,a,u,d;if(t[h].match(/^\s*LINE/i))return"continue";if(t[h].match(/^\s*FILE/i))return"continue";var f=t[h].match(/^\s*?(?:\n|$)|^\s*(?:([a-z_]\w*):)?\s*(?:(?:db\s*((?:(?:\d+|[a-z_]\w*),?\s*)*))|(?:(REM|NOP|HALT|SETA|SETB|CPYAB|CPYBA|PTRA|PTRB|PUTBPTRA|PUTAPTRB|JMP|JMPA|JMPB|JNZA|JNZB|JBNZA|JANZB|CALL|CALLA|CALLB|RET|INCA|INCB|DECA|DECB|ADDA|ADDB|ADDAB|ADDBA|SUBA|SUBB|SUBAB|SUBBA|MULAB|MULBA|DIVAB|DIVBA|NOTA|NOTB|READA|READB|WRITEA|WRITEB|CMP|XPUSH|XPUSHA|XPUSHB|YPUSH|YPUSHA|YPUSHB|XPOP|YPOP|XPOPA|XPOPB|YPOPA|YPOPB)(?:\s+(?:(\d+)|([a-z_]\w*)))?))?\s*$/im);if(!f)return console.log("No match: ".concat(t[h])),"continue";var p=null!==(e=f[1])&&void 0!==e?e:"",y=null!==(i=f[2])&&void 0!==i?i:"",b=null!==(a=f[3])&&void 0!==a?a:"",w=null!==(u=f[4])&&void 0!==u?u:"",C=null!==(d=f[5])&&void 0!==d?d:"";if(p)for(;c%4;)r[c++]=0;n.ASMMap[c]=h;var S=Date.now();if(p){var x=c;s[p]=x/4,o[p]&&(o[p].forEach((function(e){r[e]=(x/4&4294967295)>>>24&255,r[e+1]=(x/4&4294967295)>>>16&255,r[e+2]=(x/4&4294967295)>>>8&255,r[e+3]=(x/4&4294967295)>>>0&255})),delete o[p])}if(y.length>0){var k,_=g(y.matchAll(/(\d+)|([a-z_]\w*)/gi));try{for(_.s();!(k=_.n()).done;){var A,T,R=k.value,$=null!==(A=R[1])&&void 0!==A?A:"",E=null!==(T=R[2])&&void 0!==T?T:"";if($.length>0){var L=+$;r[c++]=(4294967295&L)>>>24&255,r[c++]=(4294967295&L)>>>16&255,r[c++]=(4294967295&L)>>>8&255,r[c++]=(4294967295&L)>>>0&255}else if(E.length>0)if(void 0!==s[E]){var M=s[E];r[c++]=(4294967295&M)>>>24&255,r[c++]=(4294967295&M)>>>16&255,r[c++]=(4294967295&M)>>>8&255,r[c++]=(4294967295&M)>>>0&255}else void 0===o[E]&&(o[E]=[]),o[E].push(c),c+=4}}catch(P){_.e(P)}finally{_.f()}}else if(b.length>0){if("REM"===b.toUpperCase())return"continue";var I=v.findIndex((function(e){return e[0]===b.toUpperCase()}));if(I<0&&console.log("UNKNOWN COMMAND: ".concat(b)),r[c++]=I,b.toUpperCase()in m){var F=0;w.length>0?F=+w:C.length>0&&("_IP"===C.toUpperCase()&&(s[C]=c/4),void 0!==s[C]?F=s[C]:(void 0===o[C]&&(o[C]=[]),o[C].push(c))),r[c++]=(4294967295&F)>>>24&255,r[c++]=(4294967295&F)>>>16&255,r[c++]=(4294967295&F)>>>8&255,r[c++]=(4294967295&F)>>>0&255}}l.push(Date.now()-S)},h=0;h<t.length;h++)u();for(var d in console.log("Command Times: "),console.dir(l),console.log("Total Time: ".concat(Date.now()-i,"ms")),o)console.log("MISSING LABEL: "+d);this.Heap=r,this.Labels=s,this.CodeLines=this.Code.split("\n")}return h(e,[{key:"CodeWithPointerHighlight",value:function(){var e=this.Code.split("\n"),t=this.ASMMap[this.IP];t&&(e[t]="<span class='pointer'>".concat(e[t],"</span>"));for(var n=0;n<e.length;n++){var i=this.ASMMap.indexOf(n);e[n]="".concat(y(i,8),": ").concat(e[n])}return e.join("\n")}},{key:"Step",value:function(){var e;if(this.running){var t=null!==(e=this.Heap[this.IP])&&void 0!==e?e:1,n=(this.Heap[this.IP+1]<<24)+(this.Heap[this.IP+2]<<16)+(this.Heap[this.IP+3]<<8)+(this.Heap[this.IP+4]<<0)>>>0;this.IP++;var i=v[t];if(!i)throw this.running=!1,new Error("Unknown instruction ".concat(t));i[0]in m&&(this.IP+=4),i[2](this,n)}}},{key:"RenderHeap",value:function(){for(var e="           0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F\n",t=0;t<this.Heap.length;t+=16){e+="".concat(y(t,8),": ");for(var n=0;n<16;n++)void 0!==this.Heap[t+n]?((this.IP===t+n||0===n&&this.IP+1===t+n)&&(e+="<span class='pointer'>"),e+="".concat(y(this.Heap[t+n],2)),(this.IP+1===t+n||this.IP===t+n&&15===n)&&(e+="</span>"),e+=" "):e+="   ";e+="| ";for(var i=0;i<16;i++){var r=" ";if(void 0!==this.Heap[t+i]){var s=this.Heap[t+i];r=s>=32&&s<127?String.fromCharCode(s):"."}e+=r}e+="\n"}return"Heap:<br><div id='heap'>".concat(e,"</div>")}},{key:"RenderBSMemory",value:function(){for(var e,t,n,i,r,s=this.IP,o=this.RegA,a=this.RegB,l="",c="",u=0;u<this.StackX.length;u++)l+=y(this.StackX[u],8)+" ";for(var h=0;h<this.StackY.length;h++)c+=y(this.StackY[h],8)+" ";var d="File: <span class='reg'>".concat(this.GetFile(),"</span><br>\nLine: <span class='reg'>").concat(this.GetLine()+1,"</span><br>\nInstruction PTR: <span class='reg'>").concat(y(s,4),"</span><br>\nInstruction: <span class='reg'>").concat(y(null!==(e=this.Heap[s])&&void 0!==e?e:0)," ").concat(null!==(t=null===(n=v[null!==(i=this.Heap[s])&&void 0!==i?i:0])||void 0===n?void 0:n[0])&&void 0!==t?t:"????"," ").concat(y(null!==(r=this.Heap[s+1])&&void 0!==r?r:0,8),"</span><br>\nRegister A: <span class='reg'>").concat(y(o,8),"</span><br>\nRegister B: <span class='reg'>").concat(y(a,8),"</span><br><br>\nStack1: <span class='reg'>").concat(l,"</span><br>\nStack2: <span class='reg'>").concat(c,"</span><br>");document.querySelector('div.tab[data-target="baMemory"]').innerHTML=d}},{key:"GetLineFrom",value:function(e){for(var t=this.ASMMap[e];t>=0;){var n=this.CodeLines[t].match(/\bline\s*(\d+)/i);if(n)return+n[1];t--}return 0}},{key:"GetFileFroM",value:function(e){for(var t=this.ASMMap[e];t>=0;){var n=this.CodeLines[t].match(/\bfile\s*(.+)/i);if(n)return n[1];t--}return"main.bc"}},{key:"GetLine",value:function(){return this.GetLineFrom(this.IP)}},{key:"GetFile",value:function(){return this.GetFileFroM(this.IP)}},{key:"RenderMemory",value:function(e){this.RenderBSMemory()}}],[{key:"RenderHeapPlain",value:function(e){for(var t="           0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F\n",n=0;n<e.length;n+=16){t+="".concat(y(n,8),": ");for(var i=0;i<16;i++)void 0!==e[n+i]?(t+="".concat(y(e[n+i],2)),t+=" "):t+="   ";t+="| ";for(var r=0;r<16;r++){var s=" ";if(void 0!==e[n+r]){var o=e[n+r];s=o>=32&&o<127?String.fromCharCode(o):"."}t+=s}t+="\n"}return t}}]),e}(),w=n(8399),C=n(5675),S=(n(2205),n(3495),n(2711),function(){function e(){a(this,e),this.Assignments=[],this.Children={},this.ConstantChildren={},this.VirtualChildren={},this.Size=1,this.TypeType=null,this.ClassLabel="",this.Name="",this.Wide=!1}return h(e,[{key:"WithGenerics",value:function(e){var t=this.Clone();return t.AddGenerics(e),t}},{key:"AddGenerics",value:function(e){for(var t in this.Children)this.Children[t]&&this.Children[t][0]&&(this.Children[t][0]=this.Children[t][0].WithGenerics(e));for(var n in this.VirtualChildren)this.VirtualChildren[n]&&this.VirtualChildren[n][0]&&(this.VirtualChildren[n][0]=this.VirtualChildren[n][0].WithGenerics(e));this.TypeType&&this.TypeType.AddGenerics(e)}},{key:"Clone",value:function(){var t=new e;for(var n in this.Children){var i=this.Children[n];t.Children[n]=[i[0],i[1],i[2]]}for(var r in this.VirtualChildren){var s=this.VirtualChildren[r];t.VirtualChildren[r]=[s[0],s[1],s[2],s[3]]}return t.Size=this.Size,this.TypeType&&(t.TypeType=this.TypeType.Clone()),t.ClassLabel=this.ClassLabel,t.Name=this.Name,t.Wide=this.Wide,t}}]),e}()),x=new S,k=new S,_=new S;function A(e){return new S}k.TypeType=new S,x.TypeType=new S;var T=new S;function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function $(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function M(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){var t=L();return function(){var n,i=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return M(this,n)}}function F(e,t,n){return F=L()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&R(r,n.prototype),r},F.apply(null,arguments)}function P(e){var t="function"===typeof Map?new Map:void 0;return P=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return F(e,arguments,E(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),R(i,e)},P(e)}function D(e){return null!==e&&(e instanceof N&&("Right"in e&&"Precedence"in e&&"LeftRightAssociative"in e))}function B(e){return null!==e&&(e instanceof N&&("Left"in e&&"Precedence"in e&&"LeftRightAssociative"in e))}T.Name="COMPILER",T.Wide=!0,T.Size=0;var N=function(){function e(t,n){a(this,e),this.Start=void 0,this.End=void 0,this.Claimer=void 0,this.Claim=void 0,this.Start=n.StartIndex,this.End=t.Ptr,this.Claimer=t,this.Claim=n}return h(e,[{key:"toString",value:function(){for(var e=this.End,t=this.Start,n=this,i=this;D(i);)e=Math.max(i.End,e),i=i.Right;for(;B(n);)t=Math.min(n.Start,t),n=n.Start;return this.Claimer.Code.substr(t,e-t)}},{key:"GetLineNo",value:function(){return this.Claimer.Code.substring(0,this.Start).split("\n").length-1}},{key:"GetColumn",value:function(){var e=this.Claimer.Code.substring(0,this.Start).split("\n");return e[e.length-1].length}},{key:"GetLine",value:function(){return"line ".concat(this.GetLineNo())}}]),e}(),O=function(e){$(n,e);var t=I(n);function n(e,i){var r;return a(this,n),(r=t.call(this,i)).CallStack=void 0,r.CallStack=e,r}return h(n)}(P(Error)),G=function(e){$(n,e);var t=I(n);function n(){return a(this,n),t.apply(this,arguments)}return h(n,[{key:"TryEvaluate",value:function(e){try{return this.Evaluate(e)}catch(i){if(i instanceof O){var t=new O(i.CallStack.concat(this),i.message);throw t.stack=i.stack,t.name=i.name,t}if(i instanceof Error){var n=new O([this],i.message);throw n.stack=i.stack,n.name=i.name,n}throw new O([this],""+i)}}}],[{key:"Claim",value:function(e){for(var t=null,i=0;null===t&&i<n.StatementClaimers.length;)t=n.StatementClaimers[i++](e);return t}},{key:"ClaimTopLevel",value:function(e){for(var t=null,i=0;null===t&&i<n.TopLevelStatementClaimers.length;)t=n.TopLevelStatementClaimers[i++](e);return t}},{key:"Register",value:function(e){n.StatementClaimers.splice(0,0,e)}},{key:"RegisterTopLevel",value:function(e){n.TopLevelStatementClaimers.splice(0,0,e)}}]),n}(N);G.StatementClaimers=[],G.TopLevelStatementClaimers=[],G.RegisterTopLevel(G.Claim);var z=n(9980),W=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Path="",e}return h(n,[{key:"Evaluate",value:function(e){if(this.Path===this.Claimer.File)throw new Error("Cannot self-include");if(n.Evaluated[this.Path])return[];if(!n.Parsed[this.Path])throw new Error("Unable to find file: ".concat(this.Path));var t=["file ".concat(this.Path)];e.Assembly.push("file ".concat(this.Path));var i=e.Assembly.length,r=e.CurrentFile;return e.CurrentFile=this.Path,n.Parsed[this.Path].forEach((function(n){t.push.apply(t,s(n.TryEvaluate(e)))})),e.CurrentFile=r,t.length>1?t.push("file ".concat(this.Claimer.File)):t.pop(),e.Assembly.length>i?e.Assembly.push("file ".concat(this.Claimer.File)):e.Assembly.pop(),n.Evaluated[this.Path]=!0,t}},{key:"DefinitelyReturns",value:function(){return!1}}],[{key:"Claim",value:function(e){var t,i,r,s=e.Claim(/include\b/);if(!s.Success)return null;var o=e.Claim(/(.*?)(;|\r?\n)/);if(!o.Success)return s.Fail(),null;var a=new n(e,s);return a.Path=o.Body[1],De[a.Path]||Be(a.Path),null!==(r=(t=n.Includes)[i=e.File])&&void 0!==r||(t[i]=new Set),n.Includes[e.File].add(a.Path),n.Includes[a.Path]&&n.Includes[a.Path].forEach((function(t){return n.Includes[e.File].add(t)})),a}}]),n}(G);W.Parsed={},W.Evaluated={},W.Includes={},G.RegisterTopLevel(W.Claim);var H=["xpopb","xpopa","addab","xpushb"],U=["xpopb","xpopa","divab","xpusha","xpushb"],V=["xpopb","seta 0","subab","xpushb"],j=[],K=["xpopa","nota","xpusha"],q=[["add",H],["sub",["xpopb","xpopa","subba","xpusha"]],["mul",["xpopb","xpopa","mulab","xpushb"]],["div",["xpopb","xpopa","divab","xpusha"]],["mod",["xpopb","xpopa","divab","xpushb"]],["lt",["xpopb","xpopa","cmp","xpushb"]],["gt",["xpopb","xpopa","cmp","xpusha"]],["eq",["xpopb","xpopa","cmp","addba","nota","xpusha"]],["ne",["xpopb","xpopa","cmp","addba","xpusha"]]],Y=function(){function e(){a(this,e),this.Vars=new Map,this.AllVars=new Map,this.Parent=null,this.Assembly=[],this.TakenLabels={},this.CurrentFile="main.bc",this.CurrentFunction="",this.Deferred=[],this.ScratchLabel=null,this.MaxScratchRequired=0,this.SoftInitilizedMetamethods=[],this.MetaMethods={},this.FastMMCache=new Map,this.SlowMMCache=new Map,this.CurrentRequiredReturns=[],this.IsFunctionScope=!1,this.UserTypes={},this.TypeInformation=[],this.HasAllocator=!1,this.DebuggedVals=new Set}return h(e,[{key:"GetScratch",value:function(e){var t;return this.Parent?this.Parent.GetScratch(e):(this.MaxScratchRequired=Math.max(this.MaxScratchRequired,e),null!==(t=this.ScratchLabel)&&void 0!==t?t:this.ScratchLabel=this.GetSafeName("scratch"))}},{key:"SetupIntMetamethods",value:function(){var e=this,t=this.CurrentFile;this.CurrentFile="GLOBAL";try{q.forEach((function(t){e.AddMetamethodSoft(t[0],[He.Int],[He.Int,He.Int],t[1])})),this.AddMetamethodSoft("divmod",[He.Int,He.Int],[He.Int,He.Int],U),this.AddMetamethodSoft("truthy",[He.Int],[He.Int],[]),this.AddMetamethodSoft("not",[He.Int],[He.Int],K),this.AddMetamethodSoft("unm",[He.Int],[He.Int],V),this.AddMetamethodSoft("unp",[He.Int],[He.Int],j)}finally{this.CurrentFile=t}}},{key:"TryFallbacks",value:function(e,t){for(var n=[["eq","ne"],["lt","ge"],["gt","le"],["truthy","not"]],i=0;i<n.length;i++){var r=n[i];if(e===r[0])try{var s=this.GetMetamethod(r[1],t,{canFallback:!1});if(null!==s&&He.AllEquals(s[0],[He.Int])){var o=s[2].concat("xpopa","nota","xpusha");return[s[0],s[1],o]}}catch(c){return null}else if(e===r[1])try{var a=this.GetMetamethod(r[0],t,{canFallback:!1});if(null!==a&&He.AllEquals(a[0],[He.Int])){var l=a[2].concat("xpopa","nota","xpusha");return[a[0],a[1],l]}}catch(c){return null}}return null}},{key:"SoftInit",value:function(e){var t=this,n=this.CurrentFile;this.CurrentFile="GLOBAL";try{if("int"===e.TypeName&&0===e.PointerDepth)return void this.SetupIntMetamethods();if(e instanceof Ue)return void this.AddMetamethodSoft("truthy",[He.Int],[e],[]);if(e.PointerDepth>0){var i=e.WithDeltaPointerDepth(-1);return q.forEach((function(n){t.AddMetamethodSoft(n[0],[e],[e,He.Int],n[1]),t.AddMetamethodSoft(n[0],[e],[He.Int,e],n[1]),t.AddMetamethodSoft(n[0],[e],[He.VoidPtr,e],n[1]),t.AddMetamethodSoft(n[0],[e],[e,He.VoidPtr],n[1])})),this.AddMetamethodSoft("divmod",[e,He.Int],[e,He.Int],U),this.AddMetamethodSoft("divmod",[e,He.Int],[He.Int,e],U),this.AddMetamethodSoft("divmod",[e,He.Int],[He.VoidPtr,e],U),this.AddMetamethodSoft("divmod",[e,He.Int],[e,He.VoidPtr],U),this.AddMetamethodSoft("truthy",[He.Int],[e],[]),this.AddMetamethodSoft("not",[He.Int],[e],K),this.AddMetamethodSoft("unm",[e],[e],V),this.AddMetamethodSoft("unp",[e],[e],j),this.AddMetamethodSoft("getindex",[e.WithDeltaPointerDepth(-1)],[e,He.Int],i.IsWide()?["xpopa","setb ".concat(i.GetDefinition().Size),"mulba","xpopb","addba"].concat(s(i.Get("x","a"))):["xpopa","xpopb","addab","ptrb","xpushb"]),this.AddMetamethodSoft("setindex",[e.WithDeltaPointerDepth(-1)],[e,He.Int,e.WithDeltaPointerDepth(-1)],i.IsWide()?[].concat(s(i.FlipXY()),["xpopa","setb ".concat(i.GetDefinition().Size),"mulba","xpopb","addab"],s(i.FlipYX()),s(i.Put("x","b"))):["xpopa","ypusha","xpopa","xpopb","addab","ypopa","putaptrb"]),this.AddMetamethodSoft("ptrindex",[e],[e,He.Int],i.IsWide()?["xpopa","setb ".concat(i.GetDefinition().Size),"mulba","xpopb","addba","xpusha"]:H),void this.AddMetamethodSoft("dispose",[],[e],["call free"])}}finally{this.CurrentFile=n}}},{key:"RemapGenericMetamethod",value:function(e,t,n){if(0===e[3].length)return e;var i={},r=!1,s=[],o=[],a=new Fe(""),l=a.Flag(),c=function t(s,o){if(r)return s;if(e[3].includes(s.TypeName)){if(s.TypeName in i){var c=i[s.TypeName].WithDeltaPointerDepth(s.PointerDepth);return(n?c.Equals(o):He.CanCoax([c],[o]))?c:(n?o.Equals(c):He.CanCoax([o],[c]))?(i[s.TypeName]=o.WithDeltaPointerDepth(-s.PointerDepth),o):(r=!0,s)}return i[s.TypeName]=o.WithDeltaPointerDepth(-s.PointerDepth),o}if(s instanceof Ue&&o instanceof Ue){var u=s,h=o;if(u.ArgTypes.length!==h.ArgTypes.length||u.RetTypes.length!==h.RetTypes.length)return r=!0,s;var d=new Ue(a,l);d.ArgTypes=[],d.RetTypes=[];var f=n;n=!0;for(var p=0;p<u.ArgTypes.length;p++)d.ArgTypes.push(t(u.ArgTypes[p],h.ArgTypes[p]));for(var g=0;g<u.RetTypes.length;g++)d.RetTypes.push(t(u.RetTypes[g],h.RetTypes[g]));return n=f,r?s:d}if(!(n?s.Equals(o):He.CanCoax([s],[o])))return r=!0,s;if(s.Generics.length>0){for(var m=[],v=0;v<Math.min(s.Generics.length,o.Generics.length);v++)m.push(t(s.Generics[v],o.Generics[v]));for(var y=o.Generics.length;y<s.Generics.length;y++){var b=new Fe("",""),w=b.Flag(),C=new He(b,w);C.PointerDepth=0,C.TypeName="metamethodgeneric$"+y,C.Generics=[],m.push(t(s.Generics[y],C))}return s.WithGenerics(m)}return s},u=function t(n){if(e[3].includes(n.TypeName)&&n.TypeName in i)return i[n.TypeName].WithDeltaPointerDepth(n.PointerDepth);if(n.Generics.length>0){for(var r=[],s=0;s<n.Generics.length;s++)r.push(t(n.Generics[s]));return n.WithGenerics(r)}return n};if(e[1].length!==t.length)return r=!0,e;for(var h=0;h<e[1].length;h++)if(c(e[1][h],t[h]),r)return e;for(var d=0;d<e[1].length;d++)if(s.push(c(e[1][d],t[d])),r)return e;for(var f=0;f<e[0].length;f++)o.push(u(e[0][f]));return[o,s,e[2],[],e[4]]}},{key:"TrySlowCache",value:function(e,t,n){return-1===e.indexOf("&")&&(e=e+"&"+this.CurrentFile),null===n?null:(this.SlowMMCache.get(e).set(t,n),n)}},{key:"CacheGet",value:function(e,t){var n=e+"&"+this.CurrentFile,i="string"===typeof t?t:t.map((function(e){return e.toString()})).join(",");return this.FastMMCache.has(n)&&this.FastMMCache.get(n).has(i)?this.FastMMCache.get(n).get(i):(this.SlowMMCache.has(n)||this.SlowMMCache.set(n,new Map),this.SlowMMCache.get(n).has(i)?this.SlowMMCache.get(n).get(i):(n=e+"$GLOBAL",this.FastMMCache.has(n)&&this.FastMMCache.get(n).has(i)?this.FastMMCache.get(n).get(i):(this.SlowMMCache.has(n)||this.SlowMMCache.set(n,new Map),this.SlowMMCache.get(n).has(i)?this.SlowMMCache.get(n).get(i):null)))}},{key:"GetMetamethod",value:function(e,t){var n,i,r,s=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e+"&"+this.CurrentFile,l=t.map((function(e){return e.toString()})).join(",");if(r=this.CacheGet(e,t))return r;null!==(n=o.canFallback)&&void 0!==n||(o.canFallback=!0),null!==(i=o.exactly)&&void 0!==i||(o.exactly=!1),t.filter((function(e){return!s.SoftInitilizedMetamethods.includes(e)})).forEach((function(e){s.SoftInit(e),s.SoftInitilizedMetamethods.push(e)}));var c=this.MetaMethods[e];if(void 0===c)return this.TrySlowCache(a,l,o.canFallback?this.TryFallbacks(e,t):null);if(c=(c=(c=(c=c.filter((function(e){var t;return"GLOBAL"===e[4]||e[4]===s.CurrentFile||(null===(t=W.Includes[s.CurrentFile])||void 0===t?void 0:t.has(e[4]))}))).map((function(e){return s.RemapGenericMetamethod(e,t,o.exactly)}))).filter((function(e){return 0===e[3].length}))).filter((function(e){return o.exactly?He.AllEquals(e[1],t):He.CanCoax(e[1],t)[0]})),o.strictTo&&(c=c.filter((function(e){return He.AllEquals(e[1].slice(0,o.strictTo),t.slice(0,o.strictTo))}))),0===c.length)return this.TrySlowCache(a,l,o.canFallback?this.TryFallbacks(e,t):null);c.sort((function(e,n){return He.CountMatches(n[1],t)-He.CountMatches(e[1],t)}));var u=He.CountMatches(c[0][1],t);if((c=c.filter((function(e){return He.CountMatches(e[1],t)===u}))).length>1)throw new Error("Ambiguous Metamethod: ".concat(e," Received: ").concat(t," Options: ").concat(c.map((function(e){return"["+e[0].join(",")+"]"})).join("m")));return this.TrySlowCache(a,l,[c[0][0],c[0][1],c[0][2]])}},{key:"AddMetamethodSoft",value:function(e,t,n,i){var r;this.MetaMethods[e]=null!==(r=this.MetaMethods[e])&&void 0!==r?r:[];for(var o=0;o<this.MetaMethods[e].length;o++)if(He.AllEquals(this.MetaMethods[e][o][1],n)&&("cast"!==e||He.AllEquals(this.MetaMethods[e][o][0],t)))return;for(var a=0,l=s(this.SlowMMCache.keys());a<l.length;a++){var c=l[a];c.startsWith(e+"$")&&this.SlowMMCache.set(c,new Map)}this.FastMMCache.has(e+"$"+this.CurrentFile)||this.FastMMCache.set(e+"$"+this.CurrentFile,new Map),this.FastMMCache.get(e+"$"+this.CurrentFile).set(n.map((function(e){return e.toString()})).join(","),[t,n,i]),this.MetaMethods[e].push([t,n,i,[],this.CurrentFile])}},{key:"UsingAllocator",value:function(){return this.HasAllocator||null!==this.Parent&&this.Parent.UsingAllocator()}},{key:"SetAllocator",value:function(){this.HasAllocator=!0,this.Parent&&this.Parent.SetAllocator()}},{key:"GetRequiredReturns",value:function(){return this.IsFunctionScope&&this.Parent?this.Parent.IsFunctionScope?this.Parent.GetRequiredReturns():this.CurrentRequiredReturns:null}},{key:"SetRequiredReturns",value:function(e){this.IsFunctionScope&&this.Parent&&(this.Parent.IsFunctionScope?this.Parent.SetRequiredReturns(e):this.CurrentRequiredReturns=e)}},{key:"RequireAllocator",value:function(){var e;if(!this.UsingAllocator()){this.SetAllocator();var t=[];t.push.apply(t,s("putchar:\n    xpopa\n    writea\n    ret\ngetchar:\n    reada\n    xpusha\n    ret\nvAllocTable: db 0\nvAllocSize: db 0\nalloc:\n    seta vAllocTable\n    setb aftercode\n    putbptra\n    seta vAllocSize\n    xpopb\n    putbptra\n    wAllocCond:\n        seta vAllocTable\n        ptra\n        ptra\n        jnza wAllocBody\n        seta vAllocTable\n        ptra\n        inca\n        ptra\n        nota\n        jnza wAllocDone\n        seta vAllocTable\n        ptra\n        inca\n        ptra\n        setb vAllocSize\n        ptrb\n        addb 3\n        cmp\n        jnzb wAllocBody\n        jmp wAllocDone\n    wAllocBody:\n        seta vAllocTable\n        ptra\n        setb vAllocTable\n        ptrb\n        incb\n        ptrb\n        addba\n        adda 2\n        setb vAllocTable\n        putaptrb\n        jmp wAllocCond\n    wAllocDone:\n    seta vAllocTable\n    ptra\n    inca\n    ptra\n    jnza fAllocSlip\n    jmp fAllocSlipDone\n    fAllocSlip:\n        setb vAllocSize\n        ptrb\n        subba\n        suba 2\n        xpusha\n        seta vAllocTable\n        ptra\n        setb vAllocSize\n        ptrb\n        addba\n        adda 2\n        setb 0\n        putbptra\n        inca\n        xpopb\n        putbptra\n    fAllocSlipDone:\n    seta vAllocTable\n    ptra\n    setb 1\n    putbptra\n    inca\n    setb vAllocSize\n    ptrb\n    putbptra\n    inca\n    xpusha\n    ret\n\nvFreeTable: db 0\nvFreeTarget: db 0\nvFreeLast: db 0\nfree:\n    seta vFreeTable\n    setb aftercode\n    putbptra\n    seta vFreeTarget\n    xpopb\n    subb 2\n    putbptra\n    wFreeCond:\n        seta vFreeTable\n        ptra\n        setb vFreeTarget\n        ptrb\n        cmp\n        notb\n        jnzb wFreeDone\n        seta vFreeLast\n        setb vFreeTable\n        ptrb\n        putbptra\n        seta vFreeTable\n        ptra\n        setb vFreeTable\n        ptrb\n        incb\n        ptrb\n        addba\n        adda 2\n        setb vFreeTable\n        putaptrb\n        jmp wFreeCond\n    wFreeDone:\n    seta vFreeTable\n    ptra\n    setb vFreeTarget\n    ptrb\n    subab\n    notb\n    jnzb fFreeClear\n    ret\n    fFreeClear:\n        seta vFreeTable\n        ptra\n        setb 0\n        putbptra\n        seta vFreeLast\n        ptra\n        ptra\n        jnza fFreeDone\n        seta vFreeTarget\n        ptra\n        inca\n        ptra\n        setb vFreeLast\n        ptrb\n        incb\n        ptrb\n        addab\n        addb 2\n        seta vFreeLast\n        ptra\n        inca\n        putbptra\n    fFreeDone:\n    ret".split("\n"))),(e=this.Assembly).push.apply(e,t);var n=new Fe(""),i=n.Flag(),r=new Ue(n,i);r.ArgTypes=[He.Int],r.RetTypes=[He.VoidPtr];var o=new Ue(n,i);o.ArgTypes=[He.Void],o.RetTypes=[];var a=new Ue(n,i);a.ArgTypes=[He.Int],a.RetTypes=[];var l=new Ue(n,i);l.ArgTypes=[],l.RetTypes=[He.Int],this.Set("alloc",r,!1),this.Set("free",o,!1),this.Set("putchar",a,!1),this.Set("getchar",l,!1);var c=this.Get("alloc"),u=this.Get("free"),h=this.Get("putchar"),d=this.Get("getchar");this.Assembly.push("".concat(c[1],": db alloc")),this.Assembly.push("".concat(u[1],": db free")),this.Assembly.push("".concat(h[1],": db putchar")),this.Assembly.push("".concat(d[1],": db getchar"))}}},{key:"GetSafeName",value:function(e){for(var t=e=e.replace(/[^a-zA-Z_]+/g,"");this.TakenLabels[t];)t="".concat(e,"_").concat(z.i.newGuid().toString().substr(0,8));return this.TakenLabels[t]=!0,t}},{key:"Get",value:function(e){var t;if("_"===e)return[He.Discard,"",0];if("COMPILER"===e)return[He.Compiler,"",0];var n=this.Vars.has(e)?this.Vars.get(e):null===(t=this.Parent)||void 0===t?void 0:t.Get(e);if(!n)throw new Error("Unknown identifier ".concat(e));return n}},{key:"TryGet",value:function(e){var t;if("_"===e)return[He.Discard,"",0];if("COMPILER"===e)return[He.Compiler,"",0];var n=this.Vars.has(e)?this.Vars.get(e):null===(t=this.Parent)||void 0===t?void 0:t.TryGet(e);return n||null}},{key:"Set",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"discard"===t.TypeName&&(n=!1);var i=this.GetSafeName("var".concat(t).concat(e));this.Vars.set(e,[t,i,null]);var r=k;try{r=t.GetDefinition()}catch(s){}return n&&this.Assembly.push("".concat(i,": db ").concat(r.Wide?new Array(r.Size).fill("0").join(","):0)),this.AllVars.set(i,[t,e,this.CurrentFile,this.CurrentFunction]),i}},{key:"SetConstant",value:function(e,t,n,i){var r,s;if(i){if(null===t)throw new Error("Must provide type when setting constant");var o=this.GetSafeName("var".concat(t).concat(e));return this.Vars.set(e,[t,o,n]),!0}if(this.Vars.has(e)){var a=this.Vars.get(e);return null!==a[2]&&(a[2]=n,!0)}return null!==(r=null===(s=this.Parent)||void 0===s?void 0:s.SetConstant(e,t,n,i))&&void 0!==r&&r}},{key:"Sub",value:function(){var t=new e;return t.Parent=this,t.Assembly=this.Assembly,t.TakenLabels=this.TakenLabels,t.IsFunctionScope=this.IsFunctionScope,t.UserTypes=this.UserTypes,t.CurrentRequiredReturns=this.CurrentRequiredReturns,t.AllVars=this.AllVars,t.TypeInformation=this.TypeInformation,t.CurrentFunction=this.CurrentFunction,t.CurrentFile=this.CurrentFile,t.MetaMethods=this.MetaMethods,t.FastMMCache=this.FastMMCache,t.SlowMMCache=this.SlowMMCache,t.SoftInitilizedMetamethods=this.SoftInitilizedMetamethods,t}},{key:"InformType",value:function(e,t){this.TypeInformation.filter((function(t){return t[0]===e})).length||this.TypeInformation.push([e,t])}},{key:"GetFunctionVariables",value:function(){if(!this.IsFunctionScope)return[];var e,t=[],n=[],i=g(this.Vars.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value;n.push(r),t.push([r,this.Vars.get(r)[0],this.Vars.get(r)[1]])}}catch(s){i.e(s)}finally{i.f()}this.Parent&&this.Parent.GetFunctionVariables().filter((function(e){return!n.includes(e[0])})).forEach((function(e){t.push(e),n.push(e[0])}));return t}},{key:"DumpFunctionVariables",value:function(){var e=[],t=this.GetFunctionVariables();t.sort((function(e,t){return e[2].localeCompare(t[2])}));for(var n=0;n<t.length;n++)e.push("seta ".concat(t[n][2]),"ptra","ypusha");return e}},{key:"LoadFunctionVariables",value:function(){var e=[],t=this.GetFunctionVariables();t.sort((function(e,t){return e[2].localeCompare(t[2])}));for(var n=t.length-1;n>=0;n--)e.push("seta ".concat(t[n][2]),"ypopb","putbptra");return e}},{key:"RenderFunction",value:function(e,t,n){var i="",r=this.AllVars.get(t),s="<b>function</b> ".concat(t);if(r&&r[0]instanceof Ue){var o=r[0];s="<b>function</b> ".concat(r[1],"(<b>").concat(o.ArgTypes.map((function(e){return e.ToHTML()})).join("</b>, <b>"),"</b>)"),o.RetTypes.length>0&&(s+=" -> <b>".concat(o.RetTypes.map((function(e){return e.ToHTML()})).join("</b>, <b>"),"</b>"))}var a=!1;for(var l in 0===t.length&&(s="<b>GLOBAL</b>",a=!0),i+="".concat(s," {<br>"),n){var c=n[l];c[2].startsWith("_")||(a&&c[1]instanceof Ue||(i+="\t".concat(c[1].Debug(this,e,c[0],c[2],e.Labels[c[0]]).replace(/<br>(?!$)/g,"<br>\t"),"<br>")))}return i+="}<br>"}},{key:"RenderBSMemory",value:function(e){this.DebuggedVals=new Set,e.RenderBSMemory();var t,n="<br><div id='variables'>",i={},r={},s=g(this.AllVars.keys());try{for(s.s();!(t=s.n()).done;){var o,a,l,c,u,h,d,f=t.value,p=this.AllVars.get(f);if(p)if(p[0])if(null!==(a=i[o=p[2]])&&void 0!==a||(i[o]={}),null!==(c=r[l=p[2]])&&void 0!==c||(r[l]={}),p[0].TypeName==="type"+p[1])r[p[2]][f]=[p[0],p[1]];else null!==(d=(u=i[p[2]])[h=p[3]])&&void 0!==d||(u[h]=[]),i[p[2]][p[3]].push([f,p[0],p[1]])}}catch($){s.e($)}finally{s.f()}for(var m in i){var v=i[m];for(var y in n+="".concat(m,"<br>"),v[""]&&(n+=this.RenderFunction(e,"",v[""]),delete v[""]),r[m]){var b=r[m][y],w=b[0].GetDefinition();n+="<b>class</b> ".concat(b[1]," {<br>");var C=[];for(var S in w.VirtualChildren){var x=w.VirtualChildren[S];C[x[2]]=[x[0],x[2],x[3],S]}for(var k in w.Children){var _=w.Children[k];C[_[1]]=[_[0],_[1],_[2],k]}for(var A=0;A<C.length;A++){var T=C[A];T&&("new"!==T[3]&&(T[0]instanceof Ue&&v[T[2]]?(n+="\t".concat(this.RenderFunction(e,T[2],v[T[2]]).replace(/<br>(?!$)/g,"<br>\t")),delete v[T[2]]):n+="\t"+T[0].Debug(this,e,"",T[3],e.Labels[w.ClassLabel]+T[1]).replace(/<br>(?!$)/g,"<br>\t")+"<br>"))}n+="}<br>"}for(var R in v)this.DebuggedVals.add(e.Labels[R]),n+=this.RenderFunction(e,R,v[R])}n=n.replace(/\{(\s*<br>)*\s*\}/g,"{}"),n+="</div>",document.querySelector('div.tab[data-target="baHeap"]').innerHTML=e.RenderHeap(),document.querySelector('div.tab[data-target="baMemory"]').innerHTML+=n}}],[{key:"CompressRedundancy",value:function(e,t){var n,i=e.match(/^\s*/)[0];return e=e.replace(/^\s*(.*?)\s*$/,"$1"),t=t.replace(/^\s*(.*?)\s*$/,"$1"),"xpusha"===e&&"xpopa"===t||"ypusha"===e&&"ypopa"===t||"xpushb"===e&&"xpopb"===t||"ypushb"===e&&"ypopb"===t?"":(n=e.match(/^seta\s+(.*)/))&&"xpusha"===t?"".concat(i,"xpush ").concat(n[1]):n&&"ypusha"===t?"".concat(i,"ypush ").concat(n[1]):(n=e.match(/^setb\s+(.*)/))&&"xpushb"===t?"".concat(i,"xpush ").concat(n[1]):n&&"ypushb"===t?"".concat(i,"ypush ").concat(n[1]):(n=e.match(/^xpush\s+(.*)/))&&"xpopa"===t?"".concat(i,"seta ").concat(n[1]):n&&"xpopb"===t?"".concat(i,"setb ").concat(n[1]):(n=e.match(/^ypush\s+(.*)/))&&"ypopa"===t?"".concat(i,"seta ").concat(n[1]):n&&"ypopb"===t?"".concat(i,"setb ").concat(n[1]):e.match(/^xpush\s+/)&&"xpop"===t||e.match(/^ypush\s+/)&&"ypop"===t?"":("xpusha"!==e&&"xpushb"!==e||"xpop"!==t)&&("ypusha"!==e&&"ypushb"!==e||"ypop"!==t)?null:""}},{key:"SimplyRedundant",value:function(e){return!!e.match(/^\s*(adda|addb|suba|subb)\s+0\s*$/)}},{key:"ObliterateRedundancies",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n<0&&(n=0);for(var i=n;i<t.length-1;i++){var r=this.CompressRedundancy(t[i],t[i+1]);if(null!==r)return 0===r.length?e.ObliterateRedundancies([].concat(s(t.slice(0,i)),s(t.slice(i+2))),i-1):e.ObliterateRedundancies([].concat(s(t.slice(0,i)),[r],s(t.slice(i+2))),i-1)}return t.filter((function(t){return!e.SimplyRedundant(t)}))}}]),e}();function X(e){return null!==e&&("Right"in e&&("Precedence"in e||"LeftPrecedence"in e)&&"LeftRightAssociative"in e)}function Z(e){return null!==e&&("Left"in e&&("Precedence"in e||"RightPrecedence"in e)&&"LeftRightAssociative"in e)}Y.CURRENT=void 0;var Q=function(e){$(n,e);var t=I(n);function n(){return a(this,n),t.apply(this,arguments)}return h(n,[{key:"TryEvaluate",value:function(e){var t=Y.CURRENT;try{Y.CURRENT=e;var n=this.Evaluate(e);return e.InformType(this,n[0]),n}catch(s){if(s instanceof O){var i=new O(s.CallStack.concat(this),s.message);throw i.stack=s.stack,i.name=s.name,i}if(s instanceof Error){var r=new O([this],s.message);throw r.stack=s.stack,r.name=s.name,r}throw new O([this],""+s)}finally{Y.CURRENT=t}}},{key:"TrySimplify",value:function(e){try{return this.Simplify(e)}catch(i){if(i instanceof O){var t=new O(i.CallStack.concat(this),i.message);throw t.stack=i.stack,t.name=i.name,t}if(i instanceof Error){var n=new O([this],i.message);throw n.stack=i.stack,n.name=i.name,n}throw new O([this],""+i)}}},{key:"DefinitelyReturns",value:function(e){return!1}},{key:"PotentiallyReturns",value:function(e){return this.DefinitelyReturns(e)}}],[{key:"Claim",value:function(e){for(var t,i=null,r=0;null===i&&r<n.PriorityExpressionClaimers.length;)i=n.PriorityExpressionClaimers[r++](e);for(r=0;null===i&&r<n.ExpressionClaimers.length;)i=n.ExpressionClaimers[r++](e);null!==i&&(i=n.LBalance(i),i=null!==(t=n.RightClaim(i,e))&&void 0!==t?t:i);return i}},{key:"RightClaim",value:function(e,t){for(var i,r=null,s=0;null===r&&s<n.ExpressionRightClaimers.length;)r=n.ExpressionRightClaimers[s++](e,t);if(null===r)return e;null!==r&&(r=n.LBalance(r),r=null!==(i=n.RightClaim(r,t))&&void 0!==i?i:r);return r}},{key:"Register",value:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?n.PriorityExpressionClaimers:n.ExpressionClaimers).splice(0,0,e)}},{key:"RegisterRight",value:function(e){n.ExpressionRightClaimers.splice(0,0,e)}},{key:"Balance",value:function(e){var t,n;if(!Z(e))return e;var i=e,r=i.Left;if(!X(r))return e;var s=r,o=null!==(t=s.Precedence)&&void 0!==t?t:s.RightPrecedence,a=null!==(n=i.Precedence)&&void 0!==n?n:i.LeftPrecedence;if(a>o||a===o&&!i.LeftRightAssociative){var l=s.Right;return s.Right=i,i.Left=l,s}return i}},{key:"LBalance",value:function(e){var t,n;if(!X(e))return e;var i=e,r=i.Right;if(!Z(r))return e;var s=r,o=null!==(t=i.Precedence)&&void 0!==t?t:i.RightPrecedence,a=null!==(n=s.Precedence)&&void 0!==n?n:s.LeftPrecedence;if(o>a||a===o&&s.LeftRightAssociative){var l=s.Left;return s.Left=i,i.Right=l,s}return i}}]),n}(N);function J(e){return"Assign"in e&&"GetTypes"in e&&"InformType"in e}function ee(e){return"AssignSimple"in e}function te(e){return"GetPointer"in e&&"GetReferenceTypes"in e}Q.PriorityExpressionClaimers=[],Q.ExpressionClaimers=[],Q.ExpressionRightClaimers=[];var ne=function(){function e(){a(this,e)}return h(e,null,[{key:"ClaimAssignable",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null,r=0;null===i&&r<e.AssignableClaimers.length;)i=e.AssignableClaimers[r++](t,n);return i}},{key:"ClaimReadable",value:function(t){for(var n=null,i=0;null===n&&i<e.ReadableClaimers.length;)n=e.ReadableClaimers[i++](t);return n}},{key:"ClaimReadWritable",value:function(t){for(var n=null,i=0;null===n&&i<e.ReadWritableClaimers.length;)n=e.ReadWritableClaimers[i++](t);return n}},{key:"ClaimReferencable",value:function(t){for(var n=null,i=0;null===n&&i<e.ReferenceableClaimers.length;)n=e.ReferenceableClaimers[i++](t);return n}},{key:"RegisterAssignable",value:function(e){this.AssignableClaimers.splice(0,0,e)}},{key:"RegisterReadable",value:function(e){this.ReadableClaimers.splice(0,0,e)}},{key:"RegisterReadWritable",value:function(e){this.AssignableClaimers.splice(0,0,e),this.ReadableClaimers.splice(0,0,e),this.ReadWritableClaimers.splice(0,0,e)}},{key:"RegisterReferenceable",value:function(e){this.ReferenceableClaimers.splice(0,0,e)}}]),e}();function ie(e){return"Simplify"in e}ne.AssignableClaimers=[],ne.ReadableClaimers=[],ne.ReadWritableClaimers=[],ne.ReferenceableClaimers=[];var re=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Left=null,e.Targets=[],e.Right=null,e.RightPrecedence=2,e.LeftPrecedence=14,e.LeftRightAssociative=!1,e}return h(n,[{key:"Simplify",value:function(e){if(ee(this.Left)&&ie(this.Right)){var t=this.Right.TrySimplify(e);if(null===t)return null;if(this.Left.AssignSimple(e,t))return t}return null}},{key:"Evaluate",value:function(e){if(ee(this.Left)&&ie(this.Right)){var t=this.Right.TrySimplify(e);if(null!==t&&this.Left.AssignSimple(e,t))return[this.Left.GetTypes(e),["xpush ".concat((4294967295&t)>>>0)]]}var n=[this.GetLine()],i=this.Right.TryEvaluate(e);n.push.apply(n,s(i[1]));for(var r=[],o=[this.Left].concat(s(this.Targets)),a=0;a<o.length;a++){var l;o[a].InformType(e,i[0][0]),(l=r).push.apply(l,s(o[a].GetTypes(e)))}var c=He.Coax(r,i[0]);n.push.apply(n,s(c[0]));for(var u=o.length-1;u>=0;u--)n.push.apply(n,s(o[u].Assign(e,c[2][u])));for(var h=0;h<o.length;h++)n.push.apply(n,s(o[h].TryEvaluate(e)[1]));r=[];for(var d=0;d<o.length;d++){var f;(f=r).push.apply(f,s(o[d].GetTypes(e)))}return[r,n]}},{key:"DefinitelyReturns",value:function(e){var t,n;return null===(t=this.Left)||void 0===t||t.DefinitelyReturns(e),null===(n=this.Right)||void 0===n||n.DefinitelyReturns(e),!1}},{key:"GetTypes",value:function(e){for(var t=[],n=[this.Left].concat(s(this.Targets)),i=this.Right.GetTypes(e),r=0;r<n.length;r++)n[r].InformType(e,i[0]),t.push.apply(t,s(n[r].GetTypes(e)));return t}}],[{key:"RightClaim",value:function(e,t){var i=t.Flag();if(!J(e))return i.Fail(),null;for(var r=[];t.Claim(/,/).Success;){var s=ne.ClaimAssignable(t,!0);if(null===s)return i.Fail(),null;r.push(s),s=ne.ClaimAssignable(t,!0)}if(!t.Claim(/=/).Success)return i.Fail(),null;var o=Q.Claim(t);if(null===o)return i.Fail(),null;var a=new n(t,e.Claim);return a.Targets=r,a.Left=e,a.Right=o,a}}]),n}(Q);Q.RegisterRight(re.RightClaim);var se=["int","void","discard"],oe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Name="",e}return h(n,[{key:"InformType",value:function(e,t){}},{key:"AssignSimple",value:function(e,t){return"discard"===e.Get(this.Name)[0].TypeName||e.SetConstant(this.Name,null,t,!1)}},{key:"Simplify",value:function(e){try{var t,n=e.Get(this.Name);return"discard"===n[0].TypeName?0:null!==(t=n[2])&&void 0!==t?t:null}catch(i){return null}}},{key:"Assign",value:function(e){var t=e.Get(this.Name),n=t[0].GetDefinition();if("discard"===t[0].TypeName)return["xpop"];if(null!==t[2])throw new Error("Cannot override constant value with non-constant value!");if(n.Name.startsWith("type"))throw new Error("Cannot assign over class");return["setb ".concat(t[1])].concat(s(t[0].Put("x","b")))}},{key:"Read",value:function(e){var t=e.Get(this.Name);return"discard"===t[0].TypeName?["xpush 0"]:null!==t[2]?["xpush ".concat((4294967295&t[2])>>>0)]:["seta ".concat(t[1])].concat(s(t[0].Get("x","a")))}},{key:"Evaluate",value:function(e){var t=e.Get(this.Name);return"discard"===t[0].TypeName?[[He.Discard],["xpush 0"]]:null!==t[2]?[[t[0]],["xpush ".concat((4294967295&t[2])>>>0)]]:[[t[0]],[this.GetLine(),"seta ".concat(t[1])].concat(s(t[0].Get("x","a")))]}},{key:"GetPointer",value:function(e){var t=e.Get(this.Name);if("discard"===t[0].TypeName)throw new Error("Cannot get pointer to discard value");if(null!==t[2])throw new Error("Cannot get pointer to constant value");return["xpush ".concat(t[1])]}},{key:"GetReferenceTypes",value:function(e){var t=e.Get(this.Name)[0].Clone();return t.PointerDepth++,[t]}},{key:"GetTypes",value:function(e){return[e.Get(this.Name)[0]]}}],[{key:"Claim",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.Claim(/[a-zA-Z_]\w*\b/);if(!i.Success)return null;if(Me.includes(i.Body[0])&&(!t||!se.includes(i.Body[0])))return i.Fail(),null;var r=new n(e,i);return r.Name=i.Body[0],r}}]),n}(Q);function ae(e){switch(e){case"random":return 4294967295*Math.random()>>>0;case"version_major":return+$t.match(/^(\d+)/)[1]>>>0;case"version_minor":return+$t.match(/^\d+\.(\d+)/)[1]>>>0;case"version_patch":return+$t.match(/^\d+\.\d+\.(\d+)/)[1]>>>0;case"version":var t=$t.match(/^(\d+)\.(\d+)\.(\d+)/);return 1e6*+t[1]+1e3*+t[2]+ +t[3]>>>0}return null}function le(e,t){var n=ae(t);if(null!==n)return[[He.Int],["xpush ".concat((4294967295&n)>>>0)]];switch(t){case"file":var i=e.GetSafeName("string"+e.CurrentFile);return e.Assembly.push("".concat(i,": db ").concat(e.CurrentFile.length,",").concat(e.CurrentFile.split("").map((function(e){return e.charCodeAt(0)})).join(","))),[[He.String],["xpush ".concat(i)]];case"aftercode":return[[He.IntPtr],["xpush aftercode"]];case"entry":return[[He.IntPtr],["xpush postdata"]]}throw new Error("No compiler constant with the name ".concat(t))}ne.RegisterReadWritable(oe.Claim),ne.RegisterReferenceable(oe.Claim),Q.Register(oe.Claim);var ce=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Left=null,e.Target=null,e.Precedence=17,e.LeftRightAssociative=!0,e.Curry=!1,e.Generics=[],e.CurryType=null,e}return h(n,[{key:"InformType",value:function(e,t){}},{key:"Simplify",value:function(e){var t=this.Left.GetTypes(e);if(0===t.length)throw new Error("Cannot index expression that does not resolve in value");var n=t[0];if("COMPILER"===t[0].TypeName)return this.Target instanceof oe?ae(this.Target.Name):null;var i=this.Generics.length?n.GetDefinition().WithGenerics(this.Generics):n.GetDefinition();if(!(this.Target instanceof oe))return null;var r=this.Target.Name,s=i.ConstantChildren[r];return s?s[1]:null}},{key:"AssignSimple",value:function(e,t){var n=this.Left.GetTypes(e);if(0===n.length)throw new Error("Cannot index expression that does not resolve in value");var i=n[0],r=this.Generics.length?i.GetDefinition().WithGenerics(this.Generics):i.GetDefinition();if(!(this.Target instanceof oe))return!1;var s=this.Target.Name,o=r.ConstantChildren[s];return!!o&&(o[1]=t,!0)}},{key:"Evaluate",value:function(e){var t=[this.GetLine()],n=this.Left.TryEvaluate(e);if(0===n[0].length)throw new Error("Cannot index expression that does not resolve in value");if("COMPILER"===n[0][0].TypeName&&this.Target instanceof oe)return le(e,this.Target.Name);t.push.apply(t,s(n[1]));for(var i=1;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));var r=n[0][0],o=this.Generics.length?r.GetDefinition().WithGenerics(this.Generics):r.GetDefinition();if(this.Target instanceof oe){this.Curry&&(t.push.apply(t,s(n[0][0].CloneA())),this.CurryType=n[0][0]);var a=this.Target.Name,l=e.GetMetamethod("get_"+a,[r]);if(l)return t.push.apply(t,s(He.Coax(l[1],[r])[0])),t.push.apply(t,s(l[2])),[l[0],t];var c=o.VirtualChildren[a];if(c)return t.push.apply(t,s(n[0][0].XPop()).concat(["seta ".concat(c[1].ClassLabel),"adda ".concat(c[2])],s(c[0].Get("x","a")))),[[c[0]],t];var u=o.ConstantChildren[a];if(u)return t.push.apply(t,s(n[0][0].XPop()).concat(["xpush ".concat((4294967295&u[1])>>>0)])),[[u[0]],t];var h=o.Children[a];if(!h)throw new Error("Value does not have member ".concat(a));return o.Wide&&t.push.apply(t,["setb ".concat(e.GetScratch(o.Size))].concat(s(r.Put("x","b")),["xpush ".concat(e.GetScratch(o.Size))])),t.push.apply(t,["xpopa","adda ".concat(h[1])].concat(s(h[0].Get("x","a")))),[[h[0]],t]}for(var d=[r],f=0;f<this.Target.length;f++){var p=this.Target[f].TryEvaluate(e);d.push.apply(d,s(p[0])),t.push.apply(t,s(p[1]))}var g=e.GetMetamethod("getindex",d);if(null===g)throw new Error("Cannot index Type ".concat(r," with types (").concat(d,")."));return t.push.apply(t,s(He.Coax(g[1],d)[0])),t.push.apply(t,s(g[2])),[g[0],t]}},{key:"AssignWide",value:function(e,t,n){var i=n.WithDeltaPointerDepth(1);if(this.Target instanceof oe){var r=this.Target.Name,o=e.GetMetamethod("set_"+r,[i,t]);if(o){if(!te(this.Left))throw new Error("Cannot assign to a struct on the stack.");return[].concat(s(t.FlipXY()),s(this.Left.GetPointer(e)),s(t.FlipYX()),s(He.Coax(o[1],[i,t])[0]),s(o[2]))}var a=n.GetDefinition().VirtualChildren[r];if(a)return["seta ".concat(a[1].ClassLabel),"adda ".concat(a[2])].concat(s(a[0].Put("x","a")));if(n.GetDefinition().ConstantChildren[r])throw new Error("Cannot assign to a constant value.");var l=n.GetDefinition().Children[r];if(!l)throw new Error("Value does not have member ".concat(r));if(!J(this.Left))throw new Error("Cannot assign to a struct on the stack.");for(var c=this.Left.TryEvaluate(e),u=s(c[1]),h=1;h<c[0].length;h++)u.push.apply(u,s(c[0][h].XPop()));return u.push("setb ".concat(e.GetScratch(n.GetDefinition().Size))),u.push.apply(u,s(c[0][0].Put("x","b"))),u.push("seta ".concat(e.GetScratch(n.GetDefinition().Size))),u.push("adda ".concat(l[1])),u.push.apply(u,s(l[0].Put("x","a"))),u.push("seta ".concat(e.GetScratch(n.GetDefinition().Size))),u.push.apply(u,s(c[0][0].Get("x","a"))),u.push.apply(u,s(this.Left.Assign(e,c[0][0]))),u}for(var d=[n],f=[],p=0;p<this.Target.length;p++){var g=this.Target[p].TryEvaluate(e);d.push.apply(d,s(g[0])),f.push.apply(f,s(g[1]))}var m=e.GetMetamethod("setindex",d);if(null===m)throw new Error("Cannot set index Type ".concat(n," with types (").concat(d.slice(0,d.length-1),")."));return[].concat(s(this.Left.GetPointer(e)),f,s(He.Coax(m[1],d)[0]),s(m[2]))}},{key:"Assign",value:function(e,t){var n=[this.GetLine()],i=this.Left.TryEvaluate(e);if(0===i[0].length)throw new Error("Cannot index expression that does not resolve in value");if(i[0][0].GetDefinition().Wide)return this.AssignWide(e,t,i[0][0]);var r=i[0][0],o=this.Generics.length?r.GetDefinition().WithGenerics(this.Generics):r.GetDefinition();if(this.Target instanceof oe){var a=this.Target.Name,l=e.GetMetamethod("set_"+a,[r,t]);if(l){n.push.apply(n,s(t.FlipXY())),n.push.apply(n,s(i[1]));for(var c=1;c<i[0].length;c++)n.push.apply(n,s(i[0][c].XPop()));return n.push.apply(n,s(t.FlipYX())),n.push.apply(n,s(He.Coax(l[1],[r,t])[0])),n.push.apply(n,s(l[2])),n}n.push.apply(n,s(i[1]));for(var u=1;u<i[0].length;u++)n.push.apply(n,s(i[0][u].XPop()));var h=o.VirtualChildren[a];if(h)return n.push.apply(n,s(t.FlipXY()).concat(s(i[0][0].XPop()),s(t.FlipYX()),["seta ".concat(h[1].ClassLabel),"adda ".concat(h[2])],s(t.Put("x","a")))),n;if(o.ConstantChildren[a])throw new Error("Cannon assign non-constant value to constant variable ".concat(a));var d=o.Children[a];if(!d)throw new Error("Value does not have member ".concat(a));return n.push.apply(n,["xpopa","adda ".concat(d[1])].concat(s(d[0].Put("x","a")))),n}n.push.apply(n,s(t.FlipXY())),n.push.apply(n,s(i[1]));for(var f=1;f<i[0].length;f++)n.push.apply(n,s(i[0][f].XPop()));for(var p=[r],g=0;g<this.Target.length;g++){var m=this.Target[g].TryEvaluate(e);p.push.apply(p,s(m[0])),n.push.apply(n,s(m[1]))}p.push(t);var v=e.GetMetamethod("setindex",p);if(null===v)throw new Error("Cannot set index Type ".concat(r," with types (").concat(p.slice(0,p.length-1),")."));return n.push.apply(n,s(t.FlipYX())),n.push.apply(n,s(He.Coax(v[1],p)[0])),n.push.apply(n,s(v[2])),n}},{key:"Read",value:function(e){var t=[this.GetLine()],n=this.Left.TryEvaluate(e);if(0===n[0].length)throw new Error("Cannot index expression that does not resolve in value");if("COMPILER"===n[0][0].TypeName&&this.Target instanceof oe)return le(e,this.Target.Name)[1];t.push.apply(t,s(n[1]));for(var i=1;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));var r=n[0][0],o=this.Generics.length?r.GetDefinition().WithGenerics(this.Generics):r.GetDefinition();if(this.Target instanceof oe){this.Curry&&(t.push.apply(t,s(n[0][0].CloneA())),this.CurryType=n[0][0]);var a=this.Target.Name,l=e.GetMetamethod("get_"+a,[r]);if(l)return t.push.apply(t,s(He.Coax(l[1],[r])[0])),t.push.apply(t,s(l[2])),t;var c=o.VirtualChildren[a];if(c)return t.push.apply(t,s(n[0][0].XPop()).concat(["seta ".concat(c[1].ClassLabel),"adda ".concat(c[2])],s(c[0].Get("x","a")))),t;var u=o.ConstantChildren[a];if(u)return t.push.apply(t,s(n[0][0].XPop()).concat(["xpush ".concat((4294967295&u[1])>>>0)])),t;var h=o.Children[a];if(!h)throw new Error("Value does not have member ".concat(a));return o.Wide&&t.push.apply(t,["setb ".concat(e.GetScratch(o.Size))].concat(s(r.Put("x","b")),["xpush ".concat(e.GetScratch(o.Size))])),t.push.apply(t,["xpopa","adda ".concat(h[1])].concat(s(h[0].Get("x","a")))),t}for(var d=[r],f=0;f<this.Target.length;f++){var p=this.Target[f].TryEvaluate(e);d.push.apply(d,s(p[0])),t.push.apply(t,s(p[1]))}var g=e.GetMetamethod("getindex",d);if(null===g)throw new Error("Cannot index Type ".concat(r," with types (").concat(d,")."));return t.push.apply(t,s(He.Coax([r],g[1])[0])),t.push.apply(t,s(g[2])),t}},{key:"GetPointerWide",value:function(e){if(!te(this.Left))throw new Error("Cannot get a pointer to a struct on the stack.");var t=[];t.push.apply(t,s(this.Left.GetPointer(e)));var n=this.Left.GetReferenceTypes(e)[0];if(this.Target instanceof oe){var i=this.Target.Name,r=e.GetMetamethod("ptr_"+i,[n]);if(r)return t.push.apply(t,s(He.Coax([n],r[1])[0])),t.push.apply(t,s(r[2])),t;var o=n.GetDefinition().VirtualChildren[i];if(o)return t.push.apply(t,s(n.XPop()).concat(["seta ".concat(o[1].ClassLabel),"adda ".concat(o[2]),"xpusha"])),t;if(n.GetDefinition().ConstantChildren[i])throw new Error("Cannot get pointer to a constant value.");var a=n.GetDefinition().Children[i];if(!a)throw new Error("Value does not have member ".concat(i));return t.push("xpopa","adda ".concat(a[1]),"xpusha"),t}for(var l=[n],c=0;c<this.Target.length;c++){var u=this.Target[c].TryEvaluate(e);l.push.apply(l,s(u[0])),t.push.apply(t,s(u[1]))}var h=e.GetMetamethod("ptrindex",l);if(null===h)throw new Error("Cannot derefence Type ".concat(n," with types (").concat(l,")."));return t.push.apply(t,s(He.Coax(l,h[1])[0])),t.push.apply(t,s(h[2])),t}},{key:"GetPointer",value:function(e){var t=[this.GetLine()],n=this.Left.TryEvaluate(e);if(0===n[0].length)throw new Error("Cannot index expression that does not resolve in value");if(n[0][0].GetDefinition().Wide)return this.GetPointerWide(e);t.push.apply(t,s(n[1]));for(var i=1;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));var r=n[0][0],o=this.Generics.length?r.GetDefinition().WithGenerics(this.Generics):r.GetDefinition();if(!(this.Target instanceof oe)){for(var a=[r],l=0;l<this.Target.length;l++){var c=this.Target[l].TryEvaluate(e);a.push.apply(a,s(c[0])),t.push.apply(t,s(c[1]))}var u=e.GetMetamethod("ptrindex",a);if(null===u)throw new Error("Cannot derefence Type ".concat(r," with types (").concat(a,")."));return t.push.apply(t,s(He.Coax(a,u[1])[0])),t.push.apply(t,s(u[2])),t}var h=this.Target.Name;if(e.GetMetamethod("ptr_"+h,[r]))throw new Error("Cannot dereference property.");var d=o.VirtualChildren[h];if(d)return t.push.apply(t,s(n[0][0].XPop()).concat(["seta ".concat(d[1].ClassLabel),"adda ".concat(d[2]),"xpusha"])),t;if(o.ConstantChildren[h])throw new Error("Cannot get pointer to a constant value ".concat(h));var f=o.Children[h];if(!f)throw new Error("Value does not have member ".concat(h));return t.push("xpopa","adda ".concat(f[1]),"xpusha"),t}},{key:"GetReferenceTypes",value:function(e){if(!(this.Target instanceof oe)){for(var t=this.Left.GetTypes(e)[0],n=[t.GetDefinition().Wide?t.WithDeltaPointerDepth(1):t],i=0;i<this.Target.length;i++)n.push.apply(n,s(this.Target[i].GetTypes(e)));var r=e.GetMetamethod("ptrindex",n);if(null===r)throw new Error("Cannot derefence Type ".concat(t," with types (").concat(n,")."));return r[0]}var o=this.GetTypes(e),a=[];return o.forEach((function(e){var t=e.Clone();t.PointerDepth++,a.push(t)})),a}},{key:"TryCurry",value:function(e){this.Left instanceof oe&&e.UserTypes[this.Left.Name]||this.Target instanceof oe&&(this.Curry=!0)}},{key:"DefinitelyReturns",value:function(e){var t=this.Left.DefinitelyReturns(e);if(t)return t;if(this.Target instanceof oe)return this.Target.DefinitelyReturns(e);for(var n=0;n<this.Target.length;n++)if(t=this.Target[n].DefinitelyReturns(e))return t;return!1}},{key:"PotentiallyReturns",value:function(e){var t=this.Left.DefinitelyReturns(e);if(t)return t;var n=this.Left.PotentiallyReturns(e);if(this.Target instanceof oe)return this.Target.DefinitelyReturns(e)||He.MostSimilar(n,this.Target.PotentiallyReturns(e),!0);for(var i=0;i<this.Target.length;i++){if(t=this.Target[i].DefinitelyReturns(e))return t;n=He.MostSimilar(n,this.Target[i].PotentiallyReturns(e),!0)}return n}},{key:"GetTypes",value:function(e){var t=this.Left.GetTypes(e);if(0===t.length)throw new Error("Cannot index expression that does not resolve in value");this.Curry&&(this.CurryType=t[0]);var n=t[0],i=n.GetDefinition();if(this.Target instanceof oe){var r=this.Target.Name,o=e.GetMetamethod("get_"+r,[n.GetDefinition().Wide?n.WithDeltaPointerDepth(1):n]);if(o)return o[0];var a=i.VirtualChildren[r];if(a)return[a[0]];var l=i.ConstantChildren[r];if(l)return[l[0]];var c=i.Children[r];if(!c)throw new Error("Value does not have member ".concat(r));return[c[0]]}for(var u=[n.GetDefinition().Wide?n.WithDeltaPointerDepth(1):n],h=0;h<this.Target.length;h++)u.push.apply(u,s(this.Target[h].GetTypes(e)));var d=e.GetMetamethod("getindex",u);if(null===d)throw new Error("Cannot index Type ".concat(n," with types (").concat(u,")."));return d[0]}}],[{key:"Claim",value:function(e){var t=e.Flag(),i=Q.Claim(e);return i instanceof n?i:(t.Fail(),null)}},{key:"RightClaim",value:function(e,t){var i=[],r=t.Flag();if(t.Claim(/</).Success){for(;;){var s=He.Claim(t);if(null===s){i=[],r.Fail();break}if(i.push(s),!t.Claim(/,/).Success)break}t.Claim(/>/).Success||(i=[],r.Fail())}if(!t.Claim(/\./).Success)return r.Fail(),null;var o=oe.Claim(t);if(null===o)return r.Fail(),null;var a=new n(t,e.Claim);return a.Left=e,a.Target=o,a.Generics=i,a}},{key:"RightClaimBrack",value:function(e,t){var i=[],r=t.Flag();if(t.Claim(/</).Success){for(;;){var s=He.Claim(t);if(null===s){i=[],r.Fail();break}if(i.push(s),!t.Claim(/,/).Success)break}t.Claim(/>/).Success||(i=[],r.Fail())}var o=t.Claim(/\[/);if(!o.Success)return r.Fail(),null;for(var a=[],l=Q.Claim(t);null!==l&&(a.push(l),t.Claim(/,/).Success);)l=Q.Claim(t);if(!t.Claim(/\]/).Success)return o.Fail(),null;var c=new n(t,o);return c.Left=e,c.Target=a,c.Generics=i,c}}]),n}(Q);ne.RegisterReadWritable(ce.Claim),ne.RegisterReferenceable(ce.Claim),Q.RegisterRight(ce.RightClaim),Q.RegisterRight(ce.RightClaimBrack);var ue=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Type=null,e.Identifier=null,e.Label="",e.LastScope=void 0,e.IsConstant=!1,e}return h(n,[{key:"InformType",value:function(e,t){"var"===this.Type.TypeName&&(this.Type=t)}},{key:"Read",value:function(e){return this.Evaluate(e)[1]}},{key:"GetPointer",value:function(e){return this.Evaluate(e),["xpush ".concat(this.Label)]}},{key:"GetReferenceTypes",value:function(e){return[this.Type.WithDeltaPointerDepth(1)]}},{key:"Evaluate",value:function(e){if("discard"===this.Type.TypeName)return[[He.Discard],["xpush 0"]];if(this.IsConstant){this.Label||(e.SetConstant(this.Identifier.Name,this.Type,0,!0),this.Label=e.GetSafeName("constant_"+this.Identifier.Name));var t=e.Get(this.Identifier.Name);return[[this.Type],["xpush ".concat(t[2])]]}if("var"===this.Type.TypeName)throw new Error("Variable Decleration must explicitely define a type.");return e!==this.LastScope&&(this.Label="",this.LastScope=e),this.Label||(this.Label=e.Set(this.Identifier.Name,this.Type)),[[this.Type],["seta ".concat(this.Label)].concat(s(this.Type.Get("x","a")))]}},{key:"Assign",value:function(e,t){if("discard"===this.Type.TypeName)return["xpop"];if(this.IsConstant)throw new Error("Cannot assign non-constant value to constant variable");if("var"===this.Type.TypeName){if("var"===t.TypeName)throw new Error("Variable Decleration must explicitely define a type.");this.Type=t}return e!==this.LastScope&&(this.Label="",this.LastScope=e),this.Label||(this.Label=e.Set(this.Identifier.Name,"var"===this.Type.TypeName?t:this.Type)),["seta ".concat(this.Label)].concat(s(this.Type.Put("x","a")))}},{key:"GetTypes",value:function(e){return e!==this.LastScope&&(this.Label="",this.LastScope=e),this.Label||(this.Label=e.Set(this.Identifier.Name,this.Type)),[this.Type]}},{key:"Simplify",value:function(e){return"discard"===this.Type.TypeName?0:this.IsConstant?this.Label?e.Get(this.Identifier.Name)[2]:(e.SetConstant(this.Identifier.Name,this.Type,0,!0),this.Label=e.GetSafeName("constant_"+this.Identifier.Name),0):null}},{key:"AssignSimple",value:function(e,t){if("discard"===this.Type.TypeName)return!0;if(!this.IsConstant)return!1;this.Label&&e===this.LastScope?e.Get(this.Identifier.Name)[2]=t:(e.SetConstant(this.Identifier.Name,this.Type,t,!0),this.Label=e.GetSafeName("constant_"+this.Identifier.Name),this.LastScope=e);return!0}},{key:"DefinitelyReturns",value:function(e){return e!==this.LastScope&&(this.Label="",this.LastScope=e),this.Label||(this.Label=e.Set(this.Identifier.Name,this.Type)),!1}}],[{key:"Claim",value:function(e){var t,i=e.Flag(),r=!1;if(e.Claim(/const\b/).Success&&(r=!0),e.Claim(/var\b/).Success)t=He.Any;else if(null===(t=He.Claim(e)))return i.Fail(),null;var s=oe.Claim(e);if(null===s)return i.Fail(),null;var o=new n(e,i);return o.Type=t,o.Identifier=s,o.IsConstant=r,o}},{key:"ClaimAbstract",value:function(e){var t=e.Claim(/abstract\b/);if(!t.Success)return null;if(!e.Claim(/function\b/).Success)return t.Fail(),null;var i=ne.ClaimAssignable(e,!1);if(null===i)return t.Fail(),null;if(!(i instanceof oe))return t.Fail(),null;if(!e.Claim(/\(/).Success)return t.Fail(),null;for(var r=[],s=n.Claim(e);null!==s&&(r.push(s),e.Claim(/,/).Success);)s=n.Claim(e);if(!e.Claim(/\)/).Success)return t.Fail(),null;var o=[];if(e.Claim(/->/).Success)for(var a=He.Claim(e);null!==a&&(o.push(a),e.Claim(/,/).Success);)a=He.Claim(e);var l=new n(e,t),c=new Fe(""),u=c.Flag(),h=new Ue(c,u);return h.ArgTypes=r.map((function(e){return e.Type})),h.RetTypes=o,l}}]),n}(Q);Q.Register(ue.Claim),ne.RegisterReadWritable(ue.Claim),ne.RegisterReferenceable(ue.Claim);var he=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Precedence=17,e.LeftRightAssociative=!1,e.Left=null,e.Arguments=[],e.IsFinalExpression=!1,e.TailCall=!1,e.Generics=[],e}return h(n,[{key:"RemapGenerics",value:function(e,t,n){var i={},r=!1,s=[],o=[],a=new Fe(""),l=a.Flag(),c=!1,u=function e(t,n){if(r)return t;if(t.TypeName.startsWith("functiongeneric$")){if(t.TypeName in i){var s=i[t.TypeName].WithDeltaPointerDepth(t.PointerDepth);return(c?s.Equals(n):He.CanCoax([s],[n]))?s:(c?n.Equals(s):He.CanCoax([n],[s]))?(i[t.TypeName]=n.WithDeltaPointerDepth(-t.PointerDepth),n):(r=!0,t)}return i[t.TypeName]=n.WithDeltaPointerDepth(-t.PointerDepth),n}if(t instanceof Ue&&n instanceof Ue){var o=t,u=n;if(o.ArgTypes.length!==u.ArgTypes.length||o.RetTypes.length!==u.RetTypes.length)return r=!0,t;var h=new Ue(a,l);h.ArgTypes=[],h.RetTypes=[];var d=c;c=!0;for(var f=0;f<o.ArgTypes.length;f++)h.ArgTypes.push(e(o.ArgTypes[f],u.ArgTypes[f]));for(var p=0;p<o.RetTypes.length;p++)h.RetTypes.push(e(o.RetTypes[p],u.RetTypes[p]));return c=d,r?t:h}if(!(c?t.Equals(n):He.CanCoax([t],[n])))return r=!0,t;if(t.Generics.length>0){for(var g=[],m=0;m<Math.min(t.Generics.length,n.Generics.length);m++)g.push(e(t.Generics[m],n.Generics[m]));for(var v=n.Generics.length;v<t.Generics.length;v++){var y=new Fe("",""),b=y.Flag(),w=new He(y,b);w.PointerDepth=0,w.TypeName="functiongeneric$"+v,w.Generics=[],g.push(e(t.Generics[v],w))}return t.WithGenerics(g)}return t},h=function e(t){if(t.TypeName.startsWith("functiongeneric$")&&t.TypeName in i)return i[t.TypeName].WithDeltaPointerDepth(t.PointerDepth);if(t.Generics.length>0){for(var n=[],r=0;r<t.Generics.length;r++)n.push(e(t.Generics[r]));return t.WithGenerics(n)}return t};if(t.length!==e.length)return r=!0,[t,n];for(var d=0;d<t.length;d++)if(u(t[d],e[d]),r)return[t,n];for(var f=0;f<t.length;f++)if(s.push(u(t[f],e[f])),r)return[t,n];for(var p=0;p<n.length;p++)o.push(h(n[p]));return[s,o]}},{key:"GetTypes",value:function(e){var t=[],n=null;this.Left instanceof ce&&(this.Left.TryCurry(e),this.Left.Curry&&(n=this.Left.Left.GetTypes(e)[0]));for(var i=this.Left.GetTypes(e),r=0;r<this.Arguments.length;r++){var o=this.Arguments[r].GetTypes(e);t.push.apply(t,s(o))}var a=[].concat(s(i),t);null!==n&&a.push(n);var l=e.GetMetamethod("call",a,{strictTo:i.length});if(l)return l[0];var c=i.filter((function(e){return e instanceof Ue}));if(0===c.length)throw new Error("Attempted to call non-callable: ".concat(i[0]));this.Left instanceof ce&&this.Left.Curry&&t.push(this.Left.CurryType);var u=c.filter((function(e){return He.CanCoax(e.ArgTypes,t)[0]}));if(0===u.length)throw new Error("Cannot call, argument mismatch. Expected: ".concat(c[0].ArgTypes," Got: ").concat(t));return u[0].RetTypes}},{key:"Evaluate",value:function(e){var t,n,i,r,a=[this.GetLine()],l=[],c=null;this.Left instanceof ce&&(this.Left.TryCurry(e),this.Left.Curry&&(c=this.Left.Left.GetTypes(e)[0]));for(var u=this.Left.TryEvaluate(e),h=0;h<this.Arguments.length;h++){var d,f=this.Arguments[h].TryEvaluate(e);(d=a).push.apply(d,s(f[1])),l.push.apply(l,s(f[0]))}var p=[].concat(s(u[0]),l);null!==c&&p.push(c);var g=e.GetMetamethod("call",p,{strictTo:u[0].length});if(g){var m,v,y,b=o(this.RemapGenerics(p,g[1],g[0]),2),w=b[0],C=b[1],S=u[1];return null!==c&&S.push.apply(S,s(c.FlipXY())),a=S.concat(a),null!==c&&(m=a).push.apply(m,s(c.FlipYX())),(v=a).push.apply(v,s(He.Coax(w,p)[0])),(y=a).push.apply(y,s(g[2])),[C,a]}var x=u[0].filter((function(e){return e instanceof Ue}));if(0===x.length)throw new Error("Attempted to call non-callable: ".concat(u[0]));this.Left instanceof ce&&this.Left.Curry&&l.push(this.Left.CurryType);var k=x.filter((function(e){var t=e.ArgTypes;if(He.CanCoax(t,l)[0])return!0;if(t.length>=2&&t[t.length-1].PointerDepth>0&&"int"===t[t.length-2].TypeName&&0===t[t.length-2].PointerDepth&&He.CanCoax(t.slice(0,t.length-2),l)[0])return!0;return!1}));if(0===k.length)throw new Error("Cannot call, argument mismatch. Expected: ".concat(x[0].ArgTypes," Got: ").concat(l));var _,A=k[0],T=o(this.RemapGenerics(l,A.ArgTypes,A.RetTypes),2),R=T[0],$=T[1],E=A.Clone();if(E.ArgTypes=R,E.RetTypes=$,A=E,!He.CanCoax(A.ArgTypes,l)[0]&&A.ArgTypes.length>=2&&A.ArgTypes[A.ArgTypes.length-1].PointerDepth>0&&"int"===A.ArgTypes[A.ArgTypes.length-2].TypeName&&0===A.ArgTypes[A.ArgTypes.length-2].PointerDepth&&(_=He.CanCoax(A.ArgTypes.slice(0,A.ArgTypes.length-2),l))[0]){for(var L,M=A.ArgTypes.slice(0,A.ArgTypes.length-2),I=A.ArgTypes[A.ArgTypes.length-1].WithDeltaPointerDepth(-1),F=0,P=_[1];P<l.length&&He.CanCoax([I],[l[P]]);P++)M.push(I),F++;var D=I.GetDefinition(),B=F,N=1;D.Wide&&(N=D.Size),F*=N,(L=a).push.apply(L,s(He.Coax(M,l)[0]));var O=e.GetSafeName("params".concat(I.TypeName));e.Assembly.push("".concat(O,":"),"db ".concat(Array(F).fill(0)));for(var G=B-1;G>=0;G--){var z;(z=a).push.apply(z,["setb ".concat(O),"addb ".concat(G*N)].concat(s(I.Put("x","b"))))}a.push("xpush ".concat(B),"xpush ".concat(O))}else{var W;(W=a).push.apply(W,s(He.Coax(A.ArgTypes,l)[0]))}return(t=a).push.apply(t,s(u[1])),(n=a).push.apply(n,s(He.Coax([A],u[0].map((function(e){return e})))[0])),this.IsFinalExpression||this.TailCall||(i=a).push.apply(i,s(e.DumpFunctionVariables())),a.push("xpopa",this.TailCall?"jmpa":"calla"),this.IsFinalExpression||this.TailCall||(r=a).push.apply(r,s(e.LoadFunctionVariables())),[k[0].RetTypes,a]}},{key:"DefinitelyReturns",value:function(e){var t=this.Left.DefinitelyReturns(e);if(t)return t;for(var n=0;n<this.Arguments.length;n++)if(t=this.Arguments[n].DefinitelyReturns(e))return t;return!1}},{key:"PotentiallyReturns",value:function(e){var t=this.Left.DefinitelyReturns(e);if(t)return t;t=this.Left.PotentiallyReturns(e);for(var n=0;n<this.Arguments.length;n++){var i=this.Arguments[n].DefinitelyReturns(e);if(i)return i;if((t=He.MostSimilar(t,this.Arguments[n].PotentiallyReturns(e),!0))&&!t.length)return t}return t}}],[{key:"RightClaim",value:function(e,t){var i=[],r=t.Flag();if(t.Claim(/</).Success){for(;;){var s=He.Claim(t);if(null===s){i=[],r.Fail();break}if(i.push(s),!t.Claim(/,/).Success)break}t.Claim(/>/).Success||(i=[],r.Fail())}var o=t.Claim(/\(/);if(!o.Success)return r.Fail(),null;for(var a=[],l=Q.Claim(t);null!==l&&(a.push(l),t.Claim(/,/).Success);)l=Q.Claim(t);if(!t.Claim(/\)/).Success)return o.Fail(),null;var c=new n(t,e.Claim);return c.Left=e,c.Arguments=a,c.Generics=i,c}}]),n}(Q);Q.RegisterRight(he.RightClaim);var de=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).HashName=(new z.i).toString(),e.SimplifiesTo=new Map,e.Condition=null,e.Body=null,e}return h(n,[{key:"Simplify",value:function(e){if(this.SimplifiesTo.has(n.SimpleHash)&&null!==this.SimplifiesTo.get(n.SimpleHash))return this.SimplifiesTo.get(n.SimpleHash);if(!ie(this.Condition))return null;for(var t=0,i=0;t++<1e3;){n.HashStack.push(n.SimpleHash),n.SimpleHash=this.HashName+"."+t;try{var r=this.Condition.Simplify(e);if(null===r)return null;if(0===r)return this.SimplifiesTo.set(n.HashStack[n.HashStack.length-1],i),i;if(!ie(this.Body))return null;if(null===(i=this.Body.Simplify(e)))return null}finally{n.SimpleHash=n.HashStack.pop()}}return null}},{key:"Evaluate",value:function(e){var t=this.Simplify(e);if(null!==t)return[[He.Int],["xpush ".concat((4294967295&t)>>>0)]];var n=[this.GetLine()],i=e.GetSafeName("whlcond".concat(this.Condition.toString())),r=e.GetSafeName("whltrue".concat(this.Condition.toString())),o=e.GetSafeName("whldone".concat(this.Condition.toString())),a=this.Condition.TryEvaluate(e);n.push("".concat(i,":")),n.push.apply(n,s(a[1]));for(var l=1;l<a[0].length;l++)n.push.apply(n,s(a[0][l].XPop()));var c=a[0][0],u=e.GetMetamethod("truthy",[c]);if(null===u)throw new Error("Type ".concat(c," has no truth method"));if(!He.CanCoax([He.Int],u[0])[0])throw new Error("Condition's truthy method must resolve to an int");n.push.apply(n,s(u[2])),n.push.apply(n,s(He.Coax([He.Int],u[0])[0])),n.push("xpopa","jnza ".concat(r)),n.push("jmp ".concat(o),"".concat(r,":"));var h=this.Body.TryEvaluate(e);n.push.apply(n,s(h[1].map((function(e){return"  ".concat(e)}))));for(var d=0;d<h[0].length;d++)n.push("xpop");return n.push("jmp ".concat(i),"".concat(o,":")),[[],n]}},{key:"DefinitelyReturns",value:function(e){var t=this.Condition.DefinitelyReturns(e);return t||(this.Body.DefinitelyReturns(e),!1)}},{key:"PotentiallyReturns",value:function(e){return this.Condition.DefinitelyReturns(e)||He.MostSimilar(this.Condition.PotentiallyReturns(e),this.Body.PotentiallyReturns(e),!0)}},{key:"GetTypes",value:function(e){return null!==this.Simplify(e)?[He.Int]:[]}}],[{key:"Claim",value:function(e){var t=e.Claim(/while\b/);if(!t.Success)return null;var i=Q.Claim(e);if(null===i)return t.Fail(),null;var r=Q.Claim(e);if(null===r)return t.Fail(),null;var s=new n(e,t);return s.Condition=i,s.Body=r,s}}]),n}(Q);de.SimpleHash=(new z.i).toString(),de.HashStack=[],Q.Register(de.Claim);var fe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).SimplifiesTo=new Map,e.KnownScope=null,e.SubScope=null,e.Expressions=[],e}return h(n,[{key:"Simplify",value:function(e){if(this.SimplifiesTo.has(de.SimpleHash)&&null!==this.SimplifiesTo.get(de.SimpleHash))return this.SimplifiesTo.get(de.SimpleHash);if(this.Expressions.some((function(e){return!ie(e)})))return null;for(var t=this.GetSubScope(e),n=null,i=0;i<this.Expressions.length;i++)if(null===(n=this.Expressions[i].TrySimplify(t)))return null;return this.SimplifiesTo.set(de.SimpleHash,n),n}},{key:"Evaluate",value:function(e){var t=this.Simplify(e);if(null!==t)return[this.GetTypes(e),["xpush ".concat((4294967295&t)>>>0)]];for(var n=this.GetSubScope(e),i=[],r=[],o=0;o<this.Expressions.length;o++){var a=this.Expressions[o].TryEvaluate(n);if(i.push.apply(i,s(a[1])),o<this.Expressions.length-1)for(var l=0;l<a[0].length;l++)i.push.apply(i,s(a[0][l].XPop()));else r=a[0]}return this.DefinitelyReturns(n)||i.push.apply(i,s(n.Deferred)),[r,i]}},{key:"DefinitelyReturns",value:function(e){for(var t=0;t<this.Expressions.length;t++){var n=this.Expressions[t].DefinitelyReturns(e);if(n)return n}return!1}},{key:"PotentiallyReturns",value:function(e){for(var t=!1,n=0;n<this.Expressions.length;n++){var i=this.Expressions[n].DefinitelyReturns(e);if(i)return i;if((t=He.MostSimilar(t,this.Expressions[n].PotentiallyReturns(e),!0))&&!t.length)return t}return t}},{key:"GetSubScope",value:function(e){return this.KnownScope!==e&&(this.SubScope=e.Sub(),this.KnownScope=e),this.SubScope}},{key:"GetTypes",value:function(e){this.TrySimplify(e);var t=this.GetSubScope(e);if(0===this.Expressions.length)return[];for(var n=0;n<this.Expressions.length-1;n++)this.Expressions[n].GetTypes(t);return this.Expressions[this.Expressions.length-1].GetTypes(t)}}],[{key:"Claim",value:function(e){var t=e.Claim(/\{/);if(!t.Success)return null;for(var i=[],r=Q.Claim(e);null!==r;)i.push(r),e.Claim(/;/),r=Q.Claim(e);if(!e.Claim(/}/).Success)return t.Fail(),null;var s=new n(e,t);return s.Expressions=i,s}}]),n}(Q);Q.Register(fe.Claim);var pe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Values=[],e}return h(n,[{key:"Evaluate",value:function(e){if(!e.IsFunctionScope)throw new Error("Cannot return outside of function.");for(var t=[],n=[this.GetLine()],i=!1,r=e;r&&r.IsFunctionScope;)n.push.apply(n,s(r.Deferred)),r=r.Parent;for(var o=0;o<this.Values.length;o++){var a=this.Values[o];if(o===this.Values.length-1&&a instanceof he){var l=a.GetTypes(e);null===e.GetRequiredReturns()&&e.SetRequiredReturns(l),He.AllEquals(e.GetRequiredReturns(),t.concat(l))&&(i=!0,a.TailCall=!0)}var c=a.TryEvaluate(e);t.push.apply(t,s(c[0])),n.push.apply(n,s(c[1]))}if(null===e.GetRequiredReturns()&&e.SetRequiredReturns(t),!He.CanCoax(e.GetRequiredReturns(),t)[0])throw new Error("Unable to return value type: ".concat(t," expected ").concat(e.GetRequiredReturns()));return n.push.apply(n,s(He.Coax(e.GetRequiredReturns(),t)[0])),i||n.push("ret"),[[],n]}},{key:"DefinitelyReturns",value:function(e){return this.Values.map((function(t){return t.GetTypes(e)})).flat()}},{key:"GetTypes",value:function(){return[]}}],[{key:"Claim",value:function(e){var t=e.Claim(/return\b/);if(!t.Success)return null;for(var i=[],r=Q.Claim(e);null!==r&&(i.push(r),e.Claim(/,/).Success);)r=Q.Claim(e);var s=new n(e,t);return s.Values=i,s}}]),n}(Q);Q.Register(pe.Claim);var ge=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Args=[],e.RetTypes=[],e.GenericArgs=[],e.Target=null,e.Body=null,e.IsMeta=!1,e.Label="",e.IsClassMember=!1,e}return h(n,[{key:"Evaluate",value:function(e){var t,n,i;this.GetTypes(e);var r=new Fe(""),o=r.Flag(),a=new Ue(r,o);a.RetTypes=this.RetTypes.concat(),a.ArgTypes=this.Args.map((function(e){return e.Type}));var l="function";this.Target instanceof oe&&(l=this.Target.Name);var c=this.Label.length>0?this.Label:e.GetSafeName(l+"_"+a.RetTypes.join("_")+"_"+a.ArgTypes.join("_"));if(!this.IsClassMember&&this.Target instanceof oe&&!this.IsMeta){var u=e.TryGet(this.Target.Name);if(null===u||u[0].Equals(a))e.Set(this.Target.Name,a);else{var h="symbolic$".concat(this.Target.Name),d=new Fe(""),f=d.Flag(),p=new He(d,f);if(p.TypeName=h,!(u[0]instanceof Ue||u[0].TypeName===h))throw new Error("Cannot overload non-function");u[0]instanceof Ue&&(e.AddMetamethodSoft("call",u[0].RetTypes,[p].concat(s(u[0].ArgTypes)),["seta ".concat(u[1]),"ptra","calla"]),e.Set(this.Target.Name,p)),e.AddMetamethodSoft("call",a.RetTypes,[p].concat(s(a.ArgTypes)),["call ".concat(c)])}}var g=e.Sub();g.IsFunctionScope=!1;var m=g.Sub();m.CurrentFunction=c,m.IsFunctionScope=!0,m.SetRequiredReturns(null!==(t=null===(n=this.RetTypes)||void 0===n?void 0:n.concat())&&void 0!==t?t:null);for(var v=[this.GetLine(),"".concat(c,":")],y=0;y<this.Args.length;y++)this.Args[y].TryEvaluate(m);for(var b=this.Args.length-1;b>=0;b--)v.push.apply(v,["  seta ".concat(this.Args[b].Label)].concat(s(this.Args[b].Type.Put("x","a"))));var w=this.Body.TryEvaluate(m);if(!this.Body.DefinitelyReturns(m)&&!He.CanCoax(m.GetRequiredReturns(),w[0]))throw new Error("Function ".concat(this.Target," must return types ").concat(this.RetTypes));v.push.apply(v,s(w[1].map((function(e){return"  "+e})))),this.Body.DefinitelyReturns(m)||(v.push.apply(v,s(He.Coax(m.GetRequiredReturns(),w[0])[0])),v.push("  ret")),v.push.apply(v,s(m.Deferred)),v.push.apply(v,s(g.Deferred)),(i=e.Assembly).push.apply(i,v);var C=this.Target+"";if(this.Target instanceof oe&&(C=this.Target.Name),e.AllVars.set(this.Label,[a,C,e.CurrentFile,e.CurrentFunction]),this.IsMeta){var S;e.MetaMethods[C]=null!==(S=e.MetaMethods[C])&&void 0!==S?S:[];for(var x=0;x<e.MetaMethods[C].length;x++)if(He.AllEquals(e.MetaMethods[C][x][1],a.ArgTypes)&&("cast"!==C||He.AllEquals(e.MetaMethods[C][x][0],this.RetTypes)))throw new Error("Metamethod ".concat(C," already exists with signature ").concat(a.ArgTypes," -> ").concat(e.MetaMethods[C][x][0]));for(var k=0,_=s(e.SlowMMCache.keys());k<_.length;k++){var A=_[k];A.startsWith(C+"$")&&e.SlowMMCache.set(A,new Map)}return e.FastMMCache.has(C+"$"+e.CurrentFile)||e.FastMMCache.set(C+"$"+e.CurrentFile,new Map),e.FastMMCache.get(C+"$"+e.CurrentFile).set(this.Args.map((function(e){return e.Type.toString()})).join(","),[this.RetTypes,this.Args.map((function(e){return e.Type})),["call ".concat(c)]]),e.MetaMethods[C].push([this.RetTypes,this.Args.map((function(e){return e.Type})),["call ".concat(c)],this.GenericArgs,e.CurrentFile]),[[],[]]}return this.IsClassMember||null===this.Target?[[a],[this.GetLine(),"xpush ".concat(c)]]:[[a],[this.GetLine(),"xpush ".concat(c),"xpush ".concat(c)].concat(s(this.Target.Assign(e,a)))]}},{key:"DefinitelyReturns",value:function(){return!1}},{key:"GetTypes",value:function(e){if(null===this.RetTypes){if(!(this.Body instanceof Q))throw new Error("Impossible");var t=(f=new Fe("")).Flag();(p=new Ue(f,t)).RetTypes=[],p.ArgTypes=this.Args.map((function(e){return e.Type}));var n="function";this.Target instanceof oe&&(n=this.Target.Name);var i=this.Label.length>0?this.Label:e.GetSafeName(n+"_"+p.RetTypes.join("_")+"_"+p.ArgTypes.join("_"));if(!this.IsClassMember&&this.Target instanceof oe&&!this.IsMeta){var r=e.TryGet(this.Target.Name);if(null!==r){var o="symbolic$".concat(this.Target.Name),a=new Fe(""),l=a.Flag(),c=new He(a,l);if(c.TypeName=o,!(r[0]instanceof Ue||r[0].TypeName===o))throw new Error("Cannot overload non-function");r[0]instanceof Ue&&(e.AddMetamethodSoft("call",r[0].RetTypes,[c].concat(s(r[0].ArgTypes)),["seta ".concat(r[1]),"ptra","calla"]),e.Set(this.Target.Name,c)),e.AddMetamethodSoft("call",p.RetTypes,[c].concat(s(p.ArgTypes)),["call ".concat(i)])}else e.Set(this.Target.Name,p)}var u=e.Sub();u.IsFunctionScope=!1;var h=u.Sub();h.CurrentFunction=i,h.IsFunctionScope=!0;this.GetLine(),"".concat(i,":");for(var d=0;d<this.Args.length;d++)this.Args[d].GetTypes(h);try{this.Body instanceof fe?this.RetTypes=this.Body.PotentiallyReturns(h)||[]:this.RetTypes=this.Body.GetTypes(h)}catch(m){this.RetTypes=[]}}var f,p,g=(f=new Fe("")).Flag();return(p=new Ue(f,g)).RetTypes=this.RetTypes.concat(),p.ArgTypes=this.Args.map((function(e){return e.Type})),[p]}}],[{key:"Claim",value:function(e){var t=e.Claim(/function\b/);if(!t.Success)return null;var i=ne.ClaimAssignable(e,!1);if(null!==i&&!(i instanceof oe)&&!(i instanceof ce))return t.Fail(),null;var r=He.CurrentGenericArgs;for(var s in He.CurrentGenericArgs={},r)He.CurrentGenericArgs[s]=r[s];var o=[],a=0;if(e.Claim(/</).Success){for(var l=oe.Claim(e);null!==l&&(o.push("functiongeneric$"+a),He.CurrentGenericArgs[l.Name]="functiongeneric$"+a++,e.Claim(/,/).Success);)l=oe.Claim(e);if(!e.Claim(/>/).Success)return He.CurrentGenericArgs=r,t.Fail(),null}if(!e.Claim(/\(/).Success)return t.Fail(),null;for(var c=[],u=e.Claim(/params\b/).Success||ue.Claim(e);null!==u;){if(!0===u){var h=He.Claim(e);if(null===h)return t.Fail(),null;if(!e.Claim(/\[/).Success)return t.Fail(),null;var d=oe.Claim(e);if(null===d)return t.Fail(),null;if(!e.Claim(/\]/).Success)return t.Fail(),null;var f=oe.Claim(e);if(null===f)return t.Fail(),null;var p=new Fe("",""),g=p.Flag(),m=new ue(p,g);m.Type=He.Int,m.Identifier=d;var v=new ue(p,g);v.Type=h.WithDeltaPointerDepth(1),v.Identifier=f,c.push(m,v);break}if(c.push(u),!e.Claim(/,/).Success)break;u=e.Claim(/params\b/).Success||ue.Claim(e)}if(!e.Claim(/\)/).Success)return t.Fail(),He.CurrentGenericArgs=r,null;var y=null;if(e.Claim(/->/).Success){y=[];for(var b=He.Claim(e);null!==b&&(y.push(b),e.Claim(/,/).Success);)b=He.Claim(e)}var w=Q.Claim(e);if(He.CurrentGenericArgs=r,null===w){var C=new Fe("",""),S=C.Flag();w=new fe(C,S)}if(w instanceof fe){if(w.Expressions.length>0){var x=w.Expressions[w.Expressions.length-1];x instanceof he&&(x.IsFinalExpression=!0)}}else w instanceof he&&(w.IsFinalExpression=!0);var k=new n(e,t);return k.Args=c,k.RetTypes=y,k.Target=i,k.Body=w,k.GenericArgs=o,k}},{key:"ClaimArrow",value:function(e){var t=e.Flag(),i=e.Claim(/\(/),r=[];if(i.Success)for(var s=ue.Claim(e);null!==s&&(r.push(s),e.Claim(/,/).Success);)s=ue.Claim(e);else{var o=ue.Claim(e);if(null===o)return t.Fail(),null;r.push(o)}if(i.Success&&!e.Claim(/\)/).Success)return t.Fail(),null;var a=null;if(e.Claim(/->/).Success){a=[];for(var l=He.Claim(e);null!==l&&(a.push(l),e.Claim(/,/).Success);)l=He.Claim(e)}if(!e.Claim(/=>/).Success)return t.Fail(),null;var c=Q.Claim(e);if(c instanceof fe){if(c.Expressions.length>0){var u=c.Expressions[c.Expressions.length-1];u instanceof he&&(u.IsFinalExpression=!0)}}else c instanceof he&&(c.IsFinalExpression=!0);var h=new n(e,t);return h.Args=r,h.RetTypes=a,h.Body=c,h}},{key:"ClaimMetamethod",value:function(e){var t=e.Claim(/metamethod\b/);if(!t.Success)return null;var i=oe.Claim(e);if(null===i)return t.Fail(),null;var r=He.CurrentGenericArgs;for(var s in He.CurrentGenericArgs={},r)He.CurrentGenericArgs[s]=r[s];var o=[],a=0;if(e.Claim(/</).Success){for(var l=oe.Claim(e);null!==l&&(o.push("metamethodgeneric$"+a),He.CurrentGenericArgs[l.Name]="metamethodgeneric$"+a++,e.Claim(/,/).Success);)l=oe.Claim(e);if(!e.Claim(/>/).Success)return He.CurrentGenericArgs=r,t.Fail(),null}if(!e.Claim(/\(/).Success)return t.Fail(),null;for(var c=[],u=ue.Claim(e);null!==u&&(c.push(u),e.Claim(/,/).Success);)u=ue.Claim(e);if(!e.Claim(/\)/).Success)return t.Fail(),He.CurrentGenericArgs=r,null;var h=null;if(e.Claim(/->/).Success){h=[];for(var d=He.Claim(e);null!==d&&(h.push(d),e.Claim(/,/).Success);)d=He.Claim(e)}var f=Q.Claim(e);if(He.CurrentGenericArgs=r,null===f){var p=new Fe("",""),g=p.Flag();f=new fe(p,g)}if(f instanceof fe){if(f.Expressions.length>0){var m=f.Expressions[f.Expressions.length-1];m instanceof he&&(m.IsFinalExpression=!0)}}else f instanceof he&&(f.IsFinalExpression=!0);var v=new n(e,t);return v.Args=c,v.RetTypes=h,v.Target=i,v.Body=f,v.IsMeta=!0,v.GenericArgs=o,v}},{key:"ClaimConstructor",value:function(e,t){var i=e.Flag(),r=He.CurrentGenericArgs;for(var s in He.CurrentGenericArgs={},r)He.CurrentGenericArgs[s]=r[s];var o=[],a=0;if(e.Claim(/</).Success){for(var l=oe.Claim(e);null!==l&&(o.push("metamethodgeneric$"+a),He.CurrentGenericArgs[l.Name]="metamethodgeneric$"+a++,e.Claim(/,/).Success);)l=oe.Claim(e);if(!e.Claim(/>/).Success)return He.CurrentGenericArgs=r,i.Fail(),null}if(!e.Claim(/\(/).Success)return i.Fail(),null;for(var c=[],u=ue.Claim(e);null!==u&&(c.push(u),e.Claim(/,/).Success);)u=ue.Claim(e);var h=new Fe(""),d=h.Flag(),f=new ue(h,d);if(f.Type=new He(h,d),f.Type.TypeName=t.Name,f.Identifier=new oe(h,d),f.Identifier.Name="this",c.push(f),!e.Claim(/\)/).Success)return i.Fail(),He.CurrentGenericArgs=r,null;var p=[f.Type],g=Q.Claim(e);(He.CurrentGenericArgs=r,null===g)&&(g=new fe(h,d));if(!(g instanceof fe)){var m=new fe(h,d);m.Expressions.push(g),g=m}var v=new pe(h,d),y=new oe(h,d);y.Name="this",v.Values=[y],g.Expressions.push(v);var b=new n(e,i);return b.Args=c,b.RetTypes=p,b.Target=t,b.Body=g,b.IsMeta=!0,b.GenericArgs=o,b}}]),n}(Q);Q.Register(ge.Claim),Q.Register(ge.ClaimArrow,!0),Q.Register(ge.ClaimMetamethod);var me=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Length=null,e.Type=null,e.Arguments=[],e.Label=null,e.ClassMember=!1,e}return h(n,[{key:"GetLabel",value:function(e){return null===this.Label&&(this.Label=e.GetSafeName("reserve")),this.Label}},{key:"GetSize",value:function(e){if(null!==this.Length){var t=this.Length.TrySimplify(e);if(null===t)throw new Error("Reserve length must be a constant value");return t}return this.Type.GetDefinition().Size}},{key:"Evaluate",value:function(e){if(null!==this.Length){if(this.ClassMember)return[[He.VoidPtr],[this.GetLine(),"xpopb","xpushb","incb","xpushb"]];var t=this.Length.TrySimplify(e);if(null===t)throw new Error("Reserve length must be a constant value");return e.Assembly.push(this.GetLabel(e)+":"),e.Assembly.push("db ".concat(Array(t).fill(0).join(","))),[[He.VoidPtr],[this.GetLine(),"xpush ".concat(this.Label)]]}var n=[this.GetLine()],i=this.Type.GetDefinition(),r=this.GetLabel(e);this.ClassMember?n.push("xpopb","xpushb","ypushb"):(e.Assembly.push(r+":"),e.Assembly.push("db ".concat(Array(i.Size).fill(0).join(","))));for(var o=[],a=0;a<this.Arguments.length;a++){var l=this.Arguments[a].TryEvaluate(e);n.push.apply(n,s(l[1])),o.push.apply(o,s(l[0]))}o.push(this.Type);var c=e.GetMetamethod(this.Type.TypeName,o);if(null===c)throw new Error("Cannot find constructor for ".concat(this.Type.TypeName));this.ClassMember?n.push("ypopb","ypushb"):n.push("setb ".concat(r));var u=[];for(var h in i.Children){var d=i.Children[h];u[d[1]]=[h,d]}for(var f=function(t){var r=u[t];if(r){var o,a=r[1][0],l=i.Assignments.filter((function(e){return e.Left.Identifier.Name===r[0]}));if(l.length>0){if(l.length>1)throw new Error("Ambiguous default value for ".concat(r[0]));n.push("  xpushb");var c=l[0].Right.TryEvaluate(e);n.push.apply(n,s(c[1]));for(var h=1;h<c[0].length;h++)n.push.apply(n,s(c[0][h].XPop()));n.push.apply(n,s(c[0][0].FlipXY()).concat(["xpopb"],s(c[0][0].FlipYX()),s(c[0][0].Put("x","b"))))}else{var d;null!==(d=null===a||void 0===a?void 0:a.GetDefinition().Wide)&&void 0!==d&&d?n.push.apply(n,["seta 0"].concat(s(Array(a.GetDefinition().Size).fill(["putaptrb","incb"]).flat()))):n.push("  seta ".concat(r[1][2]),"  putaptrb")}null!==(o=null===a||void 0===a?void 0:a.GetDefinition().Wide)&&void 0!==o&&o&&(t+=a.GetDefinition().Size-1)}t<u.length-1&&n.push("  incb"),p=t},p=0;p<u.length;p++)f(p);return this.ClassMember?n.push("ypopb","xpushb","ypushb"):n.push("xpush ".concat(r)),n.push.apply(n,s(c[2])),this.ClassMember?n.push("ypopb","xpushb"):n.push("xpush ".concat(r)),[[this.Type],n]}},{key:"GetTypes",value:function(e){return null!==this.Length?[He.VoidPtr]:[this.Type]}},{key:"DefinitelyReturns",value:function(e){if(null!==this.Length)return!1;for(var t=0;t<this.Arguments.length;t++){var n=this.Arguments[t].DefinitelyReturns(e);if(n)return n}return!1}},{key:"PotentiallyReturns",value:function(e){if(null!==this.Length)return!1;for(var t=!1,n=0;n<this.Arguments.length;n++){var i=this.Arguments[n].DefinitelyReturns(e);if(i)return i;if((t=He.MostSimilar(t,this.Arguments[n].PotentiallyReturns(e),!0))&&!t.length)return t}return t}}],[{key:"Claim",value:function(e){var t,i=e.Claim(/reserve\b/);if(!i.Success)return null;var r=null!==(t=n.ClaimType(e,i))&&void 0!==t?t:n.ClaimLength(e,i);return null===r?(i.Fail(),null):r}},{key:"ClaimType",value:function(e,t){var i=e.Flag(),r=He.Claim(e);if(null===r)return i.Fail(),null;if(!e.Claim(/\(/).Success)return i.Fail(),null;for(var s=[],o=Q.Claim(e);null!==o&&(s.push(o),e.Claim(/,/).Success);)o=Q.Claim(e);if(!e.Claim(/\)/).Success)return i.Fail(),null;var a=new n(e,t);return a.Type=r,a.Arguments=s,a}},{key:"ClaimLength",value:function(e,t){var i=e.Flag(),r=Q.Claim(e);if(null===r||!ie(r))return i.Fail(),null;var s=new n(e,t);return s.Length=r,s}}]),n}(Q);Q.Register(me.Claim);var ve=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Members=[],e.StaticMembers=[],e.VirtualMembers=[],e.Assignments=[],e.StaticAssignments=[],e.Constants=[],e.StaticConstants=[],e.Constructors=[],e.Name=null,e.GenericArgs=[],e.IsAbstract=!1,e.FromFile="",e.Wide=!1,e}return h(n,[{key:"GenerateWideNewMethod",value:function(e){var t,n=this,i=e.UserTypes[this.Name.Name],r=e.GetSafeName("new".concat(this.Name.Name));e.RequireAllocator();var o=[];o.push("".concat(r,":"));var a=[];for(var l in i.Children){var c=i.Children[l];a[c[1]]=[l,c]}for(var u=[],h=0;h<a.length;h++){var d=a[h];if(u.push(h),d){var f,p,g=d[1][0];null!==(f=null===g||void 0===g?void 0:g.IsDefined())&&void 0!==f&&f&&null!==(p=null===g||void 0===g?void 0:g.GetDefinition().Wide)&&void 0!==p&&p&&(h+=g.GetDefinition().Size-1)}}for(var m=function(){var t=u[v],i=a[t];if(i){var r=i[1][0],l=n.Assignments.filter((function(e){return e.Left.Identifier.Name===i[0]}));if(l.length>0){if(l.length>1)throw new Error("Ambiguous default value for ".concat(i[0]));var c=l[0].Right.TryEvaluate(e);o.push.apply(o,s(c[1]));for(var h=1;h<c[0].length;h++)o.push.apply(o,s(c[0][h].XPop()))}else{var d,f;null!==(d=null===r||void 0===r?void 0:r.IsDefined())&&void 0!==d&&d&&null!==(f=null===r||void 0===r?void 0:r.GetDefinition().Wide)&&void 0!==f&&f?o.push.apply(o,s(Array(r.GetDefinition().Size).fill("xpush 0"))):o.push("xpush ".concat(i[1][2]))}}else o.push("xpush 0")},v=u.length-1;v>=0;v--)m();return o.push("  ret"),(t=e.Assembly).push.apply(t,o),r}},{key:"GenerateNewMethod",value:function(e){var t,n=this,i=e.UserTypes[this.Name.Name];if(i.Wide)return this.GenerateWideNewMethod(e);var r=e.GetSafeName("new".concat(this.Name.Name));e.RequireAllocator();var o=[];o.push("".concat(r,":"),"  xpush ".concat(i.Size),"  call alloc","  xpopb","  xpushb");var a=[];for(var l in i.Children){var c=i.Children[l];a[c[1]]=[l,c]}for(var u=function(t){var i=a[t];if(i){var r,l,c=i[1][0],u=n.Assignments.filter((function(e){return e.Left.Identifier.Name===i[0]}));if(u.length>0){if(u.length>1)throw new Error("Ambiguous default value for ".concat(i[0]));o.push("  xpushb");var d=u[0].Right.TryEvaluate(e);o.push.apply(o,s(d[1]));for(var f=1;f<d[0].length;f++)o.push.apply(o,s(d[0][f].XPop()));o.push.apply(o,s(d[0][0].FlipXY()).concat(["xpopb"],s(d[0][0].FlipYX()),s(d[0][0].Put("x","b"))))}else{var p,g;null!==(p=null===c||void 0===c?void 0:c.IsDefined())&&void 0!==p&&p&&null!==(g=null===c||void 0===c?void 0:c.GetDefinition().Wide)&&void 0!==g&&g?o.push.apply(o,["seta 0"].concat(s(Array(c.GetDefinition().Size).fill(["putaptrb","incb"]).flat()))):o.push("  seta ".concat(i[1][2]),"  putaptrb")}null!==(r=null===c||void 0===c?void 0:c.IsDefined())&&void 0!==r&&r&&null!==(l=null===c||void 0===c?void 0:c.GetDefinition().Wide)&&void 0!==l&&l&&(t+=c.GetDefinition().Size-1)}t<a.length-1&&o.push("  incb"),h=t},h=0;h<a.length;h++)u(h);return o.push("  ret"),(t=e.Assembly).push.apply(t,o),r}},{key:"TrySetup",value:function(e){var t=this,n=e.CurrentFile;try{e.CurrentFile=this.FromFile;var i=new S,r=new S;i.ClassLabel=e.GetSafeName("class".concat(this.Name.Name)),r.ClassLabel=i.ClassLabel,i.Name=this.Name.Name,r.Name="type".concat(this.Name.Name),i.TypeType=r,i.Wide=this.Wide,this.Wide?i.Size=0:i.Size=1,r.Size=1,r.Children.new=[He.Void,0,"0"];for(var o=function(){var n,o,l,c,u=t.StaticMembers[a],h=u instanceof ge?u.Target:u.Identifier;if(u instanceof ge){u.IsClassMember=!0;var d=u.GetTypes(e)[0];if(u.Label||(u.Label=e.GetSafeName("function_"+d.RetTypes+"_"+d.ArgTypes)),r.Children.hasOwnProperty(h.Name)){var f=r.Children[h.Name],p="symbolic$".concat(i.Name,"$").concat(h.Name),g=new Fe(""),m=g.Flag(),v=new He(g,m);if(v.TypeName=p,!(f[0]instanceof Ue||f[0].TypeName===p))throw new Error("Cannot overload non-function");return f[0]instanceof Ue&&(e.AddMetamethodSoft("call",f[0].RetTypes,[v].concat(s(f[0].ArgTypes)),["call ".concat(f[2])]),r.Children[h.Name]=[v,f[1],"0"]),e.AddMetamethodSoft("call",d.RetTypes,[v].concat(s(d.ArgTypes)),["call ".concat(u.Label)]),"continue"}}c=u instanceof ge?u.GetTypes(e)[0]:u.Type,r.Children[h.Name]=[c,r.Size,u instanceof ge?u.Label:"0"],r.Size+=null!==(n=null===(o=c)||void 0===o?void 0:o.IsDefined())&&void 0!==n&&n&&null!==(l=c.GetDefinition())&&void 0!==l&&l.Wide?c.GetDefinition().Size:1,u instanceof ue&&t.StaticAssignments.filter((function(e){return e.Left===u})).filter((function(e){return e.Right instanceof me})).forEach((function(t){var n=t.Right,i=n.GetSize(e);if(null===i)throw new Error("Cannot determine size of reserve");r.Size+=i,n.ClassMember=!0}))},a=0;a<this.StaticMembers.length;a++)o();for(var l=0;l<this.VirtualMembers.length;l++){var c,u,h,d=this.VirtualMembers[l],f=d instanceof ge?d.Target:d.Identifier;if(d instanceof ge){d.IsClassMember=!0;var p=d.GetTypes(e)[0];if(d.Label||(d.Label=e.GetSafeName("function_"+p.RetTypes+"_"+p.ArgTypes)),i.VirtualChildren.hasOwnProperty(f.Name)){var g=i.VirtualChildren[f.Name],m="symbolic$".concat(i.Name,"$").concat(f.Name),v=new Fe(""),y=v.Flag(),b=new He(v,y);if(b.TypeName=m,!(g[0]instanceof Ue||g[0].TypeName===m))throw new Error("Cannot overload non-function");g[0]instanceof Ue&&(e.AddMetamethodSoft("call",g[0].RetTypes,[b].concat(s(g[0].ArgTypes)),["call ".concat(g[3])]),i.VirtualChildren[f.Name]=[b,r,g[2],"0"]),e.AddMetamethodSoft("call",p.RetTypes,[b].concat(s(p.ArgTypes)),["call ".concat(d.Label)]);continue}}var w=void 0;w=d instanceof ge?d.GetTypes(e)[0]:d.Type,r.Children[f.Name]=[w,r.Size,d instanceof ge?d.Label:"0"],i.VirtualChildren[f.Name]=[w,r,r.Size,d instanceof ge?d.Label:"0"],r.Size+=null!==(c=null===(u=w)||void 0===u?void 0:u.IsDefined())&&void 0!==c&&c&&null!==(h=w.GetDefinition())&&void 0!==h&&h.Wide?w.GetDefinition().Size:1}for(var C=function(){var n=t.Members[x];if(n instanceof ge){n.IsClassMember=!0;var s=n.GetTypes(e)[0];n.Label=e.GetSafeName("function_"+s.RetTypes+"_"+s.ArgTypes)}var o,a,l,c,u=n instanceof ge?n.Target:n.Identifier;(o=n instanceof ge?n.GetTypes(e)[0]:n.Type,i.Children[u.Name])?i.Children[u.Name]=[o,i.Children[u.Name][1],n instanceof ge?n.Label:"0"]:(i.Children[u.Name]=[o,i.Size,n instanceof ge?n.Label:"0"],i.Size+=null!==(a=null===(l=o)||void 0===l?void 0:l.IsDefined())&&void 0!==a&&a&&null!==(c=o.GetDefinition())&&void 0!==c&&c.Wide?o.GetDefinition().Size:1);n instanceof ue&&t.Assignments.filter((function(e){return e.Left===n})).filter((function(e){return e.Right instanceof me})).forEach((function(t){var n=t.Right,r=n.GetSize(e);if(null===r)throw new Error("Cannot determine size of reserve");i.Size+=r,n.ClassMember=!0})),n instanceof ge&&(r.Children[u.Name]?r.Children[u.Name]=[o,r.Children[u.Name][1],n.Label]:r.Children[u.Name]=[o,r.Size++,n.Label])},x=0;x<this.Members.length;x++)C();for(var k=0;k<this.Constants.length;k++){var _=this.Constants[k];i.ConstantChildren[_.Identifier.Name]=[_.GetTypes(e)[0],0]}for(var A=0;A<this.StaticConstants.length;A++){var T=this.StaticConstants[A];r.ConstantChildren[T.Identifier.Name]=[T.GetTypes(e)[0],0]}return i.Assignments=this.Assignments,e.UserTypes[this.Name.Name]=i,e.UserTypes["type"+this.Name.Name]=r,!0}finally{e.CurrentFile=n}}},{key:"Evaluate",value:function(e){var t,n=[],i=e.UserTypes[this.Name.Name],r=i.TypeType;if(!i||!r)throw new Error("Tried to compile non-registered class: ".concat(this.Name.Name));n.push(this.GetLine());var o=new Fe(""),a=o.Flag(),l=new He(o,a);l.TypeName="type"+this.Name.Name;var c=e.GetSafeName("vartype".concat(this.Name.Name));e.Vars.set(this.Name.Name,[l,c,null]),e.AllVars.set(c,[l,this.Name.Name,e.CurrentFile,e.CurrentFunction]),e.Assembly.push("".concat(c,": db ").concat(r.ClassLabel)),n.push("".concat(r.ClassLabel,":"));for(var u=0;u<this.StaticMembers.length;u++){var h=this.StaticMembers[u];h instanceof ge&&h.TryEvaluate(e)}for(var d=0;d<this.VirtualMembers.length;d++){var f=this.VirtualMembers[d];f instanceof ge&&f.TryEvaluate(e)}for(var p=0;p<this.Constructors.length;p++){this.Constructors[p].TryEvaluate(e)}for(var g=0;g<this.Members.length;g++){var m=this.Members[g];m instanceof ge&&m.TryEvaluate(e)}if(!this.IsAbstract){var v=this.GenerateNewMethod(e);r.Children.new[2]=v}var y=["0"];for(var b in r.Children){var w=r.Children[b];y[w[1]]=w[2]}for(var C=[],S=0;S<r.Size;S++){var x;C.push((null!==(x=y[S])&&void 0!==x?x:"").trim().length?y[S]:"0")}n.push("db ".concat(C.join(","))),(t=e.Assembly).push.apply(t,s(n)),n=[];for(var k=0;k<this.StaticAssignments.length;k++){var _,A,T=this.StaticAssignments[k],R=T.Left;if(R.IsConstant){if(!ie(T.Right))throw new Error("Cannot assign non-constant value to constant");var $=T.Right.TrySimplify(e);if(null===$)throw new Error("Cannot assign non-constant value to constant");r.ConstantChildren[R.Identifier.Name]=[R.GetTypes(e)[0],$]}else{var E=r.Children[R.Identifier.Name],L=T.Right.TryEvaluate(e);n.push("setb ".concat(r.ClassLabel),"addb ".concat(E[1]),"xpushb"),(_=n).push.apply(_,s(L[1])),(A=n).push.apply(A,s(He.Coax([E[0]],L[0])[0])),n.push("xpopa","xpopb","putaptrb")}}for(var M=0;M<this.Assignments.length;M++){var I=this.Assignments[M],F=I.Left;if(F.IsConstant){if(!ie(I.Right))throw new Error("Cannot assign non-constant value to constant");var P=I.Right.TrySimplify(e);if(null===P)throw new Error("Cannot assign non-constant value to constant");i.ConstantChildren[F.Identifier.Name]=[F.GetTypes(e)[0],P]}}return n}},{key:"DefinitelyReturns",value:function(){return!1}}],[{key:"ClaimMember",value:function(e,t,n){var i,r,s,o,a,l,c,u,h,d,f=e.Flag();return!t&&e.Claim(/new\b/).Success?null===(o=ge.ClaimConstructor(e,n))?(f.Fail(),null):["none",o]:e.Claim(/static\b/).Success?null===(o=null!==(a=null!==(l=null!==(c=ue.Claim(e))&&void 0!==c?c:ue.ClaimAbstract(e))&&void 0!==l?l:ge.Claim(e))&&void 0!==a?a:null)?(f.Fail(),null):["static",o]:e.Claim(/virtual\b/).Success?null===(o=null!==(u=null!==(h=null!==(d=ue.Claim(e))&&void 0!==d?d:ue.ClaimAbstract(e))&&void 0!==h?h:ge.Claim(e))&&void 0!==u?u:null)?(f.Fail(),null):["virtual",o]:null===(o=null!==(i=null!==(r=null!==(s=ue.Claim(e))&&void 0!==s?s:ue.ClaimAbstract(e))&&void 0!==r?r:ge.Claim(e))&&void 0!==i?i:null)?null:["",o]}},{key:"Claim",value:function(e){var t=e.Flag(),i=!1;e.Claim(/abstract\b/).Success&&(i=!0);var r,s=e.Claim(/class\b/);if((r=!s.Success)&&(s=e.Claim(/struct\b/)),!s.Success)return null;var o=oe.Claim(e);if(null===o)return t.Fail(),null;var a=[],l=0;if(e.Claim(/</).Success){for(var c=oe.Claim(e);null!==c&&(a.push(c.Name),He.CurrentGenericArgs[c.Name]="classgeneric$"+l++,e.Claim(/,/).Success);)c=oe.Claim(e);if(!e.Claim(/>/).Success)return He.CurrentGenericArgs={},t.Fail(),null}if(!e.Claim(/\{/).Success)return He.CurrentGenericArgs={},t.Fail(),null;for(var u=[],h=[],d=[],f=[],p=[],g=[],m=[],v=[],y=n.ClaimMember(e,i,o);null!==y;){var b;if(y[1]instanceof ue&&"discard"===(null===(b=y[1].Type)||void 0===b?void 0:b.TypeName))throw new Error("Cannot declare discard type variable in class ".concat(y[1].Identifier.Name));if(y[1]instanceof ue&&"virtual"!==y[0]&&"none"!==y[0]){var w=re.RightClaim(y[1],e);w&&("static"===y[0]?p.push(w):f.push(w))}if("none"!==y[0]&&y[1]instanceof ge){var C=y[1];if("static"!==y[0]){var S=new Fe(""),x=S.Flag(),k=new ue(S,x);k.Identifier=new oe(S,x),k.Identifier.Name="this",k.Type=new He(S,x),k.Type.TypeName=o.Name,C.Args.push(k)}if(!(C.Target instanceof oe))return He.CurrentGenericArgs={},t.Fail(),null}switch(y[0]){case"static":y[1]instanceof ue&&y[1].IsConstant?m.push(y[1]):h.push(y[1]);break;case"virtual":d.push(y[1]);break;case"":y[1]instanceof ue&&y[1].IsConstant?g.push(y[1]):u.push(y[1]);break;case"none":v.push(y[1])}e.Claim(/;/),y=n.ClaimMember(e,i,o)}if(He.CurrentGenericArgs={},!e.Claim(/}/).Success)return t.Fail(),null;var _=new n(e,t);return _.Members=u,_.StaticMembers=h,_.VirtualMembers=d,_.Assignments=f,_.StaticAssignments=p,_.Constants=g,_.StaticConstants=m,_.Constructors=v,_.Name=o,_.IsAbstract=i,_.FromFile=e.File,_.Wide=r,_}}]),n}(G);G.RegisterTopLevel(ve.Claim);var ye=function(e){$(n,e);var t=I(n);function n(){return a(this,n),t.apply(this,arguments)}return h(n)}(N),be=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Value="",e}return h(n,[{key:"Evaluate",value:function(e){for(var t=e.GetSafeName("str".concat(this.Value)),n="".concat(t,": db ").concat(this.Value.length,", "),i="",r=0;r<this.Value.length;r++)n+=i+this.Value.charCodeAt(r),i=", ";return e.Assembly.push(n),[[He.String],[this.GetLine(),"xpush ".concat(t)]]}},{key:"GetTypes",value:function(e){return[He.String]}}],[{key:"Claim",value:function(e){var t=e.Claim(/"(\\[bfnrt"\\]|.)*?"/);if(!t.Success)return null;var i=new n(e,t);return i.Value=JSON.parse(t.Body[0]),i}}]),n}(Q);Q.Register(be.Claim);var we=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).LowCount=1,e.HighCount=1,e}return h(n,null,[{key:"Claim",value:function(e){for(var t=null,i=0;null===t&&i<n.Claimers.length;)t=n.Claimers[i++](e);if(null===t)return null;var r=n.Countify(e);return t.LowCount=r[0],t.HighCount=r[1],t}},{key:"ClaimMany",value:function(e){for(var t=[],i=n.Claim(e);null!==i;)t.push(i),i=n.Claim(e);return t}},{key:"Countify",value:function(e){if(e.Claim(/\*/).Success)return[0,1/0];if(e.Claim(/\+/).Success)return[1,1/0];if(e.Claim(/\?/).Success)return[0,1];var t=e.Claim(/\{(\d+)\}/);return t.Success?[+t.Body[1],+t.Body[1]]:(t=e.Claim(/\{(\d+),(\d+)\}/)).Success?[+t.Body[1],+t.Body[2]]:[1,1]}},{key:"Register",value:function(e){n.Claimers.push(e)}},{key:"TryClaimAll",value:function(e,t,n){0===n.length&&(n[0]="");for(var i="",r=t.Flag(),s=0;s<e.length;s++){for(var o=e[s],a=0;a<o.HighCount;a++){var l=o.TryClaim(t,n);if(null===l)break;i+=l}if(a<o.LowCount)return r.Fail(),null}return n[0]=i,i}},{key:"TryRightClaimAll",value:function(e,t,n,i){0===i.length&&(i[0]="");for(var r="",s=n.Flag(),o=0;o<t.length;o++){for(var a=t[o],l=0;l<a.HighCount;l++)if(0===l&&0===o){var c=a.TryRightClaim(e,n,i);if(null===c)return null;r+=c}else{var u=a.TryClaim(n,i);if(null===u)break;r+=u}if(l<a.LowCount)return s.Fail(),null}return i[0]=r,r}}]),n}(N);we.Claimers=[];var Ce=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Body=void 0,e}return h(n,[{key:"TryClaim",value:function(e){var t=e.Claim(this.Body);return t.Success?t.Body[0]:null}},{key:"TryRightClaim",value:function(){return null}},{key:"AllowRightClaim",value:function(){return!1}},{key:"OnlyRightClaim",value:function(){return!1}}],[{key:"Claim",value:function(e){var t=e.Claim(/\/((?:\\.|[^/\\])*?)\//);if(!t.Success)return null;var i=new n(e,t);return i.Body=new RegExp(t.Body[1],"y"),i}}]),n}(we);we.Register(Ce.Claim);var Se=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Body=void 0,e}return h(n,[{key:"TryClaim",value:function(e){var t=e.Claim(this.Body);return t.Success?t.Body[0]:null}},{key:"TryRightClaim",value:function(){return null}},{key:"AllowRightClaim",value:function(){return!1}},{key:"OnlyRightClaim",value:function(){return!1}}],[{key:"Claim",value:function(e){var t=e.Claim(/"((\\[bfnrt"\\]|.)+?)"/),i="";if(!t.Success){if(!(t=e.Claim(/'((\\[bfnrt"\\]|.)+?)'/)).Success)return null;t.Body[1].match(/\w$/)&&(i="\\b")}var r=new n(e,t);return r.Body=new RegExp(t.Body[1].replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+i,"y"),r}}]),n}(we);we.Register(Se.Claim);var xe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Name=void 0,e}return h(n,[{key:"TryClaim",value:function(e){var t,n,i=this;switch(this.Name.toLowerCase()){case"expression":var r=e.Ptr;return null===Q.Claim(e)?null:e.Code.substr(r,e.Ptr-r);case"assignable":var o=e.Ptr;return null===ne.ClaimAssignable(e)?null:e.Code.substr(o,e.Ptr-o);case"identifier":var a=e.Ptr;return null===oe.Claim(e)?null:e.Code.substr(a,e.Ptr-a);case"type":var l=e.Ptr;return null===He.Claim(e)?null:e.Code.substr(l,e.Ptr-l);case"number":var c=e.Ptr,u=Q.Claim(e);return null===u?null:ie(u)?null===u?null:e.Code.substr(c,e.Ptr-c):null;case"string":var h=e.Ptr;return null===be.Claim(e)?null:e.Code.substr(h,e.Ptr-h)}var d=null!==(t=Te.Macros[e.File])&&void 0!==t?t:[];null===(n=W.Includes[e.File])||void 0===n||n.forEach((function(e){var t,n;return(t=d).push.apply(t,s(null!==(n=Te.Macros[e])&&void 0!==n?n:[]))})),d=(d=d.filter((function(e){return e.Name}))).filter((function(e){return e.Name.Name===i.Name}));for(var f=0;f<d.length;f++){var p=d[f],g=we.TryClaimAll(p.Description,e,[]);if(null!==g)return g}throw new Error("Unknown type ".concat(this.Name))}},{key:"TryRightClaim",value:function(e,t){var n=this.Name.toLowerCase();if(["expression","assignable","number"].includes(n)){if("expression"===n)return e.toString();if("assignable"===n)return J(e)?e.toString():null;if("number"===n&&ie(e))return e.toString()}return null}},{key:"AllowRightClaim",value:function(){return["expression","assignable","number"].includes(this.Name.toLowerCase())}},{key:"OnlyRightClaim",value:function(){return["expression","assignable","number"].includes(this.Name.toLowerCase())}}],[{key:"Claim",value:function(e){var t=e.Claim(/[a-zA-Z_]\w*/);if(!t.Success)return null;var i=new n(e,t);return i.Name=t.Body[0],i}}]),n}(we);we.Register(xe.Claim);var ke=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Options=[],e.GroupID=void 0,e}return h(n,[{key:"TryClaim",value:function(e,t){var n;null!==(n=this.GroupID)&&void 0!==n||(this.GroupID=t.length);for(var i=e.Flag(),r=0;r<this.Options.length;r++){var s=we.TryClaimAll(this.Options[r],e,t);if(null!==s)return t[this.GroupID]=s;i.Fail(!0)}return i.Fail(),null}},{key:"TryRightClaim",value:function(e,t,n){var i;null!==(i=this.GroupID)&&void 0!==i||(this.GroupID=n.length);for(var r=t.Flag(),s=0;s<this.Options.length;s++)if(0!==this.Options[s].length&&this.Options[s][0].AllowRightClaim()){var o=we.TryRightClaimAll(e,this.Options[s],t,n);if(null!==o)return n[this.GroupID]=o;r.Fail(!0)}return r.Fail(),null}},{key:"AllowRightClaim",value:function(){for(var e=0;e<this.Options.length;e++)if(0!==this.Options[e].length&&this.Options[e][0].AllowRightClaim())return!0;return!1}},{key:"OnlyRightClaim",value:function(){for(var e=0;e<this.Options.length;e++)if(0!==this.Options[e].length&&!this.Options[e][0].OnlyRightClaim())return!1;return!0}}],[{key:"Claim",value:function(e){var t=e.Claim(/\(/);if(!t.Success)return null;var i=[];for(i.push(we.ClaimMany(e));e.Claim(/\|/).Success;)i.push(we.ClaimMany(e));if(!e.Claim(/\)/).Success)return t.Fail(),null;if(0===i.length)return t.Fail(),null;var r=new n(e,t);return r.Options=i,r}}]),n}(we);we.Register(ke.Claim);var _e=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).GroupID=0,e}return h(n,[{key:"TryClaim",value:function(e,t){if(void 0===t[this.GroupID])throw new Error("Backreference must refer to a previously matched group!");var n=t[this.GroupID].replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=e.Claim(new RegExp(n,"y"));return i.Success?i.Body[0]:null}},{key:"AllowRightClaim",value:function(){return!1}},{key:"TryRightClaim",value:function(){return null}},{key:"OnlyRightClaim",value:function(){return!1}}],[{key:"Claim",value:function(e){var t=e.Claim(/\\(\d+)/);if(!t.Success)return null;var i=new n(e,t);return i.GroupID=+t.Body[1],i}}]),n}(we);we.Register(_e.Claim);var Ae=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Chunks=[],e}return h(n,[{key:"Stringify",value:function(e){for(var t,n,i="",r=0;r<this.Chunks.length;r++){var s=this.Chunks[r];switch(s[0]){case 1:i+=null!==(t=e[+s[1]])&&void 0!==t?t:"";break;case 2:i+=JSON.stringify(null!==(n=e[+s[1]])&&void 0!==n?n:"");break;default:i+=s[1]}}return i}}],[{key:"Claim",value:function(e){for(var t="",i=[],r=0,s=e.Flag();e.Ptr<e.Code.length&&r>=0;){var o=e.Code[e.Ptr++];switch(o){case"$":if(e.Code[e.Ptr].match(/\d/)){i.push([0,t]);var a=e.Claim(/\d+/);i.push([1,"".concat(a.Body[0])]),t=""}else{var l;t+=null!==(l=e.Code[e.Ptr++])&&void 0!==l?l:""}break;case"#":if(e.Code[e.Ptr].match(/\d/)){i.push([0,t]);var c=e.Claim(/\d+/);i.push([2,"".concat(c.Body[0])]),t=""}else t+="#";break;case"{":r++,t+="{";break;case"}":if(--r<0){e.Ptr--;break}t+="}";break;default:t+=o}}if(t.length>0&&i.push([0,t]),r>=0)return s.Fail(),null;var u=new n(e,s);return u.Chunks=i,u}}]),n}(N),Te=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Name=void 0,e.Description=[],e.Body=void 0,e}return h(n,[{key:"Evaluate",value:function(){return[]}},{key:"DefinitelyReturns",value:function(){return!1}}],[{key:"Claim",value:function(e){var t,i,r,s=e.Claim(/macro\b/);if(!s.Success)return null;var o=oe.Claim(e);if(!e.Claim(/\(/).Success)return s.Fail(),null;var a=we.ClaimMany(e);if(0===a.length)return s.Fail(),null;if(!e.Claim(/\)/).Success)return s.Fail(),null;if(!e.Claim(/\{/).Success)return s.Fail(),null;var l=Ae.Claim(e);if(!l)return s.Fail(),null;if(!e.Claim(/\}/).Success)return s.Fail(),null;var c=new n(e,s);return c.Name=null!==o&&void 0!==o?o:void 0,c.Description=a,c.Body=l,null!==(r=(t=n.Macros)[i=e.File])&&void 0!==r||(t[i]=[]),n.Macros[e.File].push(c),c}}]),n}(G);Te.Macros={};var Re=0,$e=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Text="",e.Unpacked=void 0,e}return h(n,[{key:"Simplify",value:function(e){if(Re>=1001)throw new Error("Exceeded maximum Macro-depth!");try{if(Re++,!this.Unpacked){var t=new Fe(this.Text,this.Claimer.File),n=Q.Claim(t);if(null===n)throw new Error("Failed to resolve macro to expression! Expanded: ".concat(this.Text));this.Unpacked=n}return ie(this.Unpacked)?this.Unpacked.Simplify(e):null}catch(i){if(i instanceof Error&&"Exceeded maximum Macro-depth!"===i.message)throw i;throw Re--,i}}},{key:"Evaluate",value:function(e){if(Re>=1001)throw new Error("Exceeded maximum Macro-depth!");try{if(Re++,!this.Unpacked){var t=new Fe(this.Text,this.Claimer.File),n=Q.Claim(t);if(null===n)throw new Error("Failed to resolve macro to expression! Expanded: ".concat(this.Text));this.Unpacked=n}var i=this.Unpacked.TryEvaluate(e);return Re--,i}catch(r){if(r instanceof Error&&"Exceeded maximum Macro-depth!"===r.message)throw r;throw Re--,r}}},{key:"GetTypes",value:function(e){if(!this.Unpacked){var t=new Fe(this.Text,this.Claimer.File),n=Q.Claim(t);if(null===n)throw new Error("Failed to resolve macro to expression! Expanded: ".concat(this.Text));this.Unpacked=n}return this.Unpacked.GetTypes(e)}},{key:"DefinitelyReturns",value:function(e){if(!this.Unpacked){var t=new Fe(this.Text,this.Claimer.File),n=Q.Claim(t);if(null===n)throw new Error("Failed to resolve macro to expression! Expanded: ".concat(this.Text));this.Unpacked=n}return this.Unpacked.DefinitelyReturns(e)}},{key:"PotentiallyReturns",value:function(e){if(!this.Unpacked){var t=new Fe(this.Text,this.Claimer.File),n=Q.Claim(t);if(null===n)throw new Error("Failed to resolve macro to expression! Expanded: ".concat(this.Text));this.Unpacked=n}return this.Unpacked.PotentiallyReturns(e)}}],[{key:"Claim",value:function(e){var t,i,r=null!==(t=Te.Macros[e.File])&&void 0!==t?t:[];null===(i=W.Includes[e.File])||void 0===i||i.forEach((function(e){var t;return r.push.apply(r,s(null!==(t=Te.Macros[e])&&void 0!==t?t:[]))}));for(var o=e.Flag(),a=0;a<r.length;a++){var l=r[a];if(!l.Description[0].OnlyRightClaim()){var c=[];if(null!==we.TryClaimAll(l.Description,e,c)){var u=new n(e,o);return u.Text=l.Body.Stringify(c),u}}}return null}},{key:"RightClaim",value:function(e,t){var i,r,o=null!==(i=Te.Macros[t.File])&&void 0!==i?i:[];null===(r=W.Includes[t.File])||void 0===r||r.forEach((function(e){var t;return o.push.apply(o,s(null!==(t=Te.Macros[e])&&void 0!==t?t:[]))}));for(var a=t.Flag(),l=0;l<o.length;l++){var c=o[l],u=[];if(null!==we.TryRightClaimAll(e,c.Description,t,u)){var h=new n(t,a);return h.Text=c.Body.Stringify(u),h}}return null}}]),n}(Q);G.RegisterTopLevel(Te.Claim),Q.Register($e.Claim),Q.RegisterRight($e.RightClaim);var Ee=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Body=null,e}return h(n,[{key:"Evaluate",value:function(e){var t=[],n=this.Body.TryEvaluate(e);t.push.apply(t,s(n[1]));for(var i=0;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));return t}},{key:"DefinitelyReturns",value:function(){return!1}}],[{key:"Claim",value:function(e){var t=Q.Claim(e);if(null===t)return null;var i=new n(e,t.Claim);return i.Body=t,i}}]),n}(G);G.Register(Ee.Claim);var Le=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Instructions=[],e.RetTypes=[],e.IsFunction=!1,e.ArgTypes=[],e.Target=null,e.FuncLabel=void 0,e}return h(n,[{key:"Evaluate",value:function(e){if(this.IsFunction){var t,n,i,r,o;if(!this.FuncLabel)this.FuncLabel=e.GetSafeName("asmfunction_".concat(null!==(t=null===(n=this.ArgTypes)||void 0===n?void 0:n.join("_"))&&void 0!==t?t:"","_").concat(null!==(i=null===(r=this.RetTypes)||void 0===r?void 0:r.join("_"))&&void 0!==i?i:"")),(o=e.Assembly).push.apply(o,[this.GetLine()].concat(["".concat(this.FuncLabel,":")].concat(s(this.Instructions.map((function(t){return t.replace(/\[([a-zA-Z_]\w*\b)\]/,(function(t,n){return e.Get(n)[1]}))}))))));var a=[];return null!==this.Target&&(e.Set(this.Target.Name,this.GetTypes()[0],!0),a.push("xpush ".concat(this.FuncLabel)),a.push.apply(a,s(this.Target.Assign(e)))),a.push("xpush ".concat(this.FuncLabel)),[this.GetTypes(),a]}return[this.RetTypes,[this.GetLine()].concat(s(this.Instructions.map((function(t){return t.replace(/\[([a-zA-Z_]\w*\b)\]/,(function(t,n){return e.Get(n)[1]}))}))))]}},{key:"GetTypes",value:function(){if(this.IsFunction){var e=new Fe("",""),t=e.Flag(),n=new Ue(e,t);return n.ArgTypes=this.ArgTypes,n.RetTypes=this.RetTypes,[n]}return this.RetTypes}},{key:"DefinitelyReturns",value:function(){return!1}}],[{key:"ClaimASMFunction",value:function(e,t){var i=e.Claim(/function\b/);if(!i.Success)return null;var r=oe.Claim(e),s=He.CurrentGenericArgs;for(var o in He.CurrentGenericArgs={},s)He.CurrentGenericArgs[o]=s[o];var a=[],l=0;if(e.Claim(/</).Success){for(var c=oe.Claim(e);null!==c&&(a.push("functiongeneric$"+l),He.CurrentGenericArgs[c.Name]="functiongeneric$"+l++,e.Claim(/,/).Success);)c=oe.Claim(e);if(!e.Claim(/>/).Success)return He.CurrentGenericArgs=s,i.Fail(),null}if(!e.Claim(/\(/).Success)return i.Fail(),He.CurrentGenericArgs=s,null;for(var u=[],h=He.Claim(e);null!==h&&(u.push(h),e.Claim(/,/).Success);)h=He.Claim(e);if(!e.Claim(/\)/).Success)return i.Fail(),null;var d=null;if(e.Claim(/->/).Success){d=[];for(var f=He.Claim(e);null!==f&&(d.push(f),e.Claim(/,/).Success);)f=He.Claim(e)}if(He.CurrentGenericArgs=s,!e.Claim(/\{/).Success)return i.Fail(),null;var p=e.Claim(/([^}]*)\}/);if(!p.Success)return i.Fail(),null;var g=new n(e,t);return g.Instructions=p.Body[1].split("\n").map((function(e){return e.replace(/^\s+/,"")})),g.RetTypes=d||[],g.IsFunction=!0,g.ArgTypes=u,g.Target=r,g}},{key:"Claim",value:function(e){var t=e.Claim(/asm\b/);if(!t.Success)return null;var i=n.ClaimASMFunction(e,t);if(null!==i)return i;var r=[];if(e.Claim(/->/).Success)for(var s=He.Claim(e);null!==s&&(r.push(s),e.Claim(/,/).Success);)s=He.Claim(e);if(!e.Claim(/\{/).Success)return t.Fail(),null;var o=e.Claim(/([^}]*)\}/);if(!o.Success)return t.Fail(),null;var a=new n(e,t);return a.Instructions=o.Body[1].split("\n").map((function(e){return e.replace(/^\s+/,"")})),a.RetTypes=r,a}}]),n}(Q);Q.Register(Le.Claim);var Me=["abstract","asm","class","const","defer","discard","else","func","function","if","include","int","label","macro","metamethod","new","params","reserve","return","static","struct","temp","using","var","void","while"],Ie=function(){function e(t,n,i){a(this,e),this.Claimer=void 0,this.Body=void 0,this.StartIndex=void 0,this.Success=!1,this.Body=n,this.StartIndex=i,this.Claimer=t,this.Success=void 0!==n}return h(e,[{key:"Fail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.Success&&(this.Success=e,this.Claimer.Ptr=Math.min(this.Claimer.Ptr,this.StartIndex))}}]),e}(),Fe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a(this,e),this.File=void 0,this.Code=void 0,this.Ptr=0,this.Best=0,this.Expecting=!0,this.Expected="",this.Code=t,this.File=n}return h(e,[{key:"Claim",value:function(e){this.Skip(),this.Expecting&&(this.Expected=e.source,this.Expecting=!1),e=new RegExp(e.source,e.flags+(e.sticky?"":"y"));var t=this.Code.substring(this.Ptr).match(e);if(!t)return new Ie(this,void 0,this.Ptr);var n=new Ie(this,t,this.Ptr);return this.Ptr+=t[0].length,this.Ptr>this.Best&&(this.Best=this.Ptr,this.Expecting=!0,this.Expected=""),n}},{key:"Flag",value:function(){var e=new Ie(this,void 0,this.Ptr);return e.Success=!0,e}},{key:"Skip",value:function(){var e=this.Code.substring(this.Ptr).match(/^(\s|\/\/.*|\/\*(.|\s)*?\*\/)+/);e&&(this.Ptr+=e[0].length)}}]),e}(),Pe={},De={};function Be(e){if(!De[e]){var t=Pe[e];if(t){De[e]=t;for(var n=new Fe(t,e),i=[],r=G.ClaimTopLevel(n);null!==r;)i.push(r),n.Claim(/;/),r=G.ClaimTopLevel(n);if(n.Skip(),W.Parsed[e]=i,n.Ptr<t.length){var s=n.Flag();s.StartIndex=n.Best;var o=new ye(n,s);throw new O([o],0===n.Expected.length?"Unexpected end of code.":"Unexpected token (Expected ".concat(n.Expected,")"))}}}}var Ne=!1,Oe=void 0;function Ge(e){return ze.apply(this,arguments)}function ze(){return ze=p(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe=t,e.abrupt("return",new Promise((function(e,n){for(var i in Oe&&(clearInterval(Oe),Oe=void 0),De)if(t[i]!==De[i]&&(delete W.Parsed[i],delete W.Includes[i],delete De[i],Te.Macros[i])){De={},W.Parsed={},W.Includes={},W.Evaluated={},Te.Macros={};break}He.CurrentGenericArgs={};var r=new Y;if(Y.CURRENT=r,r.Assembly.push("file main.bc"),r.Assembly.push("jmp postdata"),r.RequireAllocator(),!t["main.bc"])throw new Error("Expected entry file (main.bc)");for(var o in t)De[o]||Be(o);if(W.Parsed["main.bc"].every((function(e){return e instanceof Ee&&e.Body instanceof Le}))){var a=W.Parsed["main.bc"].map((function(e){return e.Body.Instructions})).flat();return r.Assembly=a,Ne=!0,void e(r)}Ne=!1;for(var l=W.Parsed["main.bc"].filter((function(e){return e instanceof ve})),c=[],u=["main.bc"],h=function(){var e=new Set,t=l;u.forEach((function(n){if(c.push(n),!W.Parsed[n])throw new Error("Cannot find included file ".concat(n));t.push.apply(t,s(W.Parsed[n].filter((function(e){return e instanceof ve})))),W.Parsed[n].filter((function(e){return e instanceof W})).map((function(e){return e.Path})).forEach((function(t){return e.add(t)}))})),u=s(e).filter((function(e){return!c.includes(e)}))};u.length>0;)h();var d=0;console.log(l.map((function(e){return e.Name.Name})));for(var f=function(){d=l.length;var e=new Set;l.forEach((function(t){return e.add(t.FromFile)})),console.log(l,W.Includes,e),l=l.filter((function(t){return console.log(t.FromFile,t.Name.Name),!(void 0===W.Includes[t.FromFile]||!s(W.Includes[t.FromFile]).some((function(t){return e.has(t)})))||!t.TrySetup(r)}))};l.length>0&&l.length!==d;)f();if(l.length>0)throw console.log(l),new Error("Failed to resolve types: ".concat(l.map((function(e){return e.Name})).join(", ")));Oe=setTimeout((function(){try{var t,i=[];W.Evaluated={};for(var o=0;o<W.Parsed["main.bc"].length;o++)i.push.apply(i,s(W.Parsed["main.bc"][o].TryEvaluate(r)));r.MaxScratchRequired>0&&r.Assembly.push("".concat(r.GetScratch(0),": db ").concat(new Array(r.MaxScratchRequired).fill(0).join(","))),(t=r.Assembly).push.apply(t,["postdata:"].concat(i,s(r.Deferred))),r.Assembly.push("halt"),r.UsingAllocator()&&r.Assembly.push("aftercode: db 1, 0"),console.dir(W.Parsed["main.bc"]),console.dir(r),e(r)}catch(a){n(a)}}),300)})));case 2:case"end":return e.stop()}}),e)}))),ze.apply(this,arguments)}function We(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null!==(t=e)&&void 0!==t||(e=0),("0".repeat(n)+e.toString(16).toUpperCase()).slice(-n)}var He=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).PointerDepth=0,e.TypeName="",e.Generics=[],e}return h(n,[{key:"Equals",value:function(e){return"var"===this.TypeName||!(e instanceof Ue)&&(this.TypeName===e.TypeName&&this.PointerDepth===e.PointerDepth)}},{key:"IsWide",value:function(){var e,t;return this.IsDefined()&&null!==(e=null===(t=this.GetDefinition())||void 0===t?void 0:t.Wide)&&void 0!==e&&e}},{key:"CastableFrom",value:function(e){if("var"===this.TypeName)return!0;if("discard"===this.TypeName)return!0;if("discard"===e.TypeName)return!1;if("void"===this.TypeName||this.TypeName.startsWith("functiongeneric$"))return this.PointerDepth<=e.PointerDepth;if("void"===e.TypeName||e.TypeName.startsWith("functiongeneric$"))return this.PointerDepth>=e.PointerDepth;if(!(e instanceof Ue)&&this.TypeName===e.TypeName&&this.PointerDepth===e.PointerDepth)return!0;this.GetDefinition();return!1}},{key:"AssignableFrom",value:function(e){if("var"===this.TypeName)return!0;if("discard"===this.TypeName)return!0;if("discard"===e.TypeName)return!1;if("void"===this.TypeName||this.TypeName.startsWith("functiongeneric$"))return!e.IsWide()&&this.PointerDepth<=e.PointerDepth;if("void"===e.TypeName||e.TypeName.startsWith("functiongeneric$"))return!this.IsWide()&&this.PointerDepth>=e.PointerDepth;if(!(e instanceof Ue)&&this.TypeName===e.TypeName&&this.PointerDepth<=e.PointerDepth)return!0;this.GetDefinition();return!1}},{key:"ConvertFrom",value:function(e){if(!this.AssignableFrom(e))throw new Error("Cannot convert from ".concat(e," to ").concat(this,"!"));if("var"===this.TypeName)return[];var t=[];if(this.PointerDepth<e.PointerDepth){t.push("xpopa");for(var n=this.PointerDepth;n<e.PointerDepth;n++)t.push("ptra");t.push("xpusha")}return"void"===this.TypeName||"void"===e.TypeName||this.TypeName.startsWith("functiongeneric$")||e.TypeName.startsWith("functiongeneric$"),t}},{key:"Debug",value:function(e,t,n,i,r){var s,o,a,l,c,u=((null!==(s=t.Heap[4*r])&&void 0!==s?s:0)<<24)+((null!==(o=t.Heap[4*r+1])&&void 0!==o?o:0)<<16)+((null!==(a=t.Heap[4*r+2])&&void 0!==a?a:0)<<8)+(null!==(l=t.Heap[4*r+3])&&void 0!==l?l:0);if(e.DebuggedVals.has(r))return"<span class='var' title='".concat(n,"'><b>").concat(this.ToHTML(),"</b> ").concat(i,"</span> = ").concat(We(u,8));if(e.DebuggedVals.add(r),0===this.PointerDepth&&(c=e.UserTypes[this.TypeName])&&(c.Wide||u>0)){var h=c.Wide?r:u,d=(c.Wide||t.Heap[u],We(h,8)),f="<span class='var' title='".concat(n,"'><b>").concat(this.ToHTML(),"</b> ").concat(i,"</span> = ").concat(d," {<br>"),p=[];for(var g in c&&this.Generics.length>0&&(c=c.WithGenerics(this.Generics)),c.Children){var m=c.Children[g];p[m[1]]=[m[0],m[1],m[2],g]}for(var v=0;v<p.length;v++){var y,b,w,C,S=p[v];if(S){var x=((null!==(y=t.Heap[4*(h+S[1])])&&void 0!==y?y:0)<<24)+((null!==(b=t.Heap[4*(h+S[1])+1])&&void 0!==b?b:0)<<16)+((null!==(w=t.Heap[4*(h+S[1])+2])&&void 0!==w?w:0)<<8)+((null!==(C=t.Heap[4*(h+S[1])+3])&&void 0!==C?C:0)<<0),k=+S[2];t.Labels[S[2]]&&(k=t.Labels[S[2]]),x!==k&&(f+="\t"+S[0].Debug(e,t,"",S[3],h+S[1]).replace(/<br>(?!$)/g,"<br>\t")+"<br>")}}return f+"}"}var _=We(u,8);return"<span class='var' title='".concat(n,"'><b>").concat(this,"</b> ").concat(i,"</span> = ").concat(_)}},{key:"ToHTML",value:function(){return this.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{key:"toString",value:function(){return this.TypeName.startsWith("classgeneric$"),this.Generics.length>0?"".concat("@".repeat(this.PointerDepth)).concat(this.TypeName,"<").concat(this.Generics,">"):"".concat("@".repeat(this.PointerDepth)).concat(this.TypeName)}},{key:"Clone",value:function(){var e=new n(this.Claimer,this.Claim);return e.PointerDepth=this.PointerDepth,e.TypeName=this.TypeName,e.Generics=this.Generics.concat(),e}},{key:"WithPointerDepth",value:function(e){var t=this.Clone();return t.PointerDepth=e,t}},{key:"WithDeltaPointerDepth",value:function(e){var t=this.Clone();if(t.PointerDepth+=e,t.PointerDepth<0)throw new Error("Pointer depth cannot be negative!");return t}},{key:"HasDefinition",value:function(){return this.PointerDepth,"int"===this.TypeName||("void"===this.TypeName||!!Y.CURRENT.UserTypes[this.TypeName])}},{key:"IsDefined",value:function(){return this.PointerDepth>0||("int"===this.TypeName||("void"===this.TypeName||("discard"===this.TypeName||("COMPILER"===this.TypeName||(!!this.TypeName.startsWith("classgeneric$")||(!!this.TypeName.startsWith("metamethodgeneric$")||(!!this.TypeName.startsWith("functiongeneric$")||(!!this.TypeName.startsWith("symbolic$")||!!Y.CURRENT.UserTypes[this.TypeName]))))))))}},{key:"GetDefinition",value:function(){if(this.PointerDepth>0)return A();if("int"===this.TypeName)return x;if("void"===this.TypeName)return k;if("discard"===this.TypeName)return _;if("COMPILER"===this.TypeName)return T;if(this.TypeName.startsWith("classgeneric$"))return k;if(this.TypeName.startsWith("metamethodgeneric$"))return k;if(this.TypeName.startsWith("functiongeneric$"))return k;var e=Y.CURRENT.UserTypes[this.TypeName];if(!e&&this.TypeName.startsWith("symbolic$")&&((e=new S).Name=this.TypeName,e.Wide=!0,e.Size=0,Y.CURRENT.UserTypes[this.TypeName]=e),!e)throw new Error("Undefined type ".concat(this.TypeName));return this.Generics.length>0&&(e=e.WithGenerics(this.Generics)),e}},{key:"WithGenerics",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.TypeName.startsWith("classgeneric$")){var n=e[+this.TypeName.substr(13)].Clone();if(n.IsWide())throw new Error("Wide-Types may not be used in generics, use a pointer instead.");return n.PointerDepth+=this.PointerDepth,n}var i=this.Clone();if(t)for(var r=0;r<i.Generics.length;r++)i.Generics[r]=i.Generics[r].WithGenerics(e,!0);return i}},{key:"WithFunctionGenerics",value:function(e){if(this.TypeName.startsWith("functiongeneric$")){var t=e[+this.TypeName.substr(16)].Clone();if(t.IsWide())throw new Error("Wide-Types may not be used in generics, use a pointer instead.");t.PointerDepth+=this.PointerDepth;for(var n=0;n<t.Generics.length;n++)t.Generics[n]=t.Generics[n].WithFunctionGenerics(e);return t}return this}},{key:"XPop",value:function(){var e=this.GetDefinition();return e.Wide?new Array(e.Size).fill("xpop"):["xpop"]}},{key:"YPop",value:function(){var e=this.GetDefinition();return e.Wide?new Array(e.Size).fill("ypop"):["ypop"]}},{key:"FlipXY",value:function(){var e=this.GetDefinition();return e.Wide?new Array(e.Size).fill(["xpopa","ypusha"]).flat():["xpopa","ypusha"]}},{key:"FlipYX",value:function(){var e=this.GetDefinition();return e.Wide?new Array(e.Size).fill(["ypopa","xpusha"]).flat():["ypopa","xpusha"]}},{key:"Put",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b",n=this.GetDefinition(),i="a"===t?"b":"a";return n.Wide?new Array(n.Size).fill(["".concat(e,"pop").concat(i),"put".concat(i,"ptr").concat(t),"inc".concat(t)]).flat().slice(0,-1):["".concat(e,"pop").concat(i),"put".concat(i,"ptr").concat(t)]}},{key:"Get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"b",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.GetDefinition(),r="a"===t?"b":"a";if(!i.Wide)return["cpy".concat(t).concat(r),"ptr".concat(r),"".concat(e,"push").concat(r)];if(0===i.Size)return[];var o=[];return n||o.push("add".concat(t," ").concat(i.Size-1)),o.push.apply(o,s(new Array(i.Size).fill(["cpy".concat(t).concat(r),"ptr".concat(r),"".concat(e,"push").concat(r),n?"inc".concat(t):"dec".concat(t)]).flat().slice(0,-1))),o}},{key:"FlipX",value:function(){var e=this.GetDefinition();return e.Wide?0===e.Size?[]:["setb ".concat(Y.CURRENT.GetScratch(e.Size))].concat(s(this.Put()),["setb ".concat(Y.CURRENT.GetScratch(e.Size))],s(this.Get("x","b",!0))):[]}},{key:"FlipY",value:function(){var e=this.GetDefinition();return e.Wide||0===e.Size?[]:["setb ".concat(Y.CURRENT.GetScratch(e.Size))].concat(s(this.Put("y")),["setb ".concat(Y.CURRENT.GetScratch(e.Size))],s(this.Get("y","a",!0)))}},{key:"CloneA",value:function(){var e=this.GetDefinition();if(!e.Wide)return["xpopa","xpusha","xpusha"];if(0===e.Size)return[];var t=Y.CURRENT.GetScratch(e.Size);return["setb ".concat(t)].concat(s(this.Put()),["setb ".concat(t)],s(this.Get("x","b")),["setb ".concat(t)],s(this.Get("x","b")))}},{key:"CloneB",value:function(){var e=this.GetDefinition();if(!e.Wide)return["xpopa","xpusha","xpusha"];if(0===e.Size)return[];var t=Y.CURRENT.GetScratch(e.Size);return["setb ".concat(t)].concat(s(this.Put("y")),["setb ".concat(t)],s(this.Get("y","b")),["setb ".concat(t)],s(this.Get("y","b")))}}],[{key:"Claim",value:function(e){var t=Ue.Claim(e);if(null!==t)return t;var i=e.Flag(),r=0,s=e.Claim(/@+/);s.Success&&(r=s.Body[0].length);var o=e.Claim(/(int|void|discard|[a-zA-Z_]\w*)\b/);if(!o.Success)return null;if(Me.includes(o.Body[0])&&"int"!==o.Body[0]&&"void"!==o.Body[0]&&"discard"!==o.Body[0])return i.Fail(),null;var a=[],l=e.Flag();if(e.Claim(/</).Success){for(;;){var c=n.Claim(e);if(null===c){a=[],l.Fail();break}if(a.push(c),!e.Claim(/,/).Success)break}e.Claim(/>/).Success||(a=[],l.Fail())}var u=new n(e,i);return u.TypeName=o.Body[0],void 0!==n.CurrentGenericArgs[u.TypeName]&&(u.TypeName=n.CurrentGenericArgs[u.TypeName]),u.PointerDepth=r,u.Generics=a,u}},{key:"AllEquals",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].Equals(t[n]))return!1;return!0}},{key:"MostSimilar",value:function(e,t){if(!1===e||!1===t)return!!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&(e||t);for(var i=[],r=0;r<e.length&&r<t.length;r++)if(n.CanCoax([e[r]],[t[r]])[1])i.push(t[r]);else{if(!n.CanCoax([t[r]],[e[r]])[1])break;i.push(e[r])}return i}},{key:"CountMatches",value:function(e,t){for(var n=Math.min(e.length,t.length),i=0,r=0;r<n;r++)e[r].Equals(t[r])&&i++;return i}},{key:"oldCanCoax",value:function(e,t){for(var n=0,i=0;i<e.length;i++){for(;n<t.length&&!e[i].AssignableFrom(t[n]);)n++;if(n>=t.length)return!1}return!0}},{key:"CanCoaxSoft",value:function(e,t){for(var n=0,i=0;i<e.length;i++){if(!e[i].AssignableFrom(t[n]))return!1;n++,i++}return!0}},{key:"CanCoax",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Y.CURRENT,a=0,l=0;l<e.length;){if(a>=t.length)return[!1];for(var c=function(){if(r&&a>0)return{v:[!1,0]};if(e[l].AssignableFrom(t[a]))return a++,l++,"break";var c,d;if(c=o.CacheGet("cast",t.slice(a).map((function(e){return e.toString()})).join(",")+"&"+e.slice(l).map((function(e){return e.toString()})).join(",")))return l+=c[0].length,a+=n.CanCoax(c[1],t.slice(a),i,!0)[1],"break";u=new Set,null===(d=o.MetaMethods.cast)||void 0===d||d.forEach((function(e){return u.add(e)}));var f=s(u).filter((function(e){var t;return"GLOBAL"===e[4]||e[4]===o.CurrentFile||(null===(t=W.Includes[o.CurrentFile])||void 0===t?void 0:t.has(e[4]))})).filter((function(t){return n.CanCoaxSoft(e.slice(l,l+t[0].length),t[0])})).map((function(e){return o.RemapGenericMetamethod(e,t,!1)}));if(f=(f=f.filter((function(e){return!i.has(e)}))).filter((function(e){var r=new Set(i);return r.add(e),n.CanCoax(e[1],t.slice(a),r,!0)[0]})),(h=f.map((function(i){return[i,100*n.CountMatches(e.slice(l),i[0])+n.CountMatches(i[1],t.slice(a))]}))).sort((function(e,t){return t[1]-e[1]})),0===h.length)return a++,"continue";var p=h[0][1];if((h=h.filter((function(e){return e[1]>=p}))).length>1)return{v:[!1,0]};var g=h[0][0];l+=g[0].length;var m=new Set(i);m.add(g);var v=n.CanCoax(g[1],t.slice(a),m,!0);return a+=v[1],v[0]&&o.TrySlowCache("cast",t.slice(a).map((function(e){return e.toString()})).join(",")+"&"+e.slice(l).map((function(e){return e.toString()})).join(","),[g[0],g[1],g[2]]),"break"};a<t.length;){var u,h,d=c();if("break"===d)break;if("continue"!==d&&"object"===typeof d)return d.v}r=!1}return[!0,a]}},{key:"Coax",value:function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Y.CURRENT,l=0,c=[],u=0;u<t.length;u++)c.push.apply(c,s(t[u].FlipXY()));for(var h=[],d=0;d<e.length;){if(l>=t.length)throw new Error("Failed to Coax (Missed check?)");for(var f=function(){if(o&&l>0)throw new Error("Failed to Coax (Missed check?)");if(e[d].AssignableFrom(t[l]))return c.push.apply(c,s(t[l].FlipYX())),c.push.apply(c,s(e[d].ConvertFrom(t[l]))),h.push(t[l]),l++,d++,"break";var r;if(!(r=a.CacheGet("cast",t.slice(l).map((function(e){return e.toString()})).join(",")+"&"+e.slice(d).map((function(e){return e.toString()})).join(",")))){var u;p=new Set,null===(u=a.MetaMethods.cast)||void 0===u||u.forEach((function(e){return p.add(e)}));var f=s(p).map((function(e){return a.RemapGenericMetamethod(e,t,!1)}));if(f=f.filter((function(e){return!i.has(e)})),f=f.filter((function(t){return n.CanCoaxSoft(e.slice(d,d+t[0].length),t[0])})),f=f.filter((function(e){var r=new Set(i);return r.add(e),n.CanCoax(e[1],t.slice(l),r,!0)[0]})),g=f.map((function(i){return[i,100*n.CountMatches(e.slice(d),i[0])+n.CountMatches(i[1],t.slice(l))]})),g.sort((function(e,t){return t[1]-e[1]})),0===g.length)throw new Error("Failed to Coax (Missed check?)");var v=g[0][1];if(g=g.filter((function(e){return e[1]>=v})),g.length>1)throw new Error("Ambigious casts from ".concat(t.slice(l)," to ").concat(e.slice(d)," (").concat(g.length," choices)"));var y=g[0][0];(m=new Set(i)).add(y);for(var b=n.CanCoax(y[1],t.slice(l),m,!0),w=0;w<b[1];w++)c.push.apply(c,s(t[l+w].FlipYX()));return c.push.apply(c,s(n.Coax(y[1],t.slice(l,l+b[1]),m,!1,!0)[0])),c.push.apply(c,s(y[2])),h.push.apply(h,s(y[0])),b[0]&&a.TrySlowCache("cast",t.slice(l).map((function(e){return e.toString()})).join(",")+"&"+e.slice(d).map((function(e){return e.toString()})).join(","),[y[0],y[1],y[2]]),d+=y[0].length,l+=b[1],"break"}for(var C=n.CanCoax(r[1],t.slice(l),i,!0)[1],S=0;S<C;S++)c.push.apply(c,s(t[l+S].FlipYX()));c.push.apply(c,s(n.Coax(r[1],t.slice(l,l+C),i,!1,!0)[0])),c.push.apply(c,s(r[2])),h.push.apply(h,s(r[0])),d+=r[0].length,l+=C};l<t.length;){var p,g,m;if("break"===f())break}o=!1}if(r)for(;l<t.length;)c.push.apply(c,s(t[l++].YPop()));return[c,l,h]}}]),n}(N);He.CurrentGenericArgs={},He.Int=void 0,He.Void=void 0,He.IntPtr=void 0,He.VoidPtr=void 0,He.Any=void 0,He.Type=void 0,He.String=void 0,He.Discard=void 0,He.Compiler=void 0;var Ue=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).ArgTypes=[],e.RetTypes=[],e}return h(n,[{key:"Equals",value:function(e){if(!(e instanceof n))return!1;if(e.ArgTypes.length!=this.ArgTypes.length)return!1;if(e.RetTypes.length!=this.RetTypes.length)return!1;if(e.PointerDepth!=this.PointerDepth)return!1;for(var t=0;t<this.ArgTypes.length;t++)if(!this.ArgTypes[t].Equals(e.ArgTypes[t]))return!1;for(t=0;t<this.RetTypes.length;t++)if(!this.RetTypes[t].Equals(e.RetTypes[t]))return!1;return!0}},{key:"CastableFrom",value:function(e){if("void"===e.TypeName||e.TypeName.startsWith("functiongeneric$"))return this.PointerDepth>=e.PointerDepth;if(!(e instanceof n))return!1;if(e.PointerDepth<this.PointerDepth)return!1;if(this.ArgTypes.length!=e.ArgTypes.length)return!1;if(this.RetTypes.length!=e.RetTypes.length)return!1;for(var t=0;t<this.ArgTypes.length;t++)if(!e.ArgTypes[t].CastableFrom(this.ArgTypes[t]))return!1;for(var i=0;i<this.RetTypes.length;i++)if(!this.RetTypes[i].CastableFrom(e.RetTypes[i]))return!1;return!0}},{key:"AssignableFrom",value:function(e){if("void"===e.TypeName||e.TypeName.startsWith("functiongeneric$"))return this.PointerDepth>=e.PointerDepth;if(!(e instanceof n))return!1;if(e.PointerDepth<this.PointerDepth)return!1;if(this.ArgTypes.length!=e.ArgTypes.length)return!1;if(this.RetTypes.length!=e.RetTypes.length)return!1;for(var t=0;t<this.ArgTypes.length;t++)if(!e.ArgTypes[t].CastableFrom(this.ArgTypes[t]))return!1;for(var i=0;i<this.RetTypes.length;i++)if(!this.RetTypes[i].CastableFrom(e.RetTypes[i]))return!1;return!0}},{key:"ConvertFrom",value:function(e){if(!this.AssignableFrom(e))throw new Error("cannot cast from ".concat(e," to ").concat(this));return[]}},{key:"toString",value:function(){return 0===this.PointerDepth?"func(".concat(this.ArgTypes,")").concat(this.RetTypes.length>0?"->"+this.RetTypes:""):"".concat("@".repeat(this.PointerDepth),"(func(").concat(this.ArgTypes,")").concat(this.RetTypes.length>0?"->"+this.RetTypes:"",")")}},{key:"Clone",value:function(){var e=new n(this.Claimer,this.Claim);return e.PointerDepth=this.PointerDepth,e.TypeName=this.TypeName,e.ArgTypes=this.ArgTypes.concat(),e.RetTypes=this.RetTypes.concat(),e.Generics=this.Generics,e}},{key:"GetDefinition",value:function(){return this.PointerDepth>0?A():new S}},{key:"WithGenerics",value:function(e){var t=this.Clone();return t.ArgTypes=t.ArgTypes.map((function(t){return t.WithGenerics(e)})),t.RetTypes=t.RetTypes.map((function(t){return t.WithGenerics(e)})),t}},{key:"WithFunctionGenerics",value:function(e){var t=this.Clone();return t.ArgTypes=t.ArgTypes.map((function(t){return t.WithFunctionGenerics(e)})),t.RetTypes=t.RetTypes.map((function(t){return t.WithFunctionGenerics(e)})),t}}],[{key:"Claim",value:function(e){var t=e.Flag(),i=0,r=e.Claim(/@+/);r.Success&&(i=r.Body[0].length);var s=e.Claim(/\(/);if(!e.Claim(/func\b/).Success)return t.Fail(),null;if(!e.Claim(/\(/).Success)return t.Fail(),null;for(var o=[],a=He.Claim(e);null!==a&&(o.push(a),e.Claim(/,/).Success);)a=He.Claim(e);if(!e.Claim(/\)/).Success)return t.Fail(),null;var l=[];if(e.Claim(/->/).Success)for(var c=He.Claim(e);null!==c&&(l.push(c),e.Claim(/,/).Success);)c=He.Claim(e);if(s.Success&&!e.Claim(/\)/).Success)return t.Fail(),null;var u=new n(e,t);return u.ArgTypes=o,u.RetTypes=l,u.PointerDepth=i,u}}]),n}(He),Ve=new Fe(""),je=Ve.Flag();He.Int=new He(Ve,je),He.Int.TypeName="int",He.Void=new He(Ve,je),He.Void.TypeName="void",He.IntPtr=new He(Ve,je),He.IntPtr.TypeName="int",He.IntPtr.PointerDepth=1,He.VoidPtr=new He(Ve,je),He.VoidPtr.TypeName="void",He.VoidPtr.PointerDepth=1,He.Any=new He(Ve,je),He.Any.TypeName="var",He.String=new He(Ve,je),He.String.TypeName="string",He.Discard=new He(Ve,je),He.Discard.TypeName="discard",He.Compiler=new He(Ve,je),He.Compiler.TypeName="COMPILER";var Ke=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Child=null,e}return h(n,[{key:"Simplify",value:function(e){var t=this.Child.Simplify(e);if(null===t)throw new Error("Could not resolve expression as constant");return t}},{key:"Evaluate",value:function(e){var t=this.Child.Simplify(e);if(null===t)throw new Error("Could not resolve expression as constant");return[this.GetTypes(e),["xpush ".concat((4294967295&t)>>>0)]]}},{key:"GetTypes",value:function(e){return this.Child.GetTypes(e)}}],[{key:"Claim",value:function(e){var t=e.Claim(/const\b/);if(!t.Success)return null;var i=Q.Claim(e);if(!i||!ie(i)||i instanceof ue||i instanceof re&&i.Left instanceof ue)return t.Fail(),null;var r=new n(e,t);return r.Child=i,r}}]),n}(Q);Q.Register(Ke.Claim);var qe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Type=null,e.Arguments=[],e}return h(n,[{key:"Evaluate",value:function(e){var t=[this.GetLine()],n=new Fe(""),i=n.Flag(),r=new He(n,i),o=e.UserTypes[this.Type.Name];if(void 0===o)throw new Error("Cannot find type ".concat(this.Type.Name));var a=o.TypeType;if(!a)throw new Error("Cannot find type type for ".concat(this.Type.Name));var l=a.Children.new;if(void 0===l)throw new Error("Cannot find new method for type ".concat(this.Type.Name));r.TypeName=this.Type.Name;for(var c=[],u=0;u<this.Arguments.length;u++){var h=this.Arguments[u].TryEvaluate(e);t.push.apply(t,s(h[1])),c.push.apply(c,s(h[0]))}c.push(r);var d=e.GetMetamethod(this.Type.Name,c);if(!d)throw new Error("Cannot find constructor new ".concat(c));return t.push.apply(t,s(He.Coax(d[1],c)[0])),t.push("seta ".concat(a.ClassLabel),"adda ".concat(l[1]),"ptra","calla"),t.push.apply(t,s(d[2])),[d[0],t]}},{key:"DefinitelyReturns",value:function(e){for(var t=0;t<this.Arguments.length;t++){var n=this.Arguments[t].DefinitelyReturns(e);if(n)return n}return!1}},{key:"PotentiallyReturns",value:function(e){for(var t=!1,n=0;n<this.Arguments.length;n++){var i=this.Arguments[n].DefinitelyReturns(e);if(i)return i;if((t=He.MostSimilar(t,this.Arguments[n].PotentiallyReturns(e),!0))&&!t.length)return t}return t}},{key:"GetTypes",value:function(e){var t=new Fe(""),n=t.Flag(),i=new He(t,n),r=e.UserTypes[this.Type.Name];if(void 0===r)throw new Error("Cannot find type ".concat(this.Type.Name));var o=r.TypeType;if(!o)throw new Error("Cannot find type type for ".concat(this.Type.Name));if(void 0===o.Children.new)throw new Error("Cannot find new method for type ".concat(this.Type.Name));i.TypeName=this.Type.Name;for(var a=[],l=0;l<this.Arguments.length;l++){var c=this.Arguments[l].TryEvaluate(e);a.push.apply(a,s(c[0]))}a.push(i);var u=e.GetMetamethod(this.Type.Name,a);if(!u)throw new Error("Cannot find constructor new ".concat(a));return u[0]}}],[{key:"Claim",value:function(e){var t=e.Claim(/new\b/);if(!t.Success)return null;var i=oe.Claim(e);if(null===i)return t.Fail(),null;if(!e.Claim(/\(/))return t.Fail(),null;for(var r=[],s=Q.Claim(e);null!==s&&(r.push(s),e.Claim(/,/).Success);)s=Q.Claim(e);if(!e.Claim(/\)/).Success)return t.Fail(),null;var o=new n(e,t);return o.Type=i,o.Arguments=r,o}}]),n}(Q);Q.Register(qe.Claim);var Ye=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Condition=null,e.Body=null,e.Else=null,e}return h(n,[{key:"GetTypes",value:function(e){if(null===this.Else)return[];for(var t=[],n=this.Body.GetTypes(e),i=this.Else.GetTypes(e),r=0;r<n.length;r++){if(n[r]!==i[r])return t;t.push(n[r])}return t}},{key:"Evaluate",value:function(e){if(ie(this.Condition)){var t=this.Condition.Simplify(e);if(null!==t)return(t&=4294967295)?this.Body.TryEvaluate(e):this.Else?this.Else.TryEvaluate(e):[[],[]]}var n=[],i=this.GetTypes(e),r=this.Condition.TryEvaluate(e);n.push.apply(n,[this.GetLine()].concat(s(r[1])));for(var o=1;o<r[0].length;o++)n.push.apply(n,s(r[0][o].XPop()));var a=r[0][0],l=e.GetMetamethod("truthy",[a]);if(null===l)throw new Error("Type ".concat(a," has no truth method"));if(!He.CanCoax([He.Int],l[0])[0])throw new Error("Condition's truthy method must resolve to an int");var c=e.GetSafeName("iftrue".concat(this.Condition.toString())),u=e.GetSafeName("ifdone".concat(this.Condition.toString()));if(n.push.apply(n,s(l[2])),n.push.apply(n,s(He.Coax([He.Int],l[0])[0])),n.push("xpopa","jnza ".concat(c)),null!==this.Else){var h=this.Else.TryEvaluate(e);n.push.apply(n,s(h[1].map((function(e){return"  ".concat(e)}))));for(var d=i.length;d<h[0].length;d++)n.push.apply(n,s(h[0][d].XPop()))}n.push("jmp ".concat(u),"".concat(c,":"));var f=this.Body.TryEvaluate(e);n.push.apply(n,s(f[1].map((function(e){return"  ".concat(e)}))));for(var p=i.length;p<f[0].length;p++)n.push.apply(n,s(f[0][p].XPop()));return n.push("".concat(u,":")),[i,n]}},{key:"DefinitelyReturns",value:function(e){return!(!this.Condition.DefinitelyReturns(e)&&null==this.Else)&&He.MostSimilar(this.Body.DefinitelyReturns(e),this.Else.DefinitelyReturns(e))}},{key:"PotentiallyReturns",value:function(e){var t,n;return He.MostSimilar(this.Condition.DefinitelyReturns(e),He.MostSimilar(this.Body.PotentiallyReturns(e),null!==(t=null===(n=this.Else)||void 0===n?void 0:n.PotentiallyReturns(e))&&void 0!==t&&t,!0),!0)}},{key:"Simplify",value:function(e){if(this.Condition&&ie(this.Condition)){var t=this.Condition.TrySimplify(e);return null===t?null:t?ie(this.Body)?t=this.Body.TrySimplify(e):null:this.Else&&ie(this.Else)?t=this.Else.TrySimplify(e):null}return null}}],[{key:"Claim",value:function(e){var t=e.Claim(/if\b/);if(!t.Success)return null;var i=Q.Claim(e);if(null===i)return t.Fail(),null;var r=Q.Claim(e);if(null===r)return t.Fail(),null;var s=null;if(e.Claim(/else(?:\b|(?=if))/).Success&&null===(s=Q.Claim(e)))return t.Fail(),null;var o=new n(e,t);return o.Condition=i,o.Body=r,o.Else=s,o}}]),n}(Q);Q.Register(Ye.Claim);var Xe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Value=0,e}return h(n,[{key:"Evaluate",value:function(e){return[[He.Int],[this.GetLine(),"xpush ".concat(this.Value)]]}},{key:"GetTypes",value:function(e){return[He.Int]}},{key:"Simplify",value:function(){return this.Value}}],[{key:"Claim",value:function(e){var t=e.Claim(/(?:0[bB][01](?:_?[01])*)|(?:0[xX][0-9A-Fa-f](?:_?[0-9A-Fa-f])*)|(?:\d(?:_?\d)*)/);if(!t.Success)return null;var i=t.Body[0].replace(/_/g,"");i.match(/^\s*(?:\d(?:_?\d)*)$/)&&(i=i.replace(/^\s*0*/,""));var r=+i;if(r>4294967295)throw new Error("Number constant must be between 0x0 and 0xFFFFFFFF");var s=new n(e,t);return s.Value=r,s}}]),n}(Q);Q.Register(Xe.Claim);var Ze=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Value=0,e}return h(n,[{key:"Evaluate",value:function(e){return[[He.Int],[this.GetLine(),"xpush ".concat(this.Value)]]}},{key:"GetTypes",value:function(e){return[He.Int]}}],[{key:"Claim",value:function(e){var t=e.Claim(/'\\?.'/);if(!t.Success)return null;var i=0;i="'\"'"===t.Body[0]?34:JSON.parse(t.Body[0].replace(/'(\\?.)'/,'"$1"')).charCodeAt(0);var r=new n(e,t);return r.Value=i,r}}]),n}(Q);Q.Register(Ze.Claim);var Qe=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Target=null,e}return h(n,[{key:"Evaluate",value:function(e){return[this.Target.GetReferenceTypes(e),this.Target.GetPointer(e)]}},{key:"GetTypes",value:function(e){return this.Target.GetReferenceTypes(e)}},{key:"DefinitlyReturns",value:function(e){return this.Target.DefinitelyReturns(e)}},{key:"PotentiallyReturns",value:function(e){return this.Target.PotentiallyReturns(e)}}],[{key:"Claim",value:function(e){var t=e.Claim(/&/);if(!t.Success)return null;var i=ne.ClaimReferencable(e);if(null===i)return t.Fail(),null;var r=new n(e,t);return r.Target=i,r}}]),n}(Q);Q.Register(Qe.Claim);var Je=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Right=null,e.Precedence=18,e.LeftRightAssociative=!1,e}return h(n,[{key:"InformType",value:function(e,t){}},{key:"Evaluate",value:function(e){var t=[this.GetLine()],n=this.Right.TryEvaluate(e);if(t.push.apply(t,s(n[1])),n[0].length<=0)throw new Error("Cannot dereference non-returning value");for(var i=1;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));if(n[0][0].PointerDepth<=0)throw new Error("Cannot dereference non-pointer. Got ".concat(n[0][0]));t.push("xpopa","ptra","xpusha");var r=n[0][0].Clone();return r.PointerDepth--,[[r],t]}},{key:"Assign",value:function(e,t){var n=[],i=this.Right.TryEvaluate(e);if(n.push.apply(n,s(i[1])),i[0].length<=0)throw new Error("Cannot dereference non-returning value");for(var r=1;r<i[0].length;r++)n.push.apply(n,s(i[0][r].XPop()));if(i[0][0].PointerDepth<=0)throw new Error("Cannot dereference non-pointer. Got ".concat(i[0][0]));return n.push("xpopa","xpopb","putbptra"),n}},{key:"Read",value:function(e){var t=[],n=this.Right.TryEvaluate(e);if(t.push.apply(t,s(n[1])),n[0].length<=0)throw new Error("Cannot dereference non-returning value");for(var i=1;i<n[0].length;i++)t.push.apply(t,s(n[0][i].XPop()));if(n[0][0].PointerDepth<=0)throw new Error("Cannot dereference non-pointer. Got ".concat(n[0][0]));return t.push("xpopa","ptra","xpusha"),n[0][0].Clone().PointerDepth--,t}},{key:"DefinitelyReturns",value:function(e){var t;return null===(t=this.Right)||void 0===t||t.DefinitelyReturns(e),!1}},{key:"GetTypes",value:function(e){var t=this.Right.GetTypes(e),n=[];return t.forEach((function(e){var t=e.Clone();t.PointerDepth--,n.push(t)})),n}}],[{key:"Claim",value:function(e){var t=e.Claim(/\*/);if(!t.Success)return null;var i=Q.Claim(e);if(null===i)return t.Fail(),null;var r=new n(e,t);return r.Right=i,r}}]),n}(Q);Q.Register(Je.Claim),ne.RegisterAssignable(Je.Claim);var et=[[/\^/,"pow",13,!1],[/\*/,"mul",12,!0],[/\/%/,"divmod",12,!0],[/\//,"div",12,!0],[/%/,"mod",12,!0],[/\+/,"add",11,!0],[/-/,"sub",11,!0],[/<</,"bshl",10,!0],[/>>/,"bshr",10,!0],[/<=/,"le",9,!0],[/>=/,"ge",9,!0],[/</,"lt",9,!0],[/>/,"gt",9,!0],[/==/,"eq",8,!0],[/!=/,"ne",8,!0],[/&&/,"and",4,!0],[/\|\|/,"or",3,!0],[/&/,"band",7,!0],[/~/,"bxor",6,!0],[/\|/,"bor",5,!0]],tt=[[/!/,"not",14],[/-/,"unm",14],[/\+/,"unp",14],[/~/,"bnot",14]],nt=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Precedence=0,e.LeftRightAssociative=!0,e.Left=null,e.Right=null,e.Operator="",e}return h(n,[{key:"Evaluate",value:function(e){var t=this.Simplify(e);if(null!==t)return[[He.Int],[this.GetLine(),"xpush ".concat((4294967295&t)>>>0)]];var n=[this.GetLine()];if("and"===this.Operator){var i=this.Left.TryEvaluate(e),r=this.Right.TryEvaluate(e),o=e.GetMetamethod("truthy",i[0]);if(null===o)throw new Error("No truthy metamethod for type ".concat(i[0]));n.push.apply(n,s(i[1])),n.push.apply(n,s(He.Coax(o[1],i[0])[0])),n.push.apply(n,s(o[2])),n.push.apply(n,s(He.Coax([He.Int],o[0])[0]));var a=e.GetSafeName("rightSide"),l=e.GetSafeName("afterRightSide");if(n.push("xpopa","jnza ".concat(a),"xpush 0","jmp ".concat(l),"".concat(a,":")),n.push.apply(n,s(r[1])),null===(o=e.GetMetamethod("truthy",r[0])))throw new Error("No truthy metamethod for type ".concat(r[0]));return n.push.apply(n,s(He.Coax(o[1],r[0])[0])),n.push.apply(n,s(o[2])),n.push.apply(n,s(He.Coax([He.Int],o[0])[0])),n.push("".concat(l,":")),[[He.Int],n]}if("or"===this.Operator){var c=this.Left.TryEvaluate(e),u=this.Right.TryEvaluate(e),h=e.GetMetamethod("truthy",c[0]);if(null===h)throw new Error("No truthy metamethod for type ".concat(c[0]));n.push.apply(n,s(c[1])),n.push.apply(n,s(He.Coax(h[1],c[0])[0])),n.push.apply(n,s(h[2])),n.push.apply(n,s(He.Coax([He.Int],h[0])[0]));var d=e.GetSafeName("afterRightSide");if(n.push("xpopa","xpusha","jnza ".concat(d)),n.push("xpop"),n.push.apply(n,s(u[1])),null===(h=e.GetMetamethod("truthy",u[0])))throw new Error("No truthy metamethod for type ".concat(u[0]));return n.push.apply(n,s(He.Coax(h[1],u[0])[0])),n.push.apply(n,s(h[2])),n.push.apply(n,s(He.Coax([He.Int],h[0])[0])),n.push("".concat(d,":")),[[He.Int],n]}var f=this.Left.TryEvaluate(e);if(f[0].length<1)throw new Error("Leftside expression does not resolve to any value.");var p=[f[0][0]];n.push.apply(n,s(f[1]));for(var g=1;g<f[0].length;g++)n.push("xpop");var m=this.Right.TryEvaluate(e);n.push.apply(n,s(m[1])),p.push.apply(p,s(m[0]));var v;if(null===(v=e.GetMetamethod(this.Operator,p)))throw new Error("No method for operator '".concat(this.Operator,"' for types ").concat(p));return n.push.apply(n,s(He.Coax(v[1],p)[0])),n.push.apply(n,s(v[2])),[v[0],n]}},{key:"GetTypes",value:function(e){if(null!==this.Simplify(e))return[He.Int];if("and"===this.Operator||"or"===this.Operator)return[He.Int];var t=this.Left.GetTypes(e);if(t.length<1)throw new Error("Leftside expression does not resolve to any value.");var n=[t[0]],i=this.Right.GetTypes(e);n.push.apply(n,s(i));var r;if(null===(r=e.GetMetamethod(this.Operator,n)))throw new Error("No method for operator '".concat(this.Operator,"' for types ").concat(n));return r[0]}},{key:"Simplify",value:function(e){if("and"===this.Operator||"or"===this.Operator){if(!ie(this.Left))return null;var t=this.Left.TrySimplify(e);return null===t?null:"or"===this.Operator&&t?t:"and"!==this.Operator||t?ie(this.Right)?this.Right.TrySimplify(e):null:0}if(ie(this.Left)&&ie(this.Right)){var n=this.Left.TrySimplify(e),i=this.Right.TrySimplify(e);if(null!==n&&null!==i)switch(this.Operator){case"pow":return(4294967295&Math.pow(n,i))>>>0;case"bshl":return(n<<i&4294967295)>>>0;case"bshr":return(n>>i&4294967295)>>>0;case"band":return(n&i&4294967295)>>>0;case"bxor":return(4294967295&(n^i))>>>0;case"bor":return(4294967295&(n|i))>>>0;case"mul":return(n*i&4294967295)>>>0;case"div":return(n/i&4294967295)>>>0;case"mod":return(n%i&4294967295)>>>0;case"add":return(n+i&4294967295)>>>0;case"sub":return(n-i&4294967295)>>>0;case"le":return(4294967295&(n<=i?1:0))>>>0;case"ge":return(4294967295&(n>=i?1:0))>>>0;case"lt":return(4294967295&(n<i?1:0))>>>0;case"gt":return(4294967295&(n>i?1:0))>>>0;case"eq":return(4294967295&(n===i?1:0))>>>0;case"ne":return(4294967295&(n!==i?1:0))>>>0;case"and":return(4294967295&(n&&i))>>>0;case"or":return(4294967295&(n||i))>>>0}}return null}},{key:"DefinitlyReturns",value:function(e){return this.Left.DefinitelyReturns(e)||this.Right.DefinitelyReturns(e)}},{key:"PotentiallyReturns",value:function(e){return this.Left.DefinitelyReturns(e)||this.Right.DefinitelyReturns(e)||He.MostSimilar(this.Left.PotentiallyReturns(e),this.Right.PotentiallyReturns(e))}}],[{key:"RightClaim",value:function(e,t){for(var i=t.Flag(),r=0;r<et.length;r++){var s=et[r];if(t.Claim(s[0]).Success){var o=Q.Claim(t);if(null===o)return i.Fail(),null;var a=new n(t,i);return a.Left=e,a.Right=o,a.Operator=s[1],a.Precedence=s[2],a.LeftRightAssociative=s[3],a}}return null}}]),n}(Q),it=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Precedence=0,e.LeftRightAssociative=!0,e.Right=null,e.Operator="",e}return h(n,[{key:"Evaluate",value:function(e){var t=this.Simplify(e);if(null!==t)return[[He.Int],[this.GetLine(),"xpush ".concat((4294967295&t)>>>0)]];var n=[this.GetLine()],i=[],r=this.Right.TryEvaluate(e);n.push.apply(n,s(r[1])),i.push.apply(i,s(r[0]));var o;if(null===(o=e.GetMetamethod(this.Operator,i)))throw new Error("No method for operator '".concat(this.Operator,"' for types ").concat(i));return n.push.apply(n,s(He.Coax(o[1],i)[0])),n.push.apply(n,s(o[2])),[o[0],n]}},{key:"GetTypes",value:function(e){if(null!==this.Simplify(e))return[He.Int];var t=[],n=this.Right.GetTypes(e);t.push.apply(t,s(n));var i;if(null===(i=e.GetMetamethod(this.Operator,t)))throw new Error("No method for operator '".concat(this.Operator,"' for types ").concat(t));return i[0]}},{key:"Simplify",value:function(e){if(ie(this.Right)){var t=this.Right.Simplify(e);if(null!==t)switch(this.Operator){case"not":return t?0:1;case"unm":return-t;case"unp":return+t;case"bnot":return~t}}return null}},{key:"DefinitlyReturns",value:function(e){return this.Right.DefinitelyReturns(e)}},{key:"PotentiallyReturns",value:function(e){return this.Right.PotentiallyReturns(e)}}],[{key:"Claim",value:function(e){for(var t=e.Flag(),i=0;i<tt.length;i++){var r=tt[i];if(e.Claim(r[0]).Success){var s=Q.Claim(e);if(null===s)return t.Fail(),null;var o=new n(e,t);return o.Right=s,o.Operator=r[1],o.Precedence=r[2],o}}return null}}]),n}(Q);Q.Register(it.Claim),Q.RegisterRight(nt.RightClaim);var rt=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Values=[],e.Types=[],e}return h(n,[{key:"Evaluate",value:function(e){var t=this.Simplify(e);if(null!==t)return[[He.Int],[this.GetLine(),"xpush ".concat((4294967295&t)>>>0)]];for(var n=[],i=[],r=0;r<this.Values.length;r++){var o=this.Values[r].TryEvaluate(e);n.push.apply(n,s(o[0])),i.push.apply(i,s(o[1]))}for(var a=this.Types.length>0?this.Types:[n[0]],l=a.length;l<n.length;l++)i.push.apply(i,s(n[l].XPop()));return[a,i]}},{key:"GetTypes",value:function(e){for(var t=[],n=0;n<this.Values.length;n++){var i=this.Values[n].GetTypes(e);t.push.apply(t,s(i))}return this.Types.length>0?this.Types:[t[0]]}},{key:"Simplify",value:function(e){return this.Types.length>0&&(this.Types.length>1||!this.Types[0].Equals(He.Int))||0===this.Values.length?null:ie(this.Values[0])?this.Values[0].Simplify(e):null}},{key:"DefinitelyReturns",value:function(e){for(var t=0;t<this.Values.length;t++){var n=this.Values[t].DefinitelyReturns(e);if(n)return n}return!1}},{key:"PotentiallyReturns",value:function(e){for(var t=!1,n=0;n<this.Values.length;n++){var i=this.Values[n].DefinitelyReturns(e);if(i)return i;if((t=He.MostSimilar(t,this.Values[n].PotentiallyReturns(e),!0))&&!t.length)return t}return t}}],[{key:"Claim",value:function(e){var t=e.Claim(/\(/);if(!t.Success)return null;for(var i=[],r=Q.Claim(e);null!==r&&(i.push(r),e.Claim(/,/).Success);)r=Q.Claim(e);if(0===i.length)return t.Fail(),null;var s=[];if(e.Claim(/->/).Success)for(var o=He.Claim(e);null!==o&&(s.push(o),e.Claim(/,/).Success);)o=He.Claim(e);if(!e.Claim(/\)/).Success)return t.Fail(),null;var a=new n(e,t);return a.Types=s,a.Values=i,a}}]),n}(Q);Q.Register(rt.Claim);var st=[[/\+\+/,"add"],[/--/,"sub"]],ot=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Precedence=14,e.LeftRightAssociative=!0,e.PostFix=!1,e.Target=null,e.Operator="",e}return h(n,[{key:"Evaluate",value:function(e){var t=this,n=[this.GetLine()],i=this.Target.GetTypes(e);return i.forEach((function(i){n.push.apply(n,s(t.Target.Read(e))),t.PostFix&&n.push.apply(n,s(i.CloneA()));var r=("add"===t.Operator?"in":"de")+"crement",o=e.GetMetamethod(r,[i]);if(null===o&&(o=e.GetMetamethod(t.Operator,[i,He.Int]),n.push("xpush 1")),null===o)throw new Error("Cannot ".concat(r," type ").concat(i,". No metamethod"));if(!He.AllEquals([i],o[0]))throw new Error("Metamethod ".concat(r," for type ").concat(i," must return the same time."));n.push.apply(n,s(o[2])),t.PostFix||n.push.apply(n,s(i.CloneA())),n.push.apply(n,s(t.Target.Assign(e,i)))})),[i,n]}},{key:"DefinitelyReturns",value:function(e){var t;return null===(t=this.Target)||void 0===t||t.DefinitelyReturns(e),!1}},{key:"GetTypes",value:function(e){return this.Target.GetTypes(e)}}],[{key:"Claim",value:function(e){for(var t=e.Flag(),i=0;i<st.length;i++){var r=st[i];if(e.Claim(r[0]).Success){var s=ne.ClaimReadWritable(e);if(null===s)return t.Fail(),null;var o=new n(e,t);return o.Target=s,o.Operator=r[1],o}}return null}},{key:"RightClaim",value:function(e,t){if(!("Read"in(i=e)&&"Assign"in i&&"GetTypes"in i&&"InformType"in i))return null;for(var i,r=e,s=t.Flag(),o=0;o<st.length;o++){var a=st[o];if(t.Claim(a[0]).Success){var l=new n(t,s);return l.Target=r,l.Operator=a[1],l.PostFix=!0,l.Precedence=15,l}}return null}}]),n}(Q);Q.Register(ot.Claim),Q.RegisterRight(ot.RightClaim);var at=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Type=null,e}return h(n,[{key:"Simplify",value:function(e){return this.Type.GetDefinition().Size}},{key:"Evaluate",value:function(e){var t=this.Type.GetDefinition();return[[He.Int],[this.GetLine(),"xpush ".concat(t.Size)]]}},{key:"GetTypes",value:function(e){return[He.Int]}}],[{key:"Claim",value:function(e){var t=e.Claim(/sizeof\b/);if(!t.Success)return null;var i=He.Claim(e);if(null===i)return null;var r=new n(e,t);return r.Type=i,r}}]),n}(Q);Q.Register(at.Claim);var lt=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Target=null,e.Body=null,e}return h(n,[{key:"Evaluate",value:function(e){var t=[],n=this.Target.TryEvaluate(e);t.push.apply(t,s(n[1])),t.push.apply(t,s(n[0].map((function(e){return e.XPop()})).flat()));var i=this.Body.TryEvaluate(e);t.push.apply(t,s(i[1]));for(var r=n[0].length-1;r>=0;r--){var o=n[0][r],a=e.GetMetamethod("dispose",[o]);null===a?t.push.apply(t,s(n[0][r].XPop())):(t.push.apply(t,s(a[2])),t.push.apply(t,s(a[0].map((function(e){return e.XPop()})).flat())))}return[i[0],t]}},{key:"GetTypes",value:function(e){return this.Body.GetTypes(e)}},{key:"Simplify",value:function(e){return ie(this.Target)&&ie(this.Body)?null===this.Target.TrySimplify(e)?null:this.Body.TrySimplify(e):null}},{key:"DefinitelyReturns",value:function(e){return this.Target.DefinitelyReturns(e)||this.Body.DefinitelyReturns(e)}},{key:"PotentiallyReturns",value:function(e){return this.Target.PotentiallyReturns(e)||this.Body.PotentiallyReturns(e)}}],[{key:"Claim",value:function(e){var t=e.Claim(/using\b/);if(!t.Success)return null;var i=Q.Claim(e);if(null===i)return t.Fail(),null;var r=Q.Claim(e);if(null===r)return t.Fail(),null;var s=new n(e,t);return s.Target=i,s.Body=r,s}}]),n}(Q);Q.Register(lt.Claim);var ct=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Target=null,e.IsTemp=!1,e}return h(n,[{key:"Evaluate",value:function(e){if(this.IsTemp){var t,n=e.GetSafeName("disposable"),i=this.Target.TryEvaluate(e),r=i[0].map((function(e){return e.IsWide()?e.GetDefinition().Size:1})).reduce((function(e,t){return e+t})),o=[],a=[];o.push.apply(o,s(i[1])),o.push.apply(o,["setb ".concat(n)].concat(s(new Array(r).fill(["xpopa","putaptrb","incb"]).flat()))),o.push.apply(o,s(new Array(r).fill(["decb","cpyba","ptra","xpusha"]).flat()));for(var l=!1,c=i[0].length-1;c>=0;c--){var u=i[0][c],h=e.GetMetamethod("dispose",[u]);null===h?a.push.apply(a,s(i[0][c].XPop())):(l=!0,a.push.apply(a,s(h[2])),a.push.apply(a,s(h[0].map((function(e){return e.XPop()})).flat())))}return l?(e.Assembly.push("".concat(n,": db ").concat(new Array(r).fill(0).join(","))),(t=e.Deferred).push.apply(t,["setb ".concat(n),"addb ".concat(r)].concat(s(new Array(r).fill(["decb","cpyba","ptra","xpusha"]).flat()),a)),[i[0],o]):i}var d,f=this.Target.TryEvaluate(e),p=[];p.push.apply(p,s(f[1]));for(var g=0;g<f[0].length;g++)p.push.apply(p,s(f[0][g].XPop()));return(d=e.Deferred).push.apply(d,p),[[],[]]}},{key:"GetTypes",value:function(e){return this.IsTemp?this.Target.GetTypes(e):[]}},{key:"Simplify",value:function(e){return this.IsTemp&&ie(this.Target)?this.Target.TrySimplify(e):null}},{key:"DefinitelyReturns",value:function(e){return this.Target.DefinitelyReturns(e)}}],[{key:"Claim",value:function(e){var t=e.Claim(/defer\b/),i=!1;if(t.Success||(t=e.Claim(/temp\b/),i=!0),!t.Success)return null;var r=Q.Claim(e);if(null===r)return t.Fail(),null;var s=new n(e,t);return s.Target=r,s.IsTemp=i,s}}]),n}(Q);Q.Register(ct.Claim);var ut=function(e){$(n,e);var t=I(n);function n(){var e;a(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).Precedence=17,e.LeftRightAssociative=!1,e.Left=null,e.Targets=[],e}return h(n,[{key:"Simplify",value:function(e){return ie(this.Left)?this.Left.TrySimplify(e):null}},{key:"Evaluate",value:function(e){var t=[],n=this.Left.TryEvaluate(e);if(t.push.apply(t,s(n[1])),!He.CanCoax(this.Targets,n[0]))throw new Error("Cannot cast ".concat(n[0]," to ").concat(this.Targets));return t.push.apply(t,s(He.Coax(this.Targets,n[0])[0])),[this.Targets,t]}},{key:"GetTypes",value:function(e){return this.Targets}}],[{key:"RightClaim",value:function(e,t){var i=t.Claim(/</);if(!i.Success)return null;for(var r=[],s=He.Claim(t);null!==s&&(r.push(s),t.Claim(/,/).Success);)s=He.Claim(t);if(!t.Claim(/>/).Success)return i.Fail(),null;var o=new n(t,e.Claim);return o.Left=e,o.Targets=r,o}}]),n}(Q);Q.RegisterRight(ut.RightClaim);var ht=!1;var dt,ft=64,pt=32;!function(e){e[e.None=0]="None",e[e.Bold=1]="Bold",e[e.Dim=2]="Dim",e[e.Italic=4]="Italic",e[e.Underline=8]="Underline",e[e.Striked=16]="Striked"}(dt||(dt={}));var gt=[1,1,1],mt=[0,0,0];function vt(e,t,n){return e<t?t:e>n?n:e}function yt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}var bt,wt=function(){function e(){a(this,e),this.Width=ft,this.Height=pt,this.Cursor=[0,0],this.Characters=[],this.EscapeBuffer="",this.Escaped=!1,this.CurrentFore=gt,this.CurrentBack=mt,this.CurrentStyle=dt.None,this.CursorStack=[];for(var t=0;t<this.Height;t++){this.Characters[t]=[];for(var n=0;n<this.Width;n++)this.Characters[t][n]=[" ",gt,mt,dt.None]}}return h(e,[{key:"MoveCursor",value:function(e,t){this.Cursor[0]=vt(this.Cursor[0]+(0|e),0,this.Width-1),this.Cursor[1]=vt(this.Cursor[1]+(0|t),0,this.Height-1)}},{key:"AdvanceLine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e=Math.max(0|e,0),this.Cursor[1]+=e}},{key:"AdvanceCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(e=Math.max(0|e,0),this.Cursor[0]+=e;this.Cursor[0]>=this.Width;)this.AdvanceLine(),this.Cursor[0]-=this.Width}},{key:"WriteChar",value:function(e){for(;this.Cursor[1]>=this.Height;){this.Cursor[1]--,this.Characters.push(this.Characters.shift());for(var t=0;t<this.Width;t++)this.Characters[this.Height-1][t]=[" ",this.CurrentFore,this.CurrentBack,this.CurrentStyle]}if(this.Escaped)return this.EscapeBuffer=this.EscapeBuffer+e,void this.EvalEscape();if("\x1b"===e)return this.Escaped=!0,void(this.EscapeBuffer="");if("\r"!==e)if("\n"!==e)if("\t"!==e){if("\b"===e){if(0===this.Cursor[0])return this.MoveCursor(0,-1),this.Cursor[0]=this.Width-1,this.WriteChar(" "),this.MoveCursor(0,-1),void(this.Cursor[0]=this.Width-1);this.MoveCursor(-1,0),this.WriteChar(" "),this.MoveCursor(-1,0)}e.match(/[ -~]/)||(e="?"),"<"===e&&(e="&lt;"),"&"===e&&(e="&amp;"),this.Characters[this.Cursor[1]][this.Cursor[0]]=[e,this.CurrentFore,this.CurrentBack,this.CurrentStyle],this.AdvanceCursor()}else this.AdvanceCursor(4-this.Cursor[0]%4);else this.AdvanceLine();else this.Cursor[0]=0}},{key:"WriteAll",value:function(e){for(var t=0;t<e.length;t++)this.WriteChar(e.charAt(t))}},{key:"EvalEscape",value:function(){if(1!==this.EscapeBuffer.length){var e=this.EscapeBuffer.match(/^\[(\d+)*([A-G])$/);if(e){var t=+e[1];switch(e[2]){case"A":this.MoveCursor(0,-t);break;case"B":this.MoveCursor(0,t);break;case"C":this.MoveCursor(t,0);break;case"D":this.MoveCursor(-t,0);break;case"E":for(var n=0;n<t;n++)this.AdvanceLine();this.Cursor[0]=0;break;case"F":this.MoveCursor(0,-t),this.Cursor[0]=0;break;case"G":this.Cursor[0]=vt(t,0,this.Width-1)}this.Escaped=!1}else{var i=this.EscapeBuffer.match(/^\[(\d+);(\d+)[Hf]$/);if(i){var r=+i[1],s=+i[2];return this.Cursor[0]=vt(s,0,this.Width-1),this.Cursor[1]=vt(r,0,this.Height-1),void(this.Escaped=!1)}if(i=this.EscapeBuffer.match(/^\[(\d+)[Hf]$/)){var o=+i[1];return this.Cursor[1]=vt(o,0,this.Height-1),void(this.Escaped=!1)}switch(this.EscapeBuffer){case"[H":return this.Cursor=[0,0],void(this.Escaped=!1);case"[s":return this.CursorStack.push([this.Cursor[0],this.Cursor[1]]),void(this.Escaped=!1);case"[u":var a;return this.Cursor=null!==(a=this.CursorStack.pop())&&void 0!==a?a:[0,0],void(this.Escaped=!1);case"[J":case"[0J":for(var l=[this.Cursor[0],this.Cursor[1]];this.Cursor[0]!==this.Width-1&&this.Cursor[0]!==this.Height-1;)this.WriteChar(" ");return this.Characters[this.Cursor[1]][this.Cursor[0]]=[" ",this.CurrentFore,this.CurrentBack,this.CurrentStyle],this.Cursor=l,void(this.Escaped=!1);case"[1J":var c=[this.Cursor[0],this.Cursor[1]];for(this.Cursor=[0,0];this.Cursor[0]!==c[0]&&this.Cursor[0]!==c[1];)this.WriteChar(" ");return this.Characters[this.Cursor[1]][this.Cursor[0]]=[" ",this.CurrentFore,this.CurrentBack,this.CurrentStyle],void(this.Escaped=!1);case"[2J":for(var u=0;u<this.Height;u++){this.Characters[u]=[];for(var h=0;h<this.Width;h++)this.Characters[u][h]=[" ",this.CurrentFore,this.CurrentBack,this.CurrentStyle]}return void(this.Escaped=!1);case"[3J":return void(this.Escaped=!1)}if(this.EscapeBuffer.match(/^\[\d+(?:;\d+)*m/)){var d,f=g(this.EscapeBuffer.matchAll(/\d+/g));try{for(f.s();!(d=f.n()).done;){var p=+d.value;if(0!==p)if(p>=30&&p<=37)p-=30,this.CurrentFore=[p%2,(p>>1)%2,(p>>2)%2];else if(p>=40&&p<=47)p-=40,this.CurrentBack=[p%2,(p>>1)%2,(p>>2)%2];else switch(p){case 1:this.CurrentStyle|=dt.Bold;continue;case 22:this.CurrentStyle&=~dt.Bold;continue;case 3:this.CurrentStyle|=dt.Italic;continue;case 23:this.CurrentStyle&=~dt.Italic;continue;case 4:this.CurrentStyle|=dt.Underline;continue;case 24:this.CurrentStyle&=~dt.Underline;continue;case 9:this.CurrentStyle|=dt.Striked;continue;case 29:this.CurrentStyle&=~dt.Striked;continue;case 39:this.CurrentFore=gt;continue;case 49:this.CurrentBack=mt;continue}else this.CurrentFore=gt,this.CurrentBack=mt,this.CurrentStyle=dt.None}}catch(m){f.e(m)}finally{f.f()}this.Escaped=!1}else this.EscapeBuffer.match(/[a-zA-Z]$/)&&(this.Escaped=!1)}}else"["!==this.EscapeBuffer&&(this.Escaped=!1,this.WriteChar("?"),this.WriteChar(this.EscapeBuffer))}},{key:"Render",value:function(){var e="",t=[gt[0],gt[1],gt[2]],n=[mt[0],mt[1],mt[2]],i=dt.None;e+='<span style="color: rgb(255,255,255); background-color: rgb(0,0,0);">';for(var r=0;r<this.Height;r++){for(var s=0;s<this.Width;s++){var o=this.Characters[r][s];if(!yt(t,o[1])||!yt(n,o[2])||o[3]!==i){t=o[1],n=o[2],i=o[3];var a="color: rgb(".concat(255*t[0],",").concat(255*t[1],",").concat(255*t[2],");");i&dt.Dim&&(a="color: rgb(".concat(127*t[0],",").concat(127*t[1],",").concat(127*t[2],");"));var l="background-color: rgb(".concat(255*n[0],",").concat(255*n[1],",").concat(255*n[2],");"),c=i&dt.Bold?" font-weight: bold;":"",u="";i&dt.Underline&&(u=" underline"),i&dt.Striked&&(u+=" line-through"),u.length>0&&(u=" text-decoration:".concat(u,";")),e+='</span><span style="'.concat(a," ").concat(l).concat(c).concat(u,'">')}" "===o[0]?e+="&nbsp;":e+=o[0]}e+="\n"}return e+"</span>"}}]),e}();!function(e){e[e.Click=1]="Click",e[e.KeyDown=2]="KeyDown",e[e.KeyUp=3]="KeyUp",e[e.Frame=4]="Frame"}(bt||(bt={}));var Ct=function(e){if((e=e.trim()).length)return e.match(/^\d+/)?e:'"'.concat(e,'"')},St=function(){function e(){a(this,e),this.rega="a",this.regb="b",this.xstack=[],this.ystack=[],this.xstackIndex=0,this.ystackIndex=0,this.xmindex=0,this.ymindex=0}return h(e,[{key:"xPush",value:function(e){e!=="xstack[".concat(this.xstackIndex,"]")?this.xstack[this.xstackIndex]=e:delete this.xstack[this.xstackIndex],this.xstackIndex++}},{key:"yPush",value:function(e){e!=="ystack[".concat(this.ystackIndex,"]")?this.ystack[this.ystackIndex]=e:delete this.ystack[this.ystackIndex],this.ystackIndex++}},{key:"xPop",value:function(){var e;this.xstackIndex--,this.xstackIndex<this.xmindex&&(this.xmindex=this.xstackIndex);var t=null!==(e=this.xstack[this.xstackIndex])&&void 0!==e?e:"xstack[".concat(this.xstackIndex,"]");return delete this.xstack[this.xstackIndex],t}},{key:"yPop",value:function(){var e;this.ystackIndex--,this.ystackIndex<this.ymindex&&(this.ymindex=this.ystackIndex);var t=null!==(e=this.ystack[this.ystackIndex])&&void 0!==e?e:"ystack[".concat(this.ystackIndex,"]");return delete this.ystack[this.ystackIndex],t}},{key:"Like",value:function(e){return this.rega===e.rega&&this.regb===e.regb&&JSON.stringify(this.xstack)===JSON.stringify(e.xstack)&&JSON.stringify(this.ystack)===JSON.stringify(e.ystack)&&this.xstackIndex===e.xstackIndex&&this.ystackIndex===e.ystackIndex&&this.xmindex===e.xmindex&&this.ymindex===e.ymindex}}],[{key:"Of",value:function(t){var n=new e;return t.forEach((function(e){var t;return xt.get(e.command)({state:n,arg:Ct(null!==(t=e.arg)&&void 0!==t?t:"")})})),n}}]),e}(),xt=new Map([["seta",function(e){return e.state.rega=e.arg}],["setb",function(e){return e.state.regb=e.arg}],["cpyab",function(e){return e.state.regb=e.state.rega}],["cpyba",function(e){return e.state.rega=e.state.regb}],["xpush",function(e){e.state.xPush(e.arg)}],["ypush",function(e){e.state.yPush(e.arg)}],["xpusha",function(e){e.state.xPush(e.state.rega)}],["xpushb",function(e){e.state.xPush(e.state.regb)}],["ypusha",function(e){e.state.yPush(e.state.rega)}],["ypushb",function(e){e.state.yPush(e.state.regb)}],["xpop",function(e){e.state.xPop()}],["ypop",function(e){e.state.yPop()}],["xpopa",function(e){e.state.rega=e.state.xPop()}],["xpopb",function(e){e.state.regb=e.state.xPop()}],["ypopa",function(e){e.state.rega=e.state.yPop()}],["ypopb",function(e){e.state.regb=e.state.yPop()}]]);function kt(e){var t=/^(\s*)FILE(\s*.*)$/i,n=/^(\s*)LINE(\s*.*)$/i,i=/^(\s*)([a-z0-9_]+:)?(\s*)REM(\s*.*)$/i,r=/^(\s*)([a-z0-9_]+:)?(\s*)([a-z0-9_]+)(\s*.*)$/i,o=/^(\s*)([a-z0-9_]+:)?(\s*)db(\s*.*)$/i,a=/^(\s*)([a-z0-9_]+:)?(\s*)$/i;function l(e){var s;if(s=e.match(t))return{shape:"FILE",preWhitespace:s[1],arg:s[2]};if(s=e.match(n))return{shape:"LINE",preWhitespace:s[1],arg:s[2]};if(s=e.match(i))return{shape:"REM",preWhitespace:s[1],label:s[2],postWhitespace:s[3],arg:s[4]};if(s=e.match(o))return{shape:"DB",preWhitespace:s[1],label:s[2],postWhitespace:s[3],arg:s[4]};if(s=e.match(a))return{shape:"LABEL",preWhitespace:s[1],label:s[2],postWhitespace:s[3]};if(s=e.match(r))return{shape:"CMD",preWhitespace:s[1],label:s[2],postWhitespace:s[3],command:s[4].toLowerCase(),arg:s[5]};throw new Error('Unable to parse command: "'.concat(e,'"'))}var c,u,h,d=e.map(l),f=[],p=g(d);try{for(p.s();!(h=p.n()).done;){var m=h.value;if("FILE"===m.shape){if(c===m.arg)continue;c=m.arg}else if("LINE"===m.shape){if(u===m.arg)continue;u=m.arg}else if("CMD"===m.shape&&("adda"===m.command||"suba"===m.command||"addb"===m.command||"subb"===m.command)){var v,y;if(0===+(null!==(v=m.arg)&&void 0!==v?v:""))continue;if(1===+(null!==(y=m.arg)&&void 0!==y?y:"")){switch(m.command){case"adda":m.command="inca";break;case"suba":m.command="deca";break;case"addb":m.command="incb";break;case"subb":m.command="decb"}m.arg=void 0}}f.push(m)}}catch(A){p.e(A)}finally{p.f()}var b,w=[],C=[],S=g(d=f);try{for(S.s();!(b=S.n()).done;){var x=b.value;"label"in x&&x.label?(w.length>0&&(C.push(w),w=[]),C.push([x])):"DB"!==x.shape?"LINE"!=x.shape&&"FILE"!=x.shape&&"REM"!=x.shape?"CMD"===x.shape&&(xt.has(x.command)?w.push(x):(w.length>0&&(C.push(w),w=[]),C.push([x]))):C.push([x]):(w.length>0&&(C.push(w),w=[]),C.push([x]))}}catch(A){S.e(A)}finally{S.f()}w.length>0&&C.push(w),C=C.map((function(e){if(e.length<=1)return e;var t=St.Of(e),n="".concat(t.rega,"|").concat(t.regb,"|").concat(s(t.xstack.values()).join(","),"|").concat(s(t.ystack.values()).join(",")),i=((n=n.replace(/"[^"]*"/g,"").replace(/xstack/g,"x").replace(/ystack/g,"y")).indexOf("a"),n.indexOf("b"),n.indexOf("x")>-1||s(new Array(-t.xmindex).keys()).some((function(e){return void 0===t.xstack[-1-e]}))),r=n.indexOf("y")>-1||s(new Array(-t.ymindex).keys()).some((function(e){return void 0===t.ystack[-1-e]}));if(!i&&!r){for(var o=[],a=t.xmindex;a<0;a++)o.push("xpop");for(var c=t.ymindex;c<0;c++)o.push("ypop");for(var u=t.xmindex;u<t.xstackIndex;u++)switch(t.xstack[u]){case"a":o.push("xpusha");break;case"b":o.push("xpushb");break;default:o.push("xpush ".concat(t.xstack[u].replaceAll('"',"")))}for(var h=t.ymindex;h<t.ystackIndex;h++)switch(t.ystack[h]){case"a":o.push("ypusha");break;case"b":o.push("ypushb");break;default:o.push("ypush ".concat(t.ystack[h].replaceAll('"',"")))}return"b"===t.rega&&"a"===t.regb?o.push("xpusha","cpyba","xpopb"):("b"===t.rega?o.push("cpyba"):"a"===t.regb&&o.push("cpyab"),"a"!==t.rega&&"b"!==t.rega&&o.push("seta ".concat(t.rega.replaceAll('"',""))),"a"!==t.regb&&"b"!==t.regb&&o.push("setb ".concat(t.regb.replaceAll('"',"")))),o.length<e.length?o.map((function(e){return l(e)})):(o.length,e.length,t.Like(St.Of(o.map((function(e){return l(e)}))))||console.error("Panic and catch fire!"),e)}return e}));var k=d.length,_=(d=C.flat()).map((function(e){var t,n,i,r,s,o,a,l,c,u,h,d,f,p,g,m,v,y,b;switch(e.shape){case"FILE":return"".concat(null!==(t=e.preWhitespace)&&void 0!==t?t:"","FILE").concat(null!==(n=e.arg)&&void 0!==n?n:"");case"LINE":return"".concat(null!==(i=e.preWhitespace)&&void 0!==i?i:"","LINE").concat(null!==(r=e.arg)&&void 0!==r?r:"");case"REM":return"".concat(null!==(s=e.preWhitespace)&&void 0!==s?s:"").concat(null!==(o=e.label)&&void 0!==o?o:"").concat(null!==(a=e.postWhitespace)&&void 0!==a?a:"","REM").concat(null!==(l=e.arg)&&void 0!==l?l:"");case"CMD":return"".concat(null!==(c=e.preWhitespace)&&void 0!==c?c:"").concat(null!==(u=e.label)&&void 0!==u?u:"").concat(null!==(h=e.postWhitespace)&&void 0!==h?h:"").concat(e.command.toLowerCase()).concat(null!==(d=e.arg)&&void 0!==d?d:"");case"DB":return"".concat(null!==(f=e.preWhitespace)&&void 0!==f?f:"").concat(null!==(p=e.label)&&void 0!==p?p:"").concat(null!==(g=e.postWhitespace)&&void 0!==g?g:"","db").concat(null!==(m=e.arg)&&void 0!==m?m:"");case"LABEL":return"".concat(null!==(v=e.preWhitespace)&&void 0!==v?v:"").concat(null!==(y=e.label)&&void 0!==y?y:"").concat(null!==(b=e.postWhitespace)&&void 0!==b?b:"");default:throw new Error("Unknown command shape")}}));return console.log("Commands Optimized: ".concat(_.length,"/").concat(k," ").concat(Math.floor(100*(1-_.length/k)),"% (best possible: ").concat(C.length,"/").concat(k," ").concat(Math.floor(100*(1-C.length/k)),"%)")),_=Y.ObliterateRedundancies(_),console.log("Bonus Optimization: ".concat(_.length,"/").concat(k," ").concat(Math.floor(100*(1-_.length/k)),"% (best possible: ").concat(C.length,"/").concat(k," ").concat(Math.floor(100*(1-C.length/k)),"%)")),_}var _t,At=n(184),Tt=n(9043),Rt={},$t="1.0.1",Et=void 0,Lt=null,Mt={},It=!1,Ft=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],Pt=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Dt(e){if(e>=Pt.length)throw new Error("Unable to parse base64 string.");var t=Pt[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}function Bt(e){return function(e){var t,n="",i=e.length;for(t=2;t<i;t+=3)n+=Ft[e[t-2]>>2],n+=Ft[(3&e[t-2])<<4|e[t-1]>>4],n+=Ft[(15&e[t-1])<<2|e[t]>>6],n+=Ft[63&e[t]];return t===i+1&&(n+=Ft[e[t-2]>>2],n+=Ft[(3&e[t-2])<<4],n+="=="),t===i&&(n+=Ft[e[t-2]>>2],n+=Ft[(3&e[t-2])<<4|e[t-1]>>4],n+=Ft[(15&e[t-1])<<2],n+="="),n}(e)}function Nt(e){return function(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");var t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");for(var n,i=e.endsWith("==")?2:e.endsWith("=")?1:0,r=e.length,s=new Uint8Array(r/4*3),o=0,a=0;o<r;o+=4,a+=3)n=Dt(e.charCodeAt(o))<<18|Dt(e.charCodeAt(o+1))<<12|Dt(e.charCodeAt(o+2))<<6|Dt(e.charCodeAt(o+3)),s[a]=n>>16,s[a+1]=n>>8&255,s[a+2]=255&n;return s.subarray(0,s.length-i)}(e)}function Ot(e){return Bt(Tt.deflate(e,{level:3}))}function Gt(){return zt.apply(this,arguments)}function zt(){return zt=p(d().mark((function e(){var t,n,i,r,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in t={},(n={})[""]=[],Mt)t[i]=Mt[i].getValue(),Mt[i].getSession().setAnnotations([]),n[i]=[];return document.getElementById("asmRun").innerHTML='<i class="fa-solid fa-play"></i>',_t=new wt,It||(r=_t.Render(),window.requestAnimationFrame((function(){document.getElementById("output").innerHTML=r}))),e.next=10,Ge(t);case 10:for(o in(s=e.sent).TypeInformation.forEach((function(e){var t=e[0];n[t.Claimer.File].push({row:t.GetLineNo(),column:t.GetColumn(),text:e[1]+"",type:"type"})})),Mt)Mt[o].getSession().setAnnotations(n[o]);return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function Wt(){if("history"in window){var e={};for(var t in Mt)t in Rt||(e[t]=Mt[t].getValue());var n=Ot(JSON.stringify(e)),i=new URL(window.location);i.searchParams.set("code",n),It?i.searchParams.set("simpleio",document.getElementById("simpleIOInput").value):i.searchParams.delete("simpleio"),window.history.pushState(null,"",i)}}function Ht(e){var t,n,i=e.target.dataset.target;document.querySelectorAll("#editorButtons button").forEach((function(e){return e.classList.remove("active")})),null===(t=document.querySelector('#editorButtons button[data-target="'+i+'"]'))||void 0===t||t.classList.add("active"),document.querySelectorAll("div.etab").forEach((function(e){return e.classList.remove("active")})),null===(n=document.querySelector('div.etab[data-target="'+i+'"]'))||void 0===n||n.classList.add("active")}function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Et)for(Et.Input+=String.fromCharCode(e),Et.Input+=String.fromCharCode(t),Et.Input+=String.fromCharCode(n);Et.Input.length>192;)Et.Input=Et.Input.substr(3)}var Vt=new Uint8Array,jt=void 0;function Kt(){console.clear(),jt&&(clearTimeout(jt),jt=void 0),jt=setTimeout(p(d().mark((function e(){var t,n,i,r,s,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jt=void 0,e.prev=1,Wt(),document.querySelector("h1").textContent="BrainChild",console.log("compiling..."),t=Date.now(),e.prev=6,e.next=9,Gt();case 9:if(n=e.sent,i=n.Assembly,console.log("parsed in ".concat(Date.now()-t,"ms")),t=Date.now(),i=kt(i),console.log("optimized in ".concat(Date.now()-t,"ms")),t=Date.now(),Et=new b(i),Ne)for(document.querySelector("h1").textContent="BrainChild ASM",Vt=new Uint8Array(Et.Heap.length),r=0;r<Et.Heap.length;r++)Vt[r]=Et.Heap[r];console.log("compiled in ".concat(Date.now()-t,"ms")),document.getElementById("codeText").innerHTML=i.join("\n"),n.RenderBSMemory(Et),e.next=26;break;case 23:if(e.prev=23,e.t0=e.catch(6),e.t0 instanceof O){for(o in s={},Mt)s[o]=[];for(a in s[""]=[],e.t0.CallStack.forEach((function(t){s[t.Claimer.File].push({row:t.GetLineNo(),column:t.GetColumn(),text:e.t0.message,type:"error"})})),Mt)Mt[a].getSession().setAnnotations(s[a]);console.error(e.t0)}else document.getElementById("codeText").innerHTML="<span class='error'>".concat(e.t0.stack,"</span>");case 26:e.next=32;break;case 28:return e.prev=28,e.t1=e.catch(1),console.log(e.t1),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[1,28],[6,23]])}))),300)}function qt(){Yt(!It),Wt()}function Yt(e){var t,n;(It=e)?(Xt(),document.getElementById("simpleIOButton").innerHTML='<i class="fa-solid fa-keyboard"></i>'):(document.getElementById("output").innerHTML=null!==(t=null===(n=_t)||void 0===n?void 0:n.Render())&&void 0!==t?t:"",document.getElementById("simpleIOButton").innerHTML='<i class="fa-solid fa-terminal"></i>')}function Xt(){var e=document.createElement("div");e.className="simpleIO";var t=document.createElement("H2"),n=document.createElement("textarea"),i=document.createElement("H2"),r=document.createElement("textarea");n.id="simpleIOInput",t.textContent="Input",r.id="simpleIOOutput",i.textContent="Output";var s=document.getElementById("output");s.innerHTML="",n.addEventListener("blur",(function(){Et&&It&&(Et.Input=n.value),Wt()})),e.append(t),e.append(n),e.append(i),e.append(r),s.append(e)}var Zt=!1;function Qt(e){return function(t){ht||(ht=!0,en("array.bc","struct array<T> {\n    int count;\n    @T data;\n    new();\n    new<T>(int count, @T data){\n        array<T> this = this<array<T>>;\n        this.count = count;\n        this.data = data;\n    }\n}\nmetamethod cast<T>(array<T> this)->int,@T\n    return this.count,this.data\nmetamethod dispose<T>(array<T> this)\n    free(this.data)"),en("arraylist.bc","include array.bc;\ninclude mem.bc;\nclass ArrayList<T> {\n    int Capacity = 8;\n    int Size = 0;\n    @T Data;\n    \n    new(int capacity){\n        this.Capacity = capacity;\n        this.Data = alloc(capacity);\n    }\n    \n    new(){\n        this.Data = alloc(this.Capacity);\n    }\n    \n    virtual function Add(T element){\n        if(this.Size++ == this.Capacity){\n            @T newBuff = alloc(this.Capacity*2);\n            int i=0;\n            while(i < this.Capacity){\n                newBuff[i] = this.Data[i];\n                i++;\n            }\n            free((this.Data -> int));\n            this.Data = newBuff;\n            this.Capacity = this.Capacity * 2;\n        };\n        *(this.Data + this.Size - 1) = element;\n    }\n\n    virtual function Iterate(func(T) iterator) {\n        int i = 0;\n        while(i < this.Size){\n            iterator(*(this.Data+(i++)));\n        }\n    }\n    \n    virtual function Shrink() -> array<T> {\n        @T buffer = alloc(this.Size);\n        memcpy(this.Data, buffer, this.Size);\n        return new array(this.Size, buffer);\n    }\n}\n\nmetamethod getindex<T>(ArrayList<T> this, int index) -> T {\n    return *(this.Data+(index%this.Size));\n}\nmetamethod setindex<T>(ArrayList<T> this, int index, T value) {\n    *(this.Data+(index%this.Size)) = value;\n}\nmetamethod ptrindex<T>(ArrayList<T> this, int index) -> @T {\n    return (this.Data+(index%this.Size));\n}\nmetamethod dispose<T>(ArrayList<T> this){\n    free((this.Data -> int));\n    free(this);\n}\nmetamethod cast<T>(ArrayList<T> this) -> array<T>\n    new array(this.Size, this.Data)"),en("arrayutils.bc","include array.bc;\nmetamethod get_of(typearray this) function<T>(params T[count] data)->array<T> new array(count,data)\n\nstruct arrayutils {\n    static function iterate<A>(func(A) method, array<A> this){\n        int i = 0;\n        while(i < this.count){\n            method(this.data[i]);\n            i++;\n        }\n    }\n    static function map<A,B>(func(A)->B method, array<A> this) -> array<B>{\n        int i = 0;\n        @B res = alloc(this.count);\n        while(i < this.count){\n            res[i] = method(this.data[i]);\n            i++;\n        }\n        return new array(this.count, res);\n    }\n    static function modify<A>(func(A)->A method, array<A> this) -> array<A>{\n        int i = 0;\n        while(i < this.count){\n            this.data[i] = method(this.data[i]);\n            i++;\n        }\n        return this;\n    }\n    static function filter<A>(func(A)->int method, array<A> this) -> array<A>{\n        @A buffer = temp alloc(this.count);\n        int i = 0;\n        int j = 0;\n        while(i < this.count){\n            if(method(this.data[i])){\n                buffer[j] = this.data[i];\n                i++;\n            }\n            i++;\n        }\n        int newCount = j;\n        int i = 0;\n        @A res = alloc(newCount);\n        while(i < newCount){\n            res[i] = buffer[j];\n        }\n        return new array(newCount, res);\n    }\n    static function fold<A,B>(func(A,A)->B method, A initial, array<A> this) -> array<B> {\n        @B res = alloc(this.count);\n        int i = 0;\n        while(i < this.count){\n            res[i] = method(initial, this.data[i])\n            initial = this.data[i];\n            i++;\n        }\n        return new array(this.count, res);\n    }\n    static function fold<A,B>(func(A,A)->B method, array<A> this) -> array<B> {\n        if(this.count == 0)\n            return new array(0, alloc(0));\n        A initial = this.data[0];\n        @B res = alloc(this.count);\n        int i = 1;\n        while(i < this.count){\n            res[i-1] = method(initial, this.data[i])\n            initial = this.data[i];\n            i++;\n        }\n        return new array(this.count - 1, res);\n    }\n    static function reduce<A,B>(func(B,A)->B method, B initial, array<A> this) -> B {\n        int i = 0;\n        while(i < this.count){\n            initial = method(initial, this.data[i])\n            i++;\n        }\n        return initial;\n    }\n    static function reduce<A>(func(A,A)->A method, array<A> this) -> A {\n        A initial = this.data[0];\n        int i = 0;\n        while(i < this.count){\n            initial = method(initial, this.data[i])\n            i++;\n        }\n        return initial;\n    }\n}\nmetamethod get_iterate(array this) arrayutils.iterate;\nmetamethod get_map(array this) arrayutils.map;\nmetamethod get_modify(array this) arrayutils.modify;\nmetamethod get_filter(array this) arrayutils.filter;\nmetamethod get_fold(array this) arrayutils.fold;\nmetamethod get_reduce(array this) arrayutils.reduce;"),en("extformats.bc","include stringify.bc;\ninclude float.bc;\n\nfunction stringifyFloat(float this, func(int) iter){\n    int integer = this.integer;\n    intToString(integer, iter);\n    this = this - integer.float;\n    if(this == float.zero)return;\n    iter('.');\n    int i = 6;\n    while(this != float.zero && --i){\n        this = this * float.ten;\n        integer = this.integer;\n        iter(integer+'0');\n        this = this - integer.float;\n    }\n}\nmetamethod cast(float this) -> stringified new stringified(this, stringifyFloat);\n\nabstract class hexInt {}\nabstract class HexInt {}\nabstract class binaryInt {}\nabstract class binary8Int {}\nabstract class binary32Int {}\n\nfunction hexToString(hexInt this, func(int) iterator){\n    @int buffer = reserve 8;\n    int n = (this -> int)\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 16;\n        if (m > 9)\n            buffer[l] = ('a' + m - 10)\n        else\n            buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\nfunction HexToString(HexInt this, func(int) iterator){\n    @int buffer = reserve 8;\n    int n = (this -> int)\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 16;\n        if (m > 9)\n            buffer[l] = ('A' + m - 10)\n        else\n            buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\nfunction binaryToString(binaryInt this, func(int) iterator){\n    @int buffer = reserve 32;\n    int n = (this -> int)\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 2;\n        buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\nfunction binary8ToString(binary8Int this, func(int) iterator){\n    @int buffer = reserve 32;\n    int n = (this -> int)\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 2;\n        buffer[l] = '0' + m;\n        l++;\n    }\n    int diff = 8 - l\n    while(diff--) iterator('0');\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\nfunction binary32ToString(binary32Int this, func(int) iterator){\n    @int buffer = reserve 32;\n    int n = (this -> int)\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 2;\n        buffer[l] = '0' + m;\n        l++;\n    }\n    int diff = 32 - l\n    while(diff--) iterator('0');\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\n\nmetamethod cast(hexInt this) -> stringified new stringified(this, hexToString);\nmetamethod cast(HexInt this) -> stringified new stringified(this, HexToString);\nmetamethod cast(binaryInt this) -> stringified new stringified(this, binaryToString);\nmetamethod cast(binary8Int this) -> stringified new stringified(this, binary8ToString);\nmetamethod cast(binary32Int this) -> stringified new stringified(this, binary32ToString);\nmetamethod cast(hexInt this) -> int (this -> int);\nmetamethod cast(HexInt this) -> int (this -> int);\nmetamethod get_hex(int this) -> hexInt (this -> hexInt);\nmetamethod get_Hex(int this) -> HexInt (this -> HexInt);\nmetamethod get_binary(int this) -> binaryInt (this -> binaryInt);\nmetamethod get_binary8(int this) -> binary8Int (this -> binary8Int);\nmetamethod get_binary32(int this) -> binary32Int (this -> binary32Int);"),en("extmacros.bc","macro ( (assignable) (/\\/%|<<|>>|<=|>=|==|!=|&&|\\|\\||[*^\\/%+<>&~|-]/) \"=\" (expression) ) { $1 = $1 $2 $3 }\nmacro ( 'for' \"(\" (expression?) \";\" (expression?) \";\" (expression?) \")\" (expression) ) {\n    {\n        $1;\n        while($2){\n            $4;\n            $3;\n        }\n    }\n}\nmacro ( 'new' type '[]' '{' '}' ){{}}\nmacro ( 'new' (type) '[]' '{'  ','? (expression) ((',' expression)*) '}' ) {{\n    $1 _a = $2;\n    new $1[]{$3};\n    &_a;\n}}\nmacro ( 'new' (type) '[' (number) ']' ){ (reserve $2 -> @$1) };\n"),en("float.bc","include stringify.bc;\nmetamethod get_sign(float this) -> int (this -> int) / 0x80000000;\nmetamethod get_exponent(float this) -> int ((this -> int) / 0x800000) % 0x100;\nmetamethod get_mantissa(float this) -> int (this -> int) % 0x800000;\n\nconst int bias = 127+23;\nmetamethod get_integer(float this) -> int {\n    int mantissa = this.mantissa + 0x800000;\n    int exponent = this.exponent;\n    if(exponent == 0xFF){ // MAXINT, Can be NaN but hecc NaN\n        return  if (this.sign)\n                    0x80000000\n                else\n                    0x7fffffff;\n    }\n    while(exponent < bias){\n        exponent ++;\n        mantissa = mantissa / 2;\n    }\n    while(exponent > bias){\n        exponent --;\n        mantissa = mantissa * 2;\n    }\n    if(this.sign == 1){\n        mantissa = 0-mantissa;\n    }\n    return mantissa;\n}\n\nmetamethod get_float(int this) -> float {\n    int sign = 0;\n    if (this > 0x7fffffff) {\n        sign = 1;\n        this = 0-this;\n    }\n    int mantissa = this;\n    int exponent = bias;\n    if(!mantissa){\n        return (0 -> float);\n    }\n    while(mantissa >= 0x1000000){\n        exponent ++;\n        mantissa = mantissa / 2;\n    }\n    while(mantissa < 0x800000){\n        exponent --;\n        mantissa = mantissa * 2;\n    }\n    return ((sign * 0x80000000) + (exponent * 0x800000) + (mantissa % 0x800000) -> float);\n}\n\nmetamethod unm(float this) -> float {\n    return this.withSign(1 - this.sign);\n}\n\nabstract class float {\n    static const float one = 0x3F800000;\n    static const float zero = 0;\n    static const float ten = 0x41200000;\n\n    static function make(int sign, int exponent, int mantissa) -> float\n        ((sign * 0x80000000) + (exponent * 0x800000) + mantissa -> float);\n    virtual function withSign(int sign) -> float\n        float.make(sign, this.exponent, this.mantissa);\n    virtual function withExponent(int exponent) -> float\n        float.make(this.sign, exponent, this.mantissa);\n    virtual function withMantissa(int mantissa) -> float\n        float.make(this.sign, this.exponent, mantissa);\n    static function _sub(float this, float other) -> float {\n        if(this.sign != other.sign){\n            return float._add(this,-other);\n        }\n        if((this -> int) == 0)\n            return -other;\n        if((other -> int) == 0)\n            return this;\n        // Get both mantissas with their implied 1\n        int mantissaA = this.mantissa + 0x800000;\n        int mantissaB = other.mantissa + 0x800000;\n        // Get both exponents\n        int exponentA = this.exponent;\n        int exponentB = other.exponent;\n        // Shift left the smaller mantissa to match the larger one\n        // We don't actually have bitshift, so we have to manually multiply\n        int sign = this.sign;\n        while(exponentA < exponentB){\n            exponentA ++;\n            mantissaA = mantissaA / 2;\n        }\n        while(exponentB < exponentA){\n            exponentB ++;\n            mantissaB = mantissaB / 2;\n        }\n        if (mantissaB > mantissaA) {\n            mantissaA, mantissaB = (mantissaB, mantissaA -> int, int);\n            sign = 1 - sign;\n        }\n        // Subtract the mantissas\n        int mantissaC = mantissaA - mantissaB;\n        // Normalize the mantissa\n        while(mantissaC < 0x800000){\n            exponentA --;\n            mantissaC = mantissaC * 2;\n        }\n        // Return the result\n        return float.make(sign, exponentA, mantissaC % 0x800000);\n    }\n    static function _add(float this, float other) -> float {\n        if((this -> int) == 0)\n            return other;\n        if((other -> int) == 0)\n            return this;\n        if(this.sign != other.sign){\n            return float._sub(this,-other);\n        }\n        // Get both mantissas with their implied 1\n        int mantissaA = this.mantissa + 0x800000;\n        int mantissaB = other.mantissa + 0x800000;\n        // Get both exponents\n        int exponentA = this.exponent;\n        int exponentB = other.exponent;\n        // Shift left the smaller mantissa to match the larger one\n        // We don't actually have bitshift, so we have to manually multiply\n        while(exponentA < exponentB){\n            exponentA ++;\n            mantissaA = mantissaA / 2;\n        }\n        while(exponentB < exponentA){\n            exponentB ++;\n            mantissaB = mantissaB / 2;\n        }\n        // Add the mantissas\n        int mantissaC = mantissaA + mantissaB;\n        // Normalize the mantissa\n        while(mantissaC >= 0x1000000){\n            exponentA ++;\n            mantissaC = mantissaC / 2;\n        }\n        // Return the result\n        return float.make(this.sign, exponentA, mantissaC % 0x800000);\n    }\n    static function _mul(float this, float other) -> float {\n        if((this -> int) == 0)\n            return (0 -> float);\n        if((other -> int) == 0)\n            return (0 -> float);\n        // Get both mantissas with their implied 1\n        int mantissaA = this.mantissa + 0x800000;\n        int mantissaB = other.mantissa + 0x800000;\n        // Get both exponents\n        int exponentA = this.exponent;\n        int exponentB = other.exponent;\n        int exponentC = (exponentA + exponentB) - 134;\n        // Multiply the mantissas\n        int mantissaC = (mantissaA / 0x100) * (mantissaB / 0x100);\n        // Normalize the mantissa\n        while(mantissaC >= 0x1000000){\n            exponentC ++;\n            mantissaC = mantissaC / 2;\n        }\n        // Return the result\n        return float.make(this.sign + other.sign, exponentC, mantissaC % 0x800000);\n    }\n    static function _div(float this, float other) -> float {\n        if((this -> int) == 0)\n            return (0 -> float);\n        if((other -> int) == 0)\n            return (0x7fc00000 -> float);\n        // Floating point Division\n        // Apparently this is just like fancy fixed-point division\n        int mantissaA = this.mantissa + 0x800000;\n        int mantissaB = other.mantissa + 0x800000;\n        int exponentA = this.exponent;\n        int exponentB = other.exponent;\n        \n        int mantissaC = 0;\n        int div, int rem = (mantissaA * 0x100) /% mantissaB;\n        mantissaC = div * 0x8000;\n        div, rem = (rem * 0x100) /% mantissaB;\n        mantissaC = mantissaC + (div * 0x80);\n        div, rem = (rem * 0x100) /% mantissaB;\n        mantissaC = mantissaC + (div / 2);\n        int exponentC = (exponentA - exponentB) + 127;\n\n        if(mantissaC == 0){\n            return (0 -> float);\n        }\n        while(mantissaC < 0x800000){\n            exponentC --;\n            mantissaC = mantissaC * 2;\n        }\n        return float.make(this.sign + other.sign, exponentC, mantissaC % 0x800000);\n    }\n    static function _pow(float this, int base) -> float {\n        if (base == 0) {\n            return (0x3F800000 -> float);\n        }\n        if ((this -> int) == 0) {\n            return (0x0 -> float);\n        }\n        // Use simple binary exponentiation\n        float result = (0x3F800000 -> float);\n        while (base > 0) {\n            if (base % 2 == 1) {\n                result = float._mul(result, this);\n            }\n            this = float._mul(this, this);\n            base = base / 2;\n        }\n        return result;\n    }\n    static function _mod(float this, float other) -> float {\n        if((this -> int) == 0)\n            return (0 -> float);\n        if((other -> int) == 0)\n            return (0x7fc00000 -> float);\n        // Get both their mantissas\n        int mantissaA = this.mantissa + 0x800000;\n        int mantissaB = other.mantissa + 0x800000;\n        // And their exponents\n        int exponentA = this.exponent;\n        int exponentB = other.exponent;\n        // If A has a smaller exponant than B, return A (Because it will never be bigger than B)\n        if(exponentA < exponentB){\n            return this;\n        }\n        // Shift A until it has the same exponant as B\n        while(exponentA > exponentB){\n            exponentA --;\n            mantissaA = mantissaA * 2;\n        }\n        // Perform the modulo on the mantissas\n        int mantissaC = mantissaA % mantissaB;\n        if(mantissaC == 0){\n            return (0 -> float);\n        }\n        // Normalize the mantissa\n        while(mantissaC < 0x800000){\n            exponentA --;\n            mantissaC = mantissaC * 2;\n        }\n        // Return the result\n        return float.make(this.sign, exponentA, mantissaC % 0x800000);\n    }\n}\n\nmetamethod sub(float this, float other) -> float\n    float._sub(this, other);\n\nmetamethod add(float this, float other) -> float\n    float._add(this, other);\n\nmetamethod mul(float this, float other) -> float\n    float._mul(this, other);\n\nmetamethod div(float this, float other) -> float\n    float._div(this, other);\n\nmetamethod pow(float this, int other) -> float\n    float._pow(this, other);\n\nmetamethod mod(float this, float other) -> float\n    float._mod(this, other);\n\nmetamethod lt(float a, float b) -> int{\n    if(a.sign != b.sign){\n        return a.sign;\n    }\n    if(a.exponent != b.exponent){\n        return if (a.sign)\n                    a.exponent > b.exponent\n                else\n                    a.exponent < b.exponent;\n    }\n    return if (a.sign)\n                a.mantissa > b.mantissa\n            else\n                a.mantissa < b.mantissa;\n}\nmetamethod le(float a, float b) -> int{\n    if(a.sign != b.sign){\n        return a.sign;\n    }\n    if(a.exponent != b.exponent){\n        return if (a.sign)\n                    a.exponent > b.exponent\n                else\n                    a.exponent < b.exponent;\n    }\n    return if (a.sign)\n                a.mantissa >= b.mantissa\n            else\n                a.mantissa <= b.mantissa;\n}\nmetamethod gt(float a, float b) -> int{\n    if(a.sign != b.sign){\n        return b.sign;\n    }\n    if(a.exponent != b.exponent){\n        return if (a.sign)\n                    a.exponent < b.exponent\n                else\n                    a.exponent > b.exponent;\n    }\n    return if (a.sign)\n                a.mantissa < b.mantissa\n            else\n                a.mantissa > b.mantissa;\n}\nmetamethod ge(float a, float b) -> int{\n    if(a.sign != b.sign){\n        return b.sign;\n    }\n    if(a.exponent != b.exponent){\n        return if (a.sign)\n                    a.exponent < b.exponent\n                else\n                    a.exponent > b.exponent;\n    }\n    return if (a.sign)\n                a.mantissa <= b.mantissa\n            else\n                a.mantissa >= b.mantissa;\n}\n\nfunction almost_equal(int mantA, int mantB) -> int {\n    int diff = mantA - mantB;\n    return (diff < 0x100) || (diff > 0xFFFFFF00);\n} \n\nmetamethod eq(float a, float b) -> int\n    return (a.sign == b.sign) && (a.exponent == b.exponent) && almost_equal(a.mantissa, b.mantissa);\nmetamethod ne(float a, float b) -> int\n    return (a.sign != b.sign) || (a.exponent != b.exponent) || !almost_equal(a.mantissa, b.mantissa);\n\nmacro ( '__divide_float' (number) ',' (number) ) { const {\n    const int A = $1;\n    const int other = $2;\n    if(A == 0)\n        0\n    else if(other == 0)\n        0x7fc00000\n    else {\n        const int mantissaA = (A%0x800000) + 0x800000;\n        const int mantissaB = (other%0x800000) + 0x800000;\n        const int exponentA = (A/0x800000)%0x100;\n        const int exponentB = (other/0x800000)%0x100; \n        \n        const int mantissaC = 0;\n        const int div = (mantissaA * 0x100) / mantissaB;\n        const int rem = (mantissaA * 0x100) % mantissaB;\n        const mantissaC = div * 0x8000; \n        const div = (rem * 0x100) / mantissaB;\n        const rem = (rem * 0x100) % mantissaB;\n        const mantissaC = mantissaC + (div * 0x80);\n        const div = (rem * 0x100) / mantissaB;\n        const rem = (rem * 0x100) % mantissaB;\n        const mantissaC = mantissaC + (div / 2);\n        const int exponentC = (exponentA - exponentB) + 127;\n    \n        const if(mantissaC == 0){\n            0;\n        }else{\n            const while(mantissaC < 0x800000){\n                exponentC = exponentC - 1;\n                mantissaC = mantissaC * 2;\n            }\n            const ((((A/0x80000000) + (other/0x80000000))%2)*0x80000000) + ((exponentC%0x100) * 0x800000) + (mantissaC % 0x800000);\n        }\n    }\n}}\n\nmacro ( '__number_to_float' (number) ) { const {\n        const int A = $1;\n        const int sign = 0;\n        const if (A > 0x7fffffff) {\n            sign = 1;\n            A = 0-A; \n        }else {0}\n        const int mantissa = A;\n        const int exponent = bias;\n        const while(mantissa >= 0x1000000){\n            exponent = exponent + 1;\n            mantissa = mantissa / 2;\n        };\n        const while(mantissa < 0x800000){\n            exponent = exponent - 1;\n            mantissa = mantissa * 2; \n        };\n        const (sign * 0x80000000) + (exponent * 0x800000) + (mantissa % 0x800000); \n} }\n\nmacro ( '__count_digits' /\\d/ (/\\d+/)) {1+__count_digits $1}\nmacro ( '__count_digits' /\\d/) {1}\n\nmacro ( '__tenth_power' (number) ) {const {\n    const int t = 1;\n    const int i = 1+$1;\n    const while(i=i-1)t = t * 10;\n    t;\n}} \n\nmacro ( (number) '.' (/\\d+/) 'f' ) { (const {\n    const int divisor = (__tenth_power __count_digits $2);\n    const int numerator = $1;\n    numerator = (numerator * divisor) + $2;\n    (__divide_float (__number_to_float numerator) , (__number_to_float divisor));\n} -> float) }"),en("int.bc","metamethod pow(int _a, int _b) -> int {\n    if(!_b)\n        return 1;\n    if(_b == 1)\n        return _a;\n    int _result = 1;\n    while(_b > 0){\n        if(!(_b%2)){\n            _b = _b / 2;\n            _a = _a * _a;\n        }else{\n            _b = _b - 1\n            _result = _result * _a;\n            _b = _b / 2;\n            _a = _a * _a\n        }\n    }\n    return _result;\n}\nmetamethod bshl(int _a, int _b) -> int {\n    return _a * (2 ^ _b);\n}\nmetamethod bshr(int _a, int _b) -> int {\n    return _a / (2 ^ _b);\n}\nmetamethod band(int _a, int _b) -> int {\n    int _o = 0;\n    int _i = 1;\n    while (_i){\n        _o = _o + ((_a%2)*(_b%2))*_i;\n        _i = _i * 2;\n        _a = _a / 2;\n        _b = _b / 2;\n    }\n    return _o;\n}\nmetamethod bor(int _a, int _b) -> int {\n    int _o = 0;\n    int _i = 1;\n    while (_i){\n        _o = _o + !(!(_a%2)*!(_b%2))*_i;\n        _i = _i * 2;\n        _a = _a / 2;\n        _b = _b / 2;\n    }\n    return _o;\n}\nmetamethod bxor(int _a, int _b) -> int {\n    int _o = 0;\n    int _i = 1;\n    while (_i){\n        _o = _o + (_a%2!=_b%2)*_i;\n        _i = _i * 2;\n        _a = _a / 2;\n        _b = _b / 2;\n    }\n    return _o;\n}"),en("inttypes.bc","// int can cast to everything implicitely, via modulo\n// Whilst int acts as an insigned value generally, we allow it to be cast to signed values destructively.\nmetamethod cast(int _i) -> u32 (_i -> u32);\nmetamethod cast(int _i) -> s32 (_i -> s32);\n// Likewise, everything can cast to int implicitly\nmetamethod cast(u32 _i) -> int (_i -> int);\nmetamethod cast(s32 _i) -> int (_i -> int);\n// u32s can cast to u16 and u8, and so on (Including in reverse)\nmetamethod cast(u32 _i) -> u16 ((_i -> int) % 0x10000 -> u16);\nmetamethod cast(u32 _i) -> u8  ((_i -> int) % 0x100 -> u8);\nmetamethod cast(u16 _i) -> u32 ((_i -> int) -> u32);\nmetamethod cast(u16 _i) -> u8  ((_i -> int) % 0x100 -> u8);\nmetamethod cast(u8  _i) -> u32 ((_i -> int) -> u32);\nmetamethod cast(u8  _i) -> u16 ((_i -> int) -> u16);\n// Same with signed values, although special attention must be paid to the sign bit\n// To go from s32, we take the value % 0x8000, which leaves 15 bits of data and the sign bit\n// We transfer the sign bit by adding (_i / 0x80000000) * 0x8000, Same for the other bits and values\nmetamethod cast(s32 _i) -> s16 (\n    ((_i -> int) % 0x8000) + ((_i -> int) / 0x80000000) * 0x8000 -> s16\n);\nmetamethod cast(s32 _i) -> s8 (\n    ((_i -> int) % 0x80) + ((_i -> int) / 0x80000000) * 0x80 -> s8\n);\nmetamethod cast(s16 _i) -> s32 (\n    ((_i -> int) % 0x8000) + ((_i -> int) / 0x8000) * 0x80000000 -> s32\n);\nmetamethod cast(s16 _i) -> s8 (\n    ((_i -> int) % 0x80) + ((_i -> int) / 0x8000) * 0x80 -> s8\n);\nmetamethod cast(s8 _i) -> s32 (\n    ((_i -> int) % 0x8000) + ((_i -> int) / 0x80) * 0x80000000 -> s32\n);\nmetamethod cast(s8 _i) -> s16 (\n    ((_i -> int) % 0x80) + ((_i -> int) / 0x80) * 0x8000 -> s16\n);\n// Finally, u32 cast to s32 and so on, though without the sign bit\nmetamethod get_signed(u32 _i) -> s32 ((_i -> int) % 0x80000000 -> s32);\nmetamethod get_unsigned(s32 _i) -> u32 ((_i -> int) % 0x80000000 -> u32);\n\nmetamethod lt(s32 _a, s32 _b) -> int ((_a -> int)+0x80000000) < ((_b -> int)+0x80000000) ;\nmetamethod gt(s32 _a, s32 _b) -> int ((_a -> int)+0x80000000) > ((_b -> int)+0x80000000) ;\nmetamethod le(s32 _a, s32 _b) -> int ((_a -> int)+0x80000000) <= ((_b -> int)+0x80000000) ;\nmetamethod ge(s32 _a, s32 _b) -> int ((_a -> int)+0x80000000) >= ((_b -> int)+0x80000000) ;\n\nabstract class u32 {}\nabstract class u16 {}\nabstract class u8  {}\nabstract class s32 {}\nabstract class s16 {}\nabstract class s8  {}"),en("io.bc","include stringify.bc;\n\nfunction qFormat(func(int) iterator, stringified s){\n    iterator('\"');\n    s(function(int c){\n        if (c == '\"' || c == '\\\\'){\n            iterator('\\\\');\n        }\n        iterator(c);\n    });\n    iterator('\"');\n} \n\nfunction xFormat(func(int) iterator, stringified s){\n    // Treat the n value of the stringified as a lowercase hex number\n    @int buffer = reserve 8;\n    int n = s.n;\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 16;\n        if (m > 9)\n            buffer[l] = ('a' + m - 10)\n        else\n            buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\n\nfunction XFormat(func(int) iterator, stringified s){\n    // Treat the n value of the stringified as a lowercase hex number\n    @int buffer = reserve 8;\n    int n = s.n;\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 16;\n        if (m > 9)\n            buffer[l] = ('A' + m - 10)\n        else\n            buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\n\nfunction bFormat(func(int) iterator, stringified s){\n    // Treat the n value of the stringified as a lowercase hex number\n    @int buffer = reserve 32;\n    int n = s.n;\n    if(n == 0){\n        iterator('0');\n    }\n    int l = 0;\n    while(n){\n        n, int m = n /% 2;\n        buffer[l] = '0' + m;\n        l++;\n    }\n    while(l){\n        l--;\n        iterator(buffer[l]);\n    }\n}\n\nfunction format(func(int) iterator, stringified formatSpecifier, params stringified[count] elements){\n    // Tracks if a $ was primed\n    int isSpecial = 0;\n    // One of 0, 'q', 'x', 'X', 'b'\n    int modifier = 0;\n    formatSpecifier(function(int c){\n        if (isSpecial) {\n            if (c == 'q'){\n                modifier = 'q';\n                return;\n            }\n            if (c == 'x'){\n                modifier = 'x';\n                return;\n            }\n            if (c == 'X'){\n                modifier = 'X';\n                return;\n            }\n            if (c == 'b'){\n                modifier = 'b';\n                return;\n            }\n            // Iterate the element, use any special modifier if required.\n            if (c >= '0' && c <= '9'){\n                if(modifier == 'q'){\n                    qFormat(iterator, elements[c - '0']);\n                } else if(modifier == 'x'){\n                    xFormat(iterator, elements[c - '0']);\n                } else if(modifier == 'X'){\n                    XFormat(iterator, elements[c - '0']);\n                } else if(modifier == 'b'){\n                    bFormat(iterator, elements[c - '0']);\n                } else {\n                    elements[c - '0'](iterator); \n                }\n                isSpecial = 0;\n                modifier = 0;\n                return\n            }\n            isSpecial = 0;\n            modifier = 0;\n            iterator(c);\n            return;\n        }\n        \n        if (c == '$'){\n            isSpecial = 1;\n        }else{\n            iterator(c);\n        }\n    });\n}\n\nfunction printf(stringified formatSpecifier, params stringified[count] elements){\n    format(putchar, formatSpecifier, count, elements);\n}\n\nfunction print(params stringified[count] elements){\n    stringified.deliminated(putchar, \"\\t\", count, elements);\n}\nint lastChar = -1;\nint bufferedChar = -1;\nvar oldGetchar = getchar;\ngetchar = function() -> int{\n    if(bufferedChar!=-1){\n        int o = bufferedChar;\n        bufferedChar = -1;\n        return o;\n    }\n    return lastChar=oldGetchar();\n}\nfunction rejectchar(){\n    bufferedChar=lastChar;\n}\n\nabstract class gets{};\nmetamethod call(typegets _, int bufferLength, @int buffer, stringified terminators) -> int {\n    if(bufferLength == 0)\n        return 0;\n    int c;\n    int i = 0;\n    int terminated = 0;\n    while(1+c=getchar()){\n        terminators(function(int s)\n            if (s == c)\n                terminated = 1\n        );\n        if(terminated){\n            rejectchar();\n            return i;\n        }\n        buffer[i] = c;\n        i++;\n        if(i>=bufferLength)\n            return i-1;\n    }\n    return i;\n}\nmetamethod call(typegets _, int bufferLength, @int buffer) -> int\n    return gets(bufferLength, buffer, \"\\r\\n\");\n\nfunction __getsstringified(string _terminators, func(int) iterator){\n    stringified terminators = _terminators;\n    int c;\n    while(1+c=getchar()){\n        int terminated = 0;\n        terminators(function(int s)\n            if (s == c)\n                terminated = 1\n        );\n        if(terminated){\n            rejectchar();\n            return;\n        }else{\n            iterator(c);\n        }\n    }\n}\n\nmetamethod call(typegets _, string terminators) -> stringified {\n    return new stringified(terminators, __getsstringified);\n}\nmetamethod call(typegets _) -> stringified{\n    return new stringified(\"\\r\\n\", __getsstringified);\n}\nabstract class getof{};\nmetamethod call(typegetof _, int bufferLength, @int buffer, stringified whitelist) -> int{\n    if(bufferLength == 0)\n        return 0;\n    int c;\n    int i = 0;\n    while(1+c=getchar()){\n        int terminated = 1\n        whitelist(function(int s)\n            if (s == c)\n                terminated = 0\n        );\n        if(terminated){\n            rejectchar();\n            return i;\n        }\n        buffer[i] = c;\n        i++;\n        if(i>=bufferLength)\n            return i-1;\n    }\n    return i;\n}\n\nfunction __getofstringified(string _whitelist, func(int) iterator){\n    stringified whitelist = _whitelist;\n    int c;\n    while(1+c=getchar()){\n        int terminated = 1;\n        whitelist(function(int s)\n            if (s == c)\n                terminated = 0\n        );\n        if(terminated){\n            rejectchar();\n            return;\n        }else{\n            iterator(c);\n        }\n    }\n}\nmetamethod call(typegetof _, string whitelist) -> stringified {\n    return new stringified(whitelist, __getofstringified);\n}\n\nfunction getint() -> int {\n    int j = 0;\n    getof(\"0123456789\")(function(int c){\n        j = j * 10\n        j = j + c - '0';\n    });\n    return j;\n}"),en("mem.bc","function memcpy<T>(@T source, @T dest, int count){\n    int i = 0;\n    if((dest -> int) <= (source -> int)){\n        while(i < count){\n            dest[i]=source[i];\n            i++;\n        }\n    }else{\n        while(i < count){\n            int j = (count-1)-i;\n            dest[j]=source[j];\n            i++;\n        }\n    }\n}\nfunction memswp<T>(@T a, @T b){\n    T temp_a = *a;\n    *a = *b;\n    *b = temp_a;\n}\nfunction memswp<T>(@T a, @T b, int count){\n    int i = 0;\n    while(i < count){\n        T temp_a = a[i];\n        a[i] = b[i];\n        b[i] = temp_a;\n        i++;\n    }\n}"),en("pair.bc","struct pair<A,B> {\n    A a;\n    B b;\n    new(void a, void b){\n        this.a = a;\n        this.b = b;\n    };\n}"),en("rand.bc","include int.bc;\n\nint seedA = COMPILER.random;\nint seedB = 0xb0a710ad;\nfunction rand() -> int{\n    int x = seedA;\n    int y = seedB;\n    x = x ~ (x << 13);\n    x = x ~ (x >> 17);\n    x = x ~ (x << 5);\n    seedA = y;\n    seedB = x;\n    return x + y;\n}\nfunction rand(int max) -> int {\n    if(max <= 1) return max;\n    // Generate a re-roll threshold from the max.\n    // This is the largest multiple of max that is <=0xffffffff\n    int biggestMult = (0xffffffff / max) * max;\n    int x;\n    while(biggestMult <= x=rand()){}\n    // Reroll until x is a number lessthan or equal to the biggest multiple.\n    // This accounts for slight bias towards smaller numbers for non-power of 2\n    return x%max;\n}\nfunction rand(int min, int max) -> int {\n    return rand(max - min) + min;\n}\n\nfunction seed(int a, int b){\n    seedA = a;\n    seedB = b;\n}"),en("stack.bc","metamethod getindex<T>(Stack<T> this, int i) -> T{\n    return *(this.Data+i%this.Length);\n}\nmetamethod setindex<T>(Stack<T> this, int i, T v){\n    *(this.Data+i%this.Length) = v;\n}\nmetamethod ptrindex<T>(Stack<T> this, int i) -> @T{\n    return this.Data+i%this.Length;\n}\n\nclass Stack<T> {\n    int Capacity;\n    int Length;\n    @T Data;\n    \n    new(){\n        this.Capacity = 8;\n        this.Data = alloc(8);\n    }\n    \n    new(int cap){\n        this.Capacity = cap;\n        this.Data = alloc(cap);\n    }\n     \n    virtual function Push(T v){\n        if(this.Length == this.Capacity){\n            @T newBuff = alloc(this.Capacity * 2);\n            int i = 0;\n            while(i < this.Length){\n                *(newBuff + i) = *(this.Data + i);\n                i++;\n            }\n            this.Capacity = this.Capacity * 2;\n            @T oldData = this.Data;\n            this.Data = newBuff;\n            free(oldData);\n        };\n        *(this.Data + this.Length) = v;\n        this.Length++;\n    }\n    virtual function Pop() -> T {\n        if(this.Length){\n            this.Length--;\n            return *(this.Data + this.Length);\n        }\n        return (0 -> T);\n    }\n    virtual function Peek() -> T {\n        if(this.Length) return *(this.Data + this.Length - 1);\n        return (0 -> T);\n    }\n    virtual function Has() -> int {\n        if this.Length return 1;\n        return 0;\n    }\n}"),en("string.bc","abstract class string {}\nmetamethod get_length(string this) -> int *(this -> @int);\nmetamethod get_chars(string this) -> @int 1+(this -> @int);\nmetamethod getindex(string this, int index) -> int *(1+index+(this->@int));\nmetamethod setindex(string this, int index, int value) -> int *(1+index+(this->@int)) = value;\nmetamethod ptrindex(string this, int index) -> @int 1+index+(this->@int);\nmetamethod dispose(string this) if((this->int)>=(COMPILER.aftercode->int)) free(this);"),en("stringutils.bc","include arrayutils.bc;\ninclude string.bc;\ninclude mem.bc;\n\nmetamethod get_array(string this) -> array<int> new array(this.length, this.chars);\n\nstruct stringutils {\n    static function from(array<int> arr) -> string {\n        @int res = alloc(arr.count+1);\n        *res = arr.count;\n        memcpy(arr.data, res+1, arr.count);\n        return (res -> string);\n    }\n    static function from(int count, @int chars) -> string {\n        @int res = alloc(count+1);\n        *res = count;\n        memcpy(chars, res+1, count);\n        return (res -> string);\n    }\n    static function clone(string s) -> string {\n        int size = (string -> @int) + 1;\n        @int newchars = alloc(size);\n        memcpy((s->@int),newchars,size);\n        return (newchars -> string);\n    }\n    static function concat(string a, string b) -> string {\n        @int res = alloc(a.length + b.length + 1);\n        int i = 0;\n        *res = a.length + b.length;\n        while (i < a.length){\n            res[i+1] = a[i];\n            i++;\n        }\n        int j = 0;\n        while (j < b.length){\n            res[i+1] = b[j];\n            i++;\n            j++;\n        }\n        return (res -> string);\n    }\n    static function charlower(int char) -> int {\n        if(char >= 'A' && char <= 'Z')\n            return char - 'A' + 'a';\n        return char;\n    }\n    static function charupper(int char) -> int {\n        if(char >= 'a' && char <= 'z')\n            return char - 'a' + 'A';\n        return char;\n    }\n    static function lower(string s) -> string {\n        s.array.modify(stringutils.charlower);\n        return s;\n    }\n    static function upper(string s) -> string {\n        s.array.modify(stringutils.charupper);\n        return s;\n    }\n    static function toint(string s) -> int {\n        int n = 0;\n        s.array.iterate(int c => {\n            if(c >= '0' && c <= '9'){\n                n = (n*10)+(c-'0');\n            }\n        });\n        return n;\n    }\n    static function reverse(string s) -> string {\n        int i = 0;\n        int c = s.length;\n        while(i*2 < c){\n            int a = s[i];\n            s[i] = s[(c-1)-i];\n            s[(c-1)-i]=a;\n            i++;\n        }\n        return s;\n    }\n    static function sub(int start, int end, string s) -> string {\n        if(end > s.length)end = s.length;\n        if(start > end)\n            return stringutils.reverse(stringutils.sub(end, start, s));\n        return stringutils.from(end-start, &s[start]);\n    }\n    static function sub(int start, string s) -> string {\n        int end = s.length;\n        if(start > end)\n            start = end;\n        return stringutils.from(end-start, &s[start]);\n    }\n    static function find(string needle, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            int j = 0;\n            while(j < needle.length){\n                if(needle[j] != haystack[j+i])\n                    j=-1\n                else\n                    j++;\n            }\n            if(j!=-1)\n                return i;\n            i++;\n        }\n        return -1;\n    }\n    static function find(string needle, int i, string haystack) -> int {\n        while(i < haystack.length){\n            int j = 0;\n            while(j < needle.length){\n                if(needle[j] != haystack[j+i])\n                    j=-1\n                else\n                    j++;\n            }\n            if(j!=-1)\n                return i;\n            i++;\n        }\n        return -1;\n    }\n    static function find(int needle, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            if(needle == haystack[i])\n                return i;\n            i++;\n        }\n        return -1;\n    }\n    static function find(int needle, int i, string haystack) -> int {\n        while(i < haystack.length){\n            if(needle == haystack[i])\n                return i;\n            i++;\n        }\n        return -1;\n    }\n    static function has(string needle, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            int j = 0;\n            while(j < needle.length){\n                if(needle[j] != haystack[j+i])\n                    j=-1\n                else\n                    j++;\n            }\n            if(j!=-1)\n                return 1;\n            i++;\n        }\n        return 0;\n    }\n    static function has(string needle, int i, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            int j = 0;\n            while(j < needle.length){\n                if(needle[j] != haystack[j+i])\n                    j=-1\n                else\n                    j++;\n            }\n            if(j!=-1)\n                return 1;\n            i++;\n        }\n        return 0;\n    }\n    static function has(int needle, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            if(needle == haystack[i])\n                return 1;\n            i++;\n        }\n        return 0;\n    }\n    static function has(int needle, int i, string haystack) -> int {\n        int i = 0;\n        while(i < haystack.length){\n            if(needle == haystack[i])\n                return 1;\n            i++;\n        }\n        return 0;\n    }\n    static function replace(string needle, string replacement, string haystack) -> string {\n        // The replacement string can be no-longer than one replacement for each length of the needle over the haystack.\n        int buffersize = (haystack.length / needle.length) * replacement.length;\n        @int buffer = temp alloc(buffersize);\n        int j = 0;\n        int i = 0;\n        while(i < haystack.length){\n            int k = 0;\n            while(k < needle.length){\n                if(needle[k] != haystack[k+i])\n                    k=-1\n                else\n                    k++;\n            }\n            if(k==-1){\n                buffer[j] = haystack[i];\n                i++;\n                j++;\n            }else{\n                memcpy(&replacement[0], &buffer[j], replacement.length);\n                j = j + replacement.length;\n                i = i + needle.length;\n            }\n        }\n        int i = 0;\n        return stringutils.from(j, buffer);\n    }\n    static function replace(string needle, string replacement, int i, string haystack) -> string {\n        // The replacement string can be no-longer than one replacement for each length of the needle over the haystack.\n        int buffersize = (haystack.length / needle.length) * replacement.length;\n        @int buffer = temp alloc(buffersize);\n        int j = 0;\n        while(j < i){\n            buffer[j] = haystack[j];\n            j++;\n        }\n        while(i < haystack.length){\n            int k = 0;\n            while(k < needle.length){\n                if(needle[k] != haystack[k+i])\n                    k=-1\n                else\n                    k++;\n            }\n            if(k==-1){\n                buffer[j] = haystack[i];\n                i++;\n                j++;\n            }else{\n                memcpy(&replacement[0], &buffer[j], replacement.length);\n                j = j + replacement.length;\n                i = i + needle.length;\n            }\n        }\n        int i = 0;\n        return stringutils.from(j, buffer);\n    }\n    static function replaceone(string needle, string replacement, string haystack) -> string {\n        int tochop = stringutils.find(needle, haystack);\n        if(tochop == -1)\n            return stringutils.clone(haystack);\n        string start = temp stringutils.sub(0, tochop, haystack);\n        string end = temp stringutils.sub(tochop + needle.length, haystack);\n        start = temp stringutils.concat(start, replacement);\n        string res = stringutils.concat(start, end);\n        return res;\n    }\n    static function split(string haystack) -> array<string> {\n        array<string> res = new array(haystack.length, alloc(haystack.length));\n        int i = 0;\n        while(i < haystack.length){\n            res.data[i] = stringutils.from(1, &haystack[i]);\n            i++;\n        }\n        return res;\n    }\n    static function split(string chars, string haystack) -> array<string> {\n        array<string> res = new array(haystack.length, temp alloc(haystack.length));\n        @int buffer = temp alloc(haystack.length);\n        int bufferIndex = 0;\n        int haystackIndex = 0;\n        int arrayIndex = 0;\n        while(haystackIndex < haystack.length){\n            if(stringutils.has(haystack[haystackIndex], chars)){\n                res.data[arrayIndex] = stringutils.from(bufferIndex, buffer);\n                bufferIndex = 0;\n                arrayIndex++;\n            }else{\n                *(buffer+bufferIndex) = haystack[haystackIndex]\n                bufferIndex++;\n            }\n            haystackIndex++;\n        }\n        res.data[arrayIndex] = stringutils.from(bufferIndex, buffer);\n        arrayIndex++;\n        @string actualRes = alloc(arrayIndex);\n        memcpy(res.data, actualRes, arrayIndex);\n        return new array(arrayIndex, actualRes);\n    }\n    \n    static function iswhitespace(int char) -> int {\n        if(char == ' ') return 1;\n        if(char == '\\t') return 1;\n        if(char == '\\n') return 1;\n        if(char == '\\r') return 1;\n        return 0;\n    }\n\n    static function trimstart(string s) -> string {\n        int i = 0;\n        while(i < s.length && stringutils.iswhitespace(s[i])){\n            i++;\n        }\n        return stringutils.sub(i, s);\n    }\n\n    static function trimend(string s) -> string {\n        int i = s.length-1;\n        while(i >= 0 && stringutils.iswhitespace(s[i])){\n            i--;\n        }\n        return stringutils.sub(0, i+1, s);\n    }\n\n    static function trim(string s) -> string {\n        return stringutils.trimstart(temp stringutils.trimend(s));\n    }\n}\n\nmetamethod get_from(typestring s)   stringutils.from;\n\nmetamethod get_concat(string s)     function(string b, string a)    stringutils.concat(a,b);\nmetamethod get_lower(string s)      stringutils.lower;\nmetamethod get_upper(string s)      stringutils.upper;\nmetamethod get_toint(string s)      stringutils.toint;\nmetamethod get_reverse(string s)    stringutils.reverse;\nmetamethod get_sub(string s)        stringutils.sub;\nmetamethod get_find(string s)       stringutils.find;\nmetamethod get_has(string s)        stringutils.has;\nmetamethod get_replace(string s)    stringutils.replace;\nmetamethod get_replaceone(string s) stringutils.replaceone;\nmetamethod get_split(string s)      stringutils.split;\nmetamethod get_trimstart(string s)  stringutils.trimstart;\nmetamethod get_trimend(string s)    stringutils.trimend;\nmetamethod get_trim(string s)       stringutils.trim;"),en("stringify.bc","include string.bc;\ninclude arraylist.bc;\n\nabstract class stringifyMethod {}\nmetamethod cast(stringifyMethod this) -> func(void, func(int)) (this -> func(void, func(int)));\nmetamethod cast(func(void, func(int)) this) -> stringifyMethod (this -> stringifyMethod);\n\nmetamethod call(stringified s, func(int) iterator)\n    (s.method -> func(int,func(int)))(s.n, iterator)\n\nstruct stringified {\n    void n;\n    stringifyMethod method;\n    new(void n, stringifyMethod method){\n        this.n = n;\n        this.method = method;\n    }\n    static function deliminated(func(int) iterator, stringified seperator, params stringified[count] elements){\n        int i = 0;\n        while(i < count){\n            if(i){\n                seperator(iterator);\n            };\n            elements[i](iterator);\n            i++;\n        }\n    }\n    static function join(func(int) iterator, params stringified[count] elements){\n        int i = 0;\n        while(i < count){\n            elements[i](iterator);\n            i++;\n        }\n    }\n    \n    virtual function toString() -> string {\n        ArrayList<int> buff = temp new ArrayList(8);\n        this(int c => buff.Add(c));\n        @int s = alloc(buff.Size+1);\n        s[0] = buff.Size;\n        int i=0;\n        while(i < buff.Size){\n            s[i+1] = buff[i];\n            i++;\n        }\n        return (s -> string);\n    } \n}\n\nfunction intToString(int n, func(int) iterator){\n    if(!n){\n        iterator('0');\n        return;\n    }\n    @int buffer = reserve 10;\n    int i = 0;\n    while(n){\n        n,int m = n /% 10;\n        buffer[i] = (m+'0');\n        i++;\n    }\n    while(i--){\n        iterator(buffer[i]);\n    }\n}\nmetamethod cast(int n) -> stringified new stringified(n, intToString);\n\nfunction iterateString(string s, func(int) iterator){\n    int i = 0;\n    int l = s.length;\n    while(i < l){\n        iterator(s[i]);\n        i++;\n    }\n}\nmetamethod cast(string s) -> stringified new stringified(s, iterateString);"),en("term.bc","include stack.bc;\ninclude string.bc;\n\nmetamethod get_R(Color3B c) -> int {\n    return (c->int)%2;\n}\nmetamethod get_G(Color3B c) -> int {\n    return ((c->int)/2)%2;\n}\nmetamethod get_B(Color3B c) -> int {\n    return ((c->int)/4)%2;\n}\nabstract class Color3B {\n    static function FromRGB(int r, int g, int b) -> Color3B{\n        return ((r%2) + (g%2)*2 + (b%2)*4 -> Color3B);\n    }\n}\n\nColor3B Black   = (0 -> Color3B);\nColor3B Red     = (1 -> Color3B);\nColor3B Green   = (2 -> Color3B);\nColor3B Yellow  = (3 -> Color3B);\nColor3B Blue    = (4 -> Color3B);\nColor3B Magenta = (5 -> Color3B);\nColor3B Cyan    = (6 -> Color3B);\nColor3B White   = (7 -> Color3B);\n\n@int numBuffer = reserve 10;\nabstract class Term {    \n    static function WriteLen(int length, @int data){\n        while(length--)putchar(data++);\n    }\n\n    static function Write(string text){\n        Term.WriteLen(text.length, text.chars);\n    }\n    \n    static function WriteNum(int n){\n        if(n==0)return putchar('0');\n        int l = 0;\n        while(n>0){\n            n,int m = n/%10;\n            *((numBuffer+4)-l) = '0' + m;\n            l++;\n        }\n        Term.WriteLen(l, (numBuffer+5)-l);\n    }\n    \n    static function smethod(int c){\n        putchar(0x1B);\n        putchar('[');\n        putchar(c);\n    }\n    \n    static function method(int n, int c){\n        putchar(0x1B);\n        putchar('[');\n        Term.WriteNum(n);\n        putchar(c);\n    }\n    \n    // Formatting stuff\n    static function format(int n){\n        Term.method(n, 'm');\n    }\n    static __Style Style;\n    static __Cursor Cursor;\n    \n    // Clear\n    static function ClearAfter(){\n        Term.smethod('J');\n    }\n    static function ClearBefore(){\n        Term.method(1, 'J');\n    }\n    static function Clear(){\n        Term.method(2, 'J');\n    }\n    \n    // Events\n    static function PollEvents(){\n        int r = getchar();\n        if(r+1){\n            int low = getchar();\n            int high = getchar();\n            int i = 0;\n            if(r == 1){\n                while(i < Term.Click.Length){\n                    (Term.Click[i++] -> func(int,int))(low, high)\n                }\n            }else if (r == 2){\n                while(i < Term.KeyDown.Length){\n                    (Term.KeyDown[i++] -> func(int,int))(low, high)\n                }\n            }else if (r == 3){\n                while(i < Term.KeyUp.Length){\n                    (Term.KeyUp[i++] -> func(int,int))(low, high)\n                }\n            }else if (r == 4){\n                while(i < Term.Frame.Length){\n                    (Term.Frame[i++] -> func())()\n                }\n            }\n        }\n    }\n    \n    \n    \n    static Stack<func(int,int)> KeyDown = reserve Stack(1);\n    static Stack<func(int,int)> KeyUp = reserve Stack(1);\n    static Stack<func(int,int)> Click = reserve Stack(1);\n    static Stack<func()> Frame = reserve Stack(1);\n}\n\nmetamethod get_Fore(__Style s) -> void{return 0;}\nmetamethod get_Back(__Style s) -> void{return 0;}\nmetamethod get_Bold(__Style s) -> void{return 0;}\nmetamethod get_Italic(__Style s) -> void{return 0;}\nmetamethod get_Underline(__Style s) -> void{return 0;}\nmetamethod get_Striked(__Style s) -> void{return 0;}\n\nmetamethod set_Fore(__Style s, Color3B col){\n    return Term.format(30 + (col -> int));\n}\nmetamethod set_Back(__Style s, Color3B col){\n    return Term.format(40 + (col -> int));\n}\nmetamethod set_Bold(__Style s, int b){\n    if(b)Term.format(1)\n    else Term.format(22);\n}\nmetamethod set_Italic(__Style s, int b){\n    if(b)Term.format(3)\n    else Term.format(23);\n}\nmetamethod set_Underline(__Style s, int b){\n    if(b)Term.format(4)\n    else Term.format(24);\n}\nmetamethod set_Striked(__Style s, int b){\n    if(b)Term.format(9)\n    else Term.format(29);\n}\nabstract class __Style {\n}\n\nmetamethod get_X(__Cursor c) -> void {return 0};\nmetamethod get_Y(__Cursor c) -> void {return 0};\nmetamethod get_Up(__Cursor c) -> void {return 0};\nmetamethod get_Down(__Cursor c) -> void {return 0};\nmetamethod get_Left(__Cursor c) -> void {return 0};\nmetamethod get_Right(__Cursor c) -> void {return 0};\n\nmetamethod set_X(__Cursor c, int x){ return Term.method(x, 'G') }\nmetamethod set_Y(__Cursor c, int y){ return Term.method(y, 'H') }\nabstract class __Cursor {\n    virtual function Up(int n){ return Term.method(n, 'A') }\n    virtual function Down(int n){ return Term.method(n, 'B') }\n    virtual function Left(int n){ return Term.method(n, 'D') }\n    virtual function Right(int n){ return Term.method(n, 'C') }\n    virtual function Push(){ return Term.smethod('s') }\n    virtual function Pop(){ return Term.smethod('u') }\n    virtual function Reset(){ return Term.smethod('H') }\n    virtual function NextLine(){ return Term.method(1, 'E') }\n    virtual function PrevLine(){ return Term.method(1, 'F') }\n}"),en("*",Object.keys(Rt).map((function(e){return"include ".concat(e,";")})).join("\n")));var n,i=new URL(window.location).searchParams;if(i.has("code")){var r=!!i.has("simpleio")&&i.get("simpleio"),s=(new TextDecoder).decode((n=i.get("code"),Tt.inflate(Nt(n)))),o=JSON.parse(s);if(t.setValue(o["main.bc"]),!Zt){for(var a in Zt=!0,o)"main.bc"!==a&&new Jt(a,o[a]);setTimeout((function(){document.querySelector("button[data-target='main.bc']").click(),Zt=!1}),60),"main.bc"===e&&!1!==r&&setTimeout((function(){Yt(!0),document.getElementById("simpleIOInput").value=r,Wt()}),0)}}else t.setValue("include term.bc;\ninclude extmacros.bc;\ninclude rand.bc;\n\nmetamethod get_X(pVec2 this) -> int { (this -> int)%0x10000 }\nmetamethod get_Y(pVec2 this) -> int { (this -> int)/0x10000 }\nmetamethod add(pVec2 a, pVec2 b) -> pVec2 { ( ((((a->int)%0x10000)+((b->int)%0x10000))%0x10000) + ((((a->int)/0x10000)*0x10000)+(((b->int)/0x10000)*0x10000)) -> pVec2) }\nmetamethod sub(pVec2 a, pVec2 b) -> pVec2 { ( ((((a->int)%0x10000)-((b->int)%0x10000))%0x10000) + ((((a->int)/0x10000)*0x10000)-(((b->int)/0x10000)*0x10000)) -> pVec2) }\nmetamethod eq(pVec2 a, pVec2 b) -> int { (a->int)==(b->int) }\nabstract class pVec2 {\n    static function Make(int x, int y) -> pVec2 { ((x%0x10000) + (y*0x10000) -> pVec2) }\n    static function WithX(pVec2 this, int x) -> pVec2 { ((x%0x10000) + (((this->int)/0x10000)*0x10000) -> pVec2) }\n    static function WithY(pVec2 this, int y) -> pVec2 { (((this->int)%0x10000)+ (y*0x10000) -> pVec2) }\n}\n\npVec2 apple = pVec2.Make(0xFF,0xFF);\n\n@pVec2 DirectionVectors = new pVec2[] {\n    (0xFFFF0000 -> pVec2),\n    (0x00000001 -> pVec2),\n    (0x00010000 -> pVec2),\n    (0x0000FFFF -> pVec2)\n};\n@int DirectionHeads = new int[]{'^','>','v','<'}\n\nmetamethod truthy(Body this)->int{\n    return (this -> int);\n}\nclass Body {\n    pVec2 Pos;\n    pVec2 LastPos;\n    Body Tail;\n    \n    function Move(pVec2 pos){\n        this.LastPos = this.Pos;\n        if(this.Tail)this.Tail.Move(this.Pos);\n        this.Pos = pos;\n    }\n    \n    function MoveBy(pVec2 amount){\n        this.Move(this.Pos + amount);\n    }\n    \n    function Grow(){\n        if(this.Tail)return this.Tail.Grow();\n        this.Tail = new Body(this.LastPos);\n    }\n    \n    function Draw(){\n        if(this.Tail)this.Tail.Draw();\n        Term.Cursor.X = this.Pos.X;\n        Term.Cursor.Y = this.Pos.Y;\n        putchar('#');\n    }\n    \n    new (pVec2 pos){\n        this.LastPos = pos;\n        this.Pos = pos;\n    }\n}\n\nclass Snake {\n    int Direction;\n    Body body;\n    new (pVec2 pos){\n        this.Direction = 1;\n        this.body = new Body(pos);\n    }\n    function Draw(){\n        this.body.Draw();\n        Term.Cursor.X = this.body.Pos.X;\n        Term.Cursor.Y = this.body.Pos.Y;\n        putchar(DirectionHeads + this.Direction);\n    }\n    function Grow()\n        this.body.Grow();\n    function MoveBy(pVec2 delta)\n        this.body.MoveBy(delta);\n    \n}\n\nint score = 0;\nfunction GameOver(){\n    Term.Clear();\n    Term.Style.Fore = Red;\n    Term.Style.Bold = 1;\n    Term.Cursor.X = 27;\n    Term.Cursor.Y = 15;\n    Term.Write(\"GAME  OVER\");\n    Term.Cursor.X = 28;\n    Term.Cursor.Y = 16;\n    Term.Write(\"SCORE: \");\n    Term.WriteNum(score);\n    asm {halt}\n}\n\nSnake snake = new Snake(pVec2.Make(32, 16));\nsnake.Grow();\nsnake.Grow();\nsnake.Grow();\n\nint frame = 0;\nint counter = 0;\nint grace = 3;\nTerm.PollEvents();\nTerm.Frame.Push(()=>{\n    seed(counter,rand());\n    rand();\n    if(apple.X > 63){\n        var a = (rand() -> pVec2);\n        apple = pVec2.Make(a.X%64, 1 + (a.Y%31));\n    }\n    if(frame++ >= 2 + (2*!(snake.Direction%2))){\n        snake.MoveBy((*(DirectionVectors + snake.Direction) -> pVec2));\n        frame = 0;\n    }\n    if(snake.body.Pos == apple){\n        score++;\n        snake.Grow();\n        var a = (rand() -> pVec2);\n        apple = pVec2.Make(a.X%64, 1 + (a.Y%31));\n    }\n    if(grace)grace--\n    else{\n        var b = snake.body.Tail;\n        while(b){\n            if(snake.body.Pos == b.Pos){\n                GameOver();\n            }\n            b = b.Tail;\n        }\n    }\n    if(snake.body.Pos.X > 63){GameOver();}\n    if(snake.body.Pos.Y > 31){GameOver();}\n    if(snake.body.Pos.Y < 1){GameOver();}\n    Term.Clear();\n    Term.Cursor.Reset();\n    Term.Style.Back = White;\n    Term.Style.Fore = Black;\n    Term.Write(\"                                                                \");\n    Term.Cursor.Reset();\n    Term.Write(\"SCORE: \");\n    Term.WriteNum(score);\n    Term.Style.Back = Black;\n    Term.Style.Fore = White;\n    Term.Cursor.X = apple.X;\n    Term.Cursor.Y = apple.Y;\n    putchar('a');\n    snake.Draw();\n});\n\nTerm.KeyDown.Push((int h, int l) => {\n    if(h=='w')if(1 == snake.Direction%2)return snake.Direction = 0;\n    if(h=='d')if(0 == snake.Direction%2)return snake.Direction = 1;\n    if(h=='s')if(1 == snake.Direction%2)return snake.Direction = 2;\n    if(h=='a')if(0 == snake.Direction%2)return snake.Direction = 3;\n    return\n})\n\nwhile(1){counter++;Term.PollEvents();}");It&&Xt(),Mt[e]=t;var l=t;l.on("guttermousedown",(function(e){var t=e.domEvent.target;if(-1!==t.className.indexOf("ace_gutter-cell")&&l.isFocused()&&!(e.clientX>25+t.getBoundingClientRect().left)){var n=e.getDocumentPosition().row;"undefined"===typeof e.editor.session.getBreakpoints(n,0)[n]?e.editor.session.setBreakpoint(n):e.editor.session.clearBreakpoint(n),e.stop()}}))}}var Jt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,e),this.Button=void 0,this.Input=void 0,this.EditorDiv=void 0,this.Editor=void 0,this.File="";var r=document.createElement("button");r.onclick=Ht;var s=document.createElement("input");s.size=1,s.type="text",s.oninput=function(){return s.size=Math.max(1,s.value.length)},r.append(s),document.getElementById("editorButtons").append(r);var o=document.createElement("div");o.className="etab";var l=document.createElement("textarea");null!==i&&(l.value=i),o.append(l),document.getElementById("editorTabs").appendChild(o);var c=(0,C.edit)(l);this.Editor=c,c.getSession().on("change",Kt),c.setTheme("ace/theme/github"),c.getSession().setMode("ace/mode/brainchild"),c.getSession().on("guttermousedown",(function(e){var t=e.domEvent.target;if(-1!==t.className.indexOf("ace_gutter-cell")&&c.isFocused()&&!(e.clientX>25+t.getBoundingClientRect().left)){var n=e.getDocumentPosition().row;"undefined"===typeof e.editor.session.getBreakpoints(n,0)[n]?e.editor.session.setBreakpoint(n):e.editor.session.clearBreakpoint(n),e.stop()}})),this.Button=r,this.Input=s,s.onblur=function(){return t.InputDone()},s.onkeydown=function(e){"Enter"===e.key&&s.blur()},s.focus(),this.EditorDiv=o,setTimeout((function(){null!==n&&(s.value=n,t.InputDone())}),30)}return h(e,[{key:"Destroy",value:function(){var e;Mt[this.File]&&delete Mt[this.File],this.Button.remove(),null===(e=this.Input)||void 0===e||e.remove(),this.EditorDiv.remove(),document.getElementById("editorButtons").children[0].click()}},{key:"InputDone",value:function(){var e=this;if(this.Input)if(this.Input.value.match(/^\s*$/))this.Destroy();else{Mt[this.File]&&delete Mt[this.File],this.File=this.Input.value,this.Button.setAttribute("data-target",this.File),this.EditorDiv.setAttribute("data-target",this.File),Mt[this.File]=this.Editor,this.Input.remove(),this.Button.innerText=this.File;var t=document.createElement("a");t.innerHTML='<i class="fa-solid fa-pencil"></i>',t.onclick=function(){return e.Edit()};var n=document.createElement("a");n.innerHTML='<i class="fa-solid fa-delete-left"></i>',n.onclick=function(){window.confirm("Are you sure you want to delete ".concat(e.File,"? No way to undo!"))&&e.Destroy()},this.Button.append(t),this.Button.append(n),this.Input=void 0,this.Button.click()}}},{key:"Edit",value:function(){var e=this;if(!this.Input){this.Button.innerHTML="";var t=document.createElement("input");t.size=1,t.type="text",t.oninput=function(){return t.size=Math.max(1,t.value.length)},t.onblur=function(){return e.InputDone()},t.onkeydown=function(e){"Enter"===e.key&&t.blur()},t.focus(),this.Input=t,this.Button.append(t)}}}]),e}();function en(e,t){Rt[e]=t;var n=document.createElement("button");n.onclick=Ht,n.innerText=e,n.setAttribute("style","order:1;"),n.setAttribute("data-target",e),n.className="readonly",document.getElementById("editorButtons").append(n);var i=document.createElement("div");i.className="etab",i.setAttribute("data-target",e);var r=document.createElement("textarea");i.append(r),document.getElementById("editorTabs").appendChild(i);var s=(0,C.edit)(r,{readOnly:!0});Mt[e]=s,s.setStyle("readonly"),s.getSession().setValue(t),s.getSession().on("change",Kt),s.setTheme("ace/theme/github"),s.getSession().setMode("ace/mode/brainchild"),s.getSession().on("guttermousedown",(function(e){var t=e.domEvent.target;if(-1!==t.className.indexOf("ace_gutter-cell")&&s.isFocused()&&!(e.clientX>25+t.getBoundingClientRect().left)){var n=e.getDocumentPosition().row;"undefined"===typeof e.editor.session.getBreakpoints(n,0)[n]?e.editor.session.setBreakpoint(n):e.editor.session.clearBreakpoint(n),e.stop()}}))}function tn(){var t=o((0,e.useState)(""),1)[0],n=!1,i=void 0;function r(){return r=p(d().mark((function e(){var t,n,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),e.next=3,Gt();case 3:n=e.sent,i=n.Assembly,console.log("parsed in ".concat(Date.now()-t,"ms")),t=Date.now(),i=kt(i),console.log("optimized in ".concat(Date.now()-t,"ms")),t=Date.now(),Et=new b(i),It&&(Et.Input=document.getElementById("simpleIOInput").value),console.log("compiled in ".concat(Date.now()-t,"ms")),document.getElementById("codeText").innerHTML=i.join("\n"),n.RenderBSMemory(Et);case 15:case"end":return e.stop()}}),e)}))),r.apply(this,arguments)}return fetch("../version.txt",{cache:"no-cache"}).then((function(e){return e.text().then((function(e){e.match(/^[\d.]+$/)&&e!=$t?document.getElementById("updateHeader").innerHTML="v".concat($t," - Latest version is v").concat(e," - Click <a href=\"#\" onclick=\"window.location=(''+window.location).replace('").concat($t,"','").concat(e,"')\">HERE</a> to try it out"):document.getElementById("updateHeader").innerHTML="v".concat($t)}))})),(0,At.jsxs)("div",{className:"App",children:[(0,At.jsx)("title",{children:"BrainChild"}),(0,At.jsx)("h1",{children:"BrainChild"}),(0,At.jsx)("div",{id:"updateHeader"}),(0,At.jsxs)("div",{id:"top",children:[(0,At.jsx)("div",{id:"editors",children:(0,At.jsx)("div",{id:"editorTabs",children:(0,At.jsx)("div",{"data-target":"main.bc",className:"etab active",children:(0,At.jsx)(w.ZP,{onChange:Kt,onLoad:Qt("main.bc"),width:"100%",height:"457.44px",theme:"github",mode:"brainchild"})})})}),(0,At.jsxs)("div",{id:"outputSide",children:[(0,At.jsxs)("div",{id:"actions",children:[(0,At.jsx)("button",{title:"Start/Stop Execution",onClick:function(e){Et&&!Et.running&&(Et=new b(Et.Code)),n=!n;var t=[];for(var r in Mt){var s=Mt[r].session.getBreakpoints();for(var o in s)t.push([r,+o])}for(var a=new Set,l=function(e){if(0===t.length)return c=e,"break";var n=Et.GetFileFroM(e);if(-1===t.findIndex((function(e){return e[0]===n}))){for(;e<Et.Heap.length&&Et.GetFileFroM(e)===n;)e++;return e--,c=e,"continue"}var i=Et.GetLineFrom(e);if(-1===t.findIndex((function(e){return e[1]===i}))){for(;e<Et.Heap.length&&Et.GetLineFrom(e)===i;)e++;return e--,c=e,"continue"}for(var r=0;r<t.length;r++){var s=t[r];if(s[0]===n&&s[1]===i){t.splice(r,1),a.add(e);break}}c=e},c=0;c<Et.Heap.length;c++){var u=l(c);if("break"===u)break}if(n)document.getElementById("asmRun").innerHTML='<i class="fa-solid fa-stop"></i>',document.getElementById("bf").classList.add("running"),Et&&It&&(Et.Input=document.getElementById("simpleIOInput").value),i=setInterval((function(){var e,t;if(null!==(e=null===(t=Et)||void 0===t?void 0:t.running)&&void 0!==e&&e)if(It||Ut(bt.Frame),void 0!==Et){for(var r in Mt){var s=Mt[r],o=s.session.getMarkers();if(o)for(var l=0,c=Object.keys(o);l<c.length;l++){var u=c[l];"codePointer"===o[+u].clazz&&s.session.removeMarker(o[+u].id)}}document.getElementById("bf").classList.remove("running");for(var h=Date.now(),d=function(){if(Et.Step(),a.has(Et.IP)){if(document.getElementById("asmRun").innerHTML='<i class="fa-regular fa-circle-play"></i>',document.getElementById("bf").classList.remove("running"),Y.CURRENT.RenderBSMemory(Et),!It&&Et.Output.length>0){var e=document.getElementById("output")===document.activeElement;_t.WriteAll(Et.Output),Et.Output="";var t=_t.Render();window.requestAnimationFrame((function(){document.getElementById("output").innerHTML=t})),e&&document.getElementById("output").focus()}else It&&(document.getElementById("simpleIOOutput").textContent=Et.Output);!It&&Et.InputPointer>0&&(Et.Input=Et.Input.substr(Et.InputPointer),Et.InputPointer=0);var r=document.getElementById("codeText");r.innerHTML=Et.CodeWithPointerHighlight();var s=r.querySelector("span");return r.scrollTo(0,s.offsetTop-600),n=!1,clearInterval(i),"break"}if(!Et.running)return"break"};Date.now()<h+1e3/60;){if("break"===d())break}if(!It&&Et.Output.length>0){var f=document.getElementById("output")===document.activeElement;_t.WriteAll(Et.Output),Et.Output="";var p=_t.Render();window.requestAnimationFrame((function(){document.getElementById("output").innerHTML=p})),f&&document.getElementById("output").focus()}else It&&(document.getElementById("simpleIOOutput").textContent=Et.Output);if(!It&&Et.InputPointer>0&&(Et.Input=Et.Input.substr(Et.InputPointer),Et.InputPointer=0),!Et.running){document.getElementById("bf").classList.remove("running"),Y.CURRENT.RenderBSMemory(Et),Mt[Et.GetFile()].session.addMarker(new C.Range(Et.GetLine(),0,Et.GetLine(),1),"codePointer","fullLine");var g=document.getElementById("codeText");g.innerHTML=Et.CodeWithPointerHighlight();var m=g.querySelector("span");g.scrollTo(0,m.offsetTop-600)}}else Et=new b(document.getElementById("codeBody").value),It&&(Et.Input=document.getElementById("simpleIOInput").value)}),0);else{if(document.getElementById("asmRun").innerHTML='<i class="fa-solid fa-play"></i>',document.getElementById("bf").classList.remove("running"),clearInterval(i),!Et)return;Y.CURRENT.RenderBSMemory(Et),Mt[Et.GetFile()].session.addMarker(new C.Range(Et.GetLine(),0,Et.GetLine(),1),"codePointer","fullLine");var h=document.getElementById("codeText");h.innerHTML=Et.CodeWithPointerHighlight();var d=h.querySelector("span");h.scrollTo(0,d.offsetTop-600)}},id:"asmRun",children:(0,At.jsx)("i",{className:"fa-solid fa-play"})}),(0,At.jsx)("button",{title:"Step Assembly",onClick:function(){if(void 0!==Et){for(var e in Mt){var t=Mt[e],n=t.session.getMarkers();if(n)for(var i=0,r=Object.keys(n);i<r.length;i++){var s=r[i];"codePointer"===n[+s].clazz&&t.session.removeMarker(n[+s].id)}}if(Et.Step(),null!==Lt&&Lt.RenderBSMemory(Et),!It&&Et.Output.length>0){var o=document.getElementById("output")===document.activeElement;_t.WriteAll(Et.Output),Et.Output="";var a=_t.Render();window.requestAnimationFrame((function(){document.getElementById("output").innerHTML=a})),o&&document.getElementById("output").focus()}else It&&(document.getElementById("simpleIOOutput").textContent=Et.Output);var l=document.getElementById("codeText");l.innerHTML=Et.CodeWithPointerHighlight(),!It&&Et.InputPointer>0&&(Et.Input=Et.Input.substr(Et.InputPointer),Et.InputPointer=0);var c=l.querySelector("span");l.scrollTo(0,c.offsetTop-600),Y.CURRENT.RenderBSMemory(Et),Mt[Et.GetFile()].session.addMarker(new C.Range(Et.GetLine(),0,Et.GetLine(),1),"codePointer","fullLine")}else Et=new b(document.getElementById("codeBody").value)},children:(0,At.jsx)("i",{className:"fa-solid fa-forward-step"})}),(0,At.jsx)("button",{title:"Step BrainChild",onClick:function(){if(Et){for(var e in Mt){var t=Mt[e],n=t.session.getMarkers();if(n)for(var i=0,r=Object.keys(n);i<r.length;i++){var s=r[i];"codePointer"===n[+s].clazz&&t.session.removeMarker(n[+s].id)}}for(var o=Et.GetLine();Et.GetLine()===o&&Et.running;)Et.Step();if(Y.CURRENT.RenderBSMemory(Et),Mt[Et.GetFile()].session.addMarker(new C.Range(Et.GetLine(),0,Et.GetLine(),1),"codePointer","fullLine"),!It&&Et.Output.length>0){var a=document.getElementById("output")===document.activeElement;_t.WriteAll(Et.Output),Et.Output="";var l=_t.Render();window.requestAnimationFrame((function(){document.getElementById("output").innerHTML=l})),a&&document.getElementById("output").focus()}else It&&(document.getElementById("simpleIOOutput").textContent=Et.Output);!It&&Et.InputPointer>0&&(Et.Input=Et.Input.substr(Et.InputPointer),Et.InputPointer=0)}},children:(0,At.jsx)("i",{className:"fa-solid fa-forward-fast"})}),(0,At.jsx)("button",{title:"Restart Interpreter",onClick:function(){return r.apply(this,arguments)},children:(0,At.jsx)("i",{className:"fa-solid fa-clock-rotate-left"})}),(0,At.jsx)("span",{className:"buttonPadding"}),(0,At.jsx)("button",{title:"Terminal/Simple IO",onClick:qt,id:"simpleIOButton",children:(0,At.jsx)("i",{className:"fa-solid fa-terminal"})}),(0,At.jsx)("button",{title:"Copy Codegolf Answer",onClick:function(){var e=Mt["main.bc"].getValue(),t={};for(var n in Mt)n in Rt||(t[n]=Mt[n].getValue());var i=Ot(JSON.stringify(t)),r=new URL(window.location);if(r.searchParams.set("code",i),It?r.searchParams.set("simpleio",document.getElementById("simpleIOInput").value):r.searchParams.delete("simpleio"),Ne){var s=b.RenderHeapPlain(Vt).replace(/^/gm,"\t"),o=Vt.length,a="# [BrainChild ASM](https://github.com/tehflamintaco/brainlift), ".concat(o," byte").concat(1===o?"":"s","\n\n").concat(e.replace(/^/gm,"\t"),"\n\n## Hex-dump of bytecode\n\n").concat(s,"\n[Try It Online!](").concat(r,")");navigator.clipboard.writeText(a)}else{var l=(new TextEncoder).encode(e).length,c="# [BrainChild](https://github.com/tehflamintaco/brainlift), ".concat(l," byte").concat(1===l?"":"s","\n\n").concat(e.replace(/^/gm,"\t"),"\n\n[Try It Online!](").concat(r,")");navigator.clipboard.writeText(c)}},children:(0,At.jsx)("i",{className:"fa-solid fa-golf-ball-tee"})}),(0,At.jsx)("button",{title:"Copy CMC Answer",onClick:function(){var e=Mt["main.bc"].getValue(),t={};for(var n in Mt)n in Rt||(t[n]=Mt[n].getValue());var i=Ot(JSON.stringify(t)),r=new URL(window.location);if(r.searchParams.set("code",i),It?r.searchParams.set("simpleio",document.getElementById("simpleIOInput").value):r.searchParams.delete("simpleio"),Ne){var o=s(Vt).map((function(e){return e.toString(16).toUpperCase().padStart(2,"0")})).join(" "),a=Vt.length,l="[BrainChild ASM](https://github.com/tehflamintaco/brainlift), ".concat(a," byte").concat(1===a?"":"s",". [`").concat(o,"`](").concat(r,")");navigator.clipboard.writeText(l)}else{var c=(new TextEncoder).encode(e).length,u="[BrainChild](https://github.com/tehflamintaco/brainlift), ".concat(c," byte").concat(1===c?"":"s",". [`").concat(e,"`](").concat(r,")");navigator.clipboard.writeText(u)}},children:(0,At.jsx)("i",{className:"fa-solid fa-clipboard"})}),(0,At.jsx)("button",{title:"Download Bytecode",onClick:function(){if(Et){var e=Et.Heap,t=new Uint8Array(e),n=new Blob([t],{type:"application/octet-stream"}),i=URL.createObjectURL(n),r=document.createElement("a");r.href=i,r.download="bytecode.bc",document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(i),setTimeout((function(){document.body.removeChild(r)}),0)}},children:(0,At.jsx)("i",{className:"fa-solid fa-download"})})]}),(0,At.jsx)("pre",{id:"output",onClick:function(e){if(_t&&Et&&!It){var t=e.nativeEvent.offsetX/457.438*_t.Width|0,n=e.nativeEvent.offsetY/457.72*_t.Height|0;Ut(bt.Click,t,n)}},onKeyDown:function(e){_t&&Et&&!It&&Ut(bt.KeyDown,1===e.key.length?e.key.charCodeAt(0):0,e.keyCode)},onKeyUp:function(e){_t&&Et&&!It&&Ut(bt.KeyUp,1===e.key.length?e.key.charCodeAt(0):0,e.keyCode)},tabIndex:0})]})]}),(0,At.jsxs)("div",{id:"bf",children:[(0,At.jsxs)("div",{id:"editorButtons",children:[(0,At.jsx)("button",{onClick:Ht,"data-target":"main.bc",className:"active",children:"main.bc"}),(0,At.jsx)("button",{onClick:function(){new Jt},style:{order:2},children:(0,At.jsx)("i",{className:"fa-solid fa-plus"})})]}),(0,At.jsx)("div",{id:"memory",children:(0,At.jsxs)("div",{id:"tabBodies",children:[(0,At.jsx)("div",{"data-target":"baMemory",className:"tab"}),(0,At.jsx)("div",{"data-target":"baHeap",className:"tab"})]})}),(0,At.jsx)("div",{id:"code",children:(0,At.jsx)("pre",{id:"codeText",children:t})})]})]})}var nn=document.getElementById("root");(0,t.s)(nn).render((0,At.jsx)(e.StrictMode,{children:(0,At.jsx)(tn,{})}))}()}();
//# sourceMappingURL=main.ce56a30f.js.map